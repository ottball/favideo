!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e){if(!n)var n={map:function(t,e){var n={};return e?t.map((function(t,i){return n.index=i,e.call(n,t)})):t.slice()},naturalOrder:function(t,e){return t<e?-1:t>e?1:0},sum:function(t,e){var n={};return t.reduce(e?function(t,i,r){return n.index=r,t+e.call(n,i)}:function(t,e){return t+e},0)},max:function(t,e){return Math.max.apply(null,e?n.map(t,e):t)}};var i=function(){var t=5,e=8-t,i=1e3,r=.75;function o(e,n,i){return(e<<2*t)+(n<<t)+i}function a(t){var e=[],n=!1;function i(){e.sort(t),n=!0}return{push:function(t){e.push(t),n=!1},peek:function(t){return n||i(),void 0===t&&(t=e.length-1),e[t]},pop:function(){return n||i(),e.pop()},size:function(){return e.length},map:function(t){return e.map(t)},debug:function(){return n||i(),e}}}function u(t,e,n,i,r,o,a){this.r1=t,this.r2=e,this.g1=n,this.g2=i,this.b1=r,this.b2=o,this.histo=a}function s(){this.vboxes=new a((function(t,e){return n.naturalOrder(t.vbox.count()*t.vbox.volume(),e.vbox.count()*e.vbox.volume())}))}function c(t,e){if(e.count()){var i=e.r2-e.r1+1,r=e.g2-e.g1+1,a=e.b2-e.b1+1,u=n.max([i,r,a]);if(1==e.count())return[e.copy()];var s,c,f,h,l=0,v=[],d=[];if(u==i)for(s=e.r1;s<=e.r2;s++){for(h=0,c=e.g1;c<=e.g2;c++)for(f=e.b1;f<=e.b2;f++)h+=t[o(s,c,f)]||0;l+=h,v[s]=l}else if(u==r)for(s=e.g1;s<=e.g2;s++){for(h=0,c=e.r1;c<=e.r2;c++)for(f=e.b1;f<=e.b2;f++)h+=t[o(c,s,f)]||0;l+=h,v[s]=l}else for(s=e.b1;s<=e.b2;s++){for(h=0,c=e.r1;c<=e.r2;c++)for(f=e.g1;f<=e.g2;f++)h+=t[o(c,f,s)]||0;l+=h,v[s]=l}return v.forEach((function(t,e){d[e]=l-t})),p(u==i?"r":u==r?"g":"b")}function p(t){var n,i,r,o,a,u=t+"1",c=t+"2",f=0;for(s=e[u];s<=e[c];s++)if(v[s]>l/2){for(r=e.copy(),o=e.copy(),a=(n=s-e[u])<=(i=e[c]-s)?Math.min(e[c]-1,~~(s+i/2)):Math.max(e[u],~~(s-1-n/2));!v[a];)a++;for(f=d[a];!f&&v[a-1];)f=d[--a];return r[c]=a,o[u]=r[c]+1,[r,o]}}}return u.prototype={volume:function(t){return this._volume&&!t||(this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1)),this._volume},count:function(t){var e=this.histo;if(!this._count_set||t){var n,i,r,a=0;for(n=this.r1;n<=this.r2;n++)for(i=this.g1;i<=this.g2;i++)for(r=this.b1;r<=this.b2;r++)a+=e[o(n,i,r)]||0;this._count=a,this._count_set=!0}return this._count},copy:function(){return new u(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.histo)},avg:function(e){var n=this.histo;if(!this._avg||e){var i,r,a,u,s=0,c=1<<8-t,f=0,h=0,l=0;for(r=this.r1;r<=this.r2;r++)for(a=this.g1;a<=this.g2;a++)for(u=this.b1;u<=this.b2;u++)s+=i=n[o(r,a,u)]||0,f+=i*(r+.5)*c,h+=i*(a+.5)*c,l+=i*(u+.5)*c;this._avg=s?[~~(f/s),~~(h/s),~~(l/s)]:[~~(c*(this.r1+this.r2+1)/2),~~(c*(this.g1+this.g2+1)/2),~~(c*(this.b1+this.b2+1)/2)]}return this._avg},contains:function(t){var n=t[0]>>e;return gval=t[1]>>e,bval=t[2]>>e,n>=this.r1&&n<=this.r2&&gval>=this.g1&&gval<=this.g2&&bval>=this.b1&&bval<=this.b2}},s.prototype={push:function(t){this.vboxes.push({vbox:t,color:t.avg()})},palette:function(){return this.vboxes.map((function(t){return t.color}))},size:function(){return this.vboxes.size()},map:function(t){for(var e=this.vboxes,n=0;n<e.size();n++)if(e.peek(n).vbox.contains(t))return e.peek(n).color;return this.nearest(t)},nearest:function(t){for(var e,n,i,r=this.vboxes,o=0;o<r.size();o++)((n=Math.sqrt(Math.pow(t[0]-r.peek(o).color[0],2)+Math.pow(t[1]-r.peek(o).color[1],2)+Math.pow(t[2]-r.peek(o).color[2],2)))<e||void 0===e)&&(e=n,i=r.peek(o).color);return i},forcebw:function(){var t=this.vboxes;t.sort((function(t,e){return n.naturalOrder(n.sum(t.color),n.sum(e.color))}));var e=t[0].color;e[0]<5&&e[1]<5&&e[2]<5&&(t[0].color=[0,0,0]);var i=t.length-1,r=t[i].color;r[0]>251&&r[1]>251&&r[2]>251&&(t[i].color=[255,255,255])}},{quantize:function(f,h){if(!f.length||h<2||h>256)return!1;var l=function(n){var i,r,a,u,s=new Array(1<<3*t);return n.forEach((function(t){r=t[0]>>e,a=t[1]>>e,u=t[2]>>e,i=o(r,a,u),s[i]=(s[i]||0)+1})),s}(f);l.forEach((function(){0}));var v=function(t,n){var i,r,o,a=1e6,s=0,c=1e6,f=0,h=1e6,l=0;return t.forEach((function(t){i=t[0]>>e,r=t[1]>>e,o=t[2]>>e,i<a?a=i:i>s&&(s=i),r<c?c=r:r>f&&(f=r),o<h?h=o:o>l&&(l=o)})),new u(a,s,c,f,h,l,n)}(f,l),d=new a((function(t,e){return n.naturalOrder(t.count(),e.count())}));function p(t,e){for(var n,r=1,o=0;o<i;)if((n=t.pop()).count()){var a=c(l,n),u=a[0],s=a[1];if(!u)return;if(t.push(u),s&&(t.push(s),r++),r>=e)return;if(o++>i)return}else t.push(n),o++}d.push(v),p(d,r*h);for(var g=new a((function(t,e){return n.naturalOrder(t.count()*t.volume(),e.count()*e.volume())}));d.size();)g.push(d.pop());p(g,h-g.size());for(var b=new s;g.size();)b.push(g.pop());return b}}}();t.exports=i.quantize},function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n.r(e);var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=this.getExistingFavicon();n?(this.originalHref=n.href,this.node=n):this.node=this.create()}var e,n,r;return e=t,(n=[{key:"getExistingFavicon",value:function(){return document.querySelector('link[rel="shortcut icon"]')}},{key:"create",value:function(){var t=document.createElement("link");return t.type="image/x-icon",t.rel="shortcut icon",document.getElementsByTagName("head")[0].appendChild(t),t}},{key:"update",value:function(t){this.href=t}},{key:"restoreDefault",value:function(){this.originalHref&&this.update(this.originalHref)}},{key:"href",set:function(t){this.node.href=t},get:function(){return this.node.href}},{key:"size",set:function(t){this.size_=t,this.node.sizes=t+"x"+t},get:function(){return this.size_}}])&&i(e.prototype,n),r&&i(e,r),t}();function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=document.createElement("canvas"),this.ctx_=this.canvas.getContext("2d")}var e,n,i;return e=t,(n=[{key:"node",get:function(){return this.canvas}},{key:"ctx",get:function(){return this.ctx_}},{key:"width",get:function(){return this.node.width},set:function(t){this.node.width=t}},{key:"height",get:function(){return this.node.width},set:function(t){this.node.height=t}}])&&o(e.prototype,n),i&&o(e,i),t}();function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s=function(){function t(e,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.input=e,this.mode=n,this.favicon=new r,this.favicon.size=i,this.faviconCanvas=new a,this.videoEventListeners=[],this.enable()}var e,n,i;return e=t,(n=[{key:"update",value:function(){var t=this.mode.getFaviconFrame(this.input,this.faviconCanvas.node,this.faviconCanvas.ctx,this.favicon);t&&this.favicon.update(t)}},{key:"enable",value:function(){this.mode.registerUpdateEvent(this)}},{key:"disable",value:function(){this.unregisterVideoEvents(),this.mode.disable()}},{key:"registerVideoEvent",value:function(t,e){this.videoEventListeners.push({event:t,func:e}),this.input.video.addEventListener(t,e)}},{key:"unregisterVideoEvents",value:function(){for(var t=0;t<this.videoEventListeners.length;t++){var e=this.videoEventListeners[t];this.input.video.removeEventListener(e.event,e.func)}}}])&&u(e.prototype,n),i&&u(e,i),t}();var c=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)};function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=l(this,v(e).call(this))).respectAspectRatio=t,i.fps=n,i.videoInCanvasSettings={dx:0,dy:0,dWidth:0,dHeight:0},i}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,t),n=e,(i=[{key:"getFaviconFrame",value:function(t,e,n){return this.respectAspectRatio?n.drawImage(t.getSource(),this.videoInCanvasSettings.dx,this.videoInCanvasSettings.dy,this.videoInCanvasSettings.dWidth,this.videoInCanvasSettings.dHeight):n.drawImage(t.getSource(),0,0,e.width,e.height),e.toDataURL()}},{key:"getVideoInFaviconFit",value:function(t,e,n){var i=e/(t/n);return{width:n,height:i,offset:(n-i)/2}}},{key:"calculateAndSetVideoInCanvasProfile",value:function(t,e){var n,i=t.videoWidth,r=t.videoHeight;i>r?(n=this.getVideoInFaviconFit(i,r,e),this.videoInCanvasSettings.dx=0,this.videoInCanvasSettings.dy=n.offset,this.videoInCanvasSettings.dWidth=n.width,this.videoInCanvasSettings.dHeight=n.height):(n=this.getVideoInFaviconFit(r,i,e),this.videoInCanvasSettings.dx=n.offset,this.videoInCanvasSettings.dy=0,this.videoInCanvasSettings.dWidth=n.height,this.videoInCanvasSettings.dHeight=n.width)}},{key:"loadedmetadataHandler",value:function(){var t=0,e=0;this.mode.respectAspectRatio?(this.mode.calculateAndSetVideoInCanvasProfile(this.input.video,this.favicon.size),t=this.favicon.size,e=this.favicon.size):(t=this.input.video.videoWidth,e=this.input.video.videoHeight),this.faviconCanvas.width=t,this.faviconCanvas.height=e}},{key:"registerUpdateEvent",value:function(t){t.registerVideoEvent("loadedmetadata",this.loadedmetadataHandler.bind(t)),this.fps?this.interval=setInterval(t.update.bind(t),1e3/this.fps):t.registerVideoEvent("timeupdate",t.update.bind(t))}},{key:"disable",value:function(){clearTimeout(this.interval)}}])&&h(n.prototype,i),r&&h(n,r),e}(c);function g(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var b=n(0),y=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,i=[{key:"getAverageColor",value:function(e,n){for(var i=n.getImageData(0,0,e.width,e.height).data,r={r:0,g:0,b:0,a:0},o=i.length/4,a=0;a<i.length;a+=4)r.r=r.r+i[a],r.g=r.g+i[a+1],r.b=r.b+i[a+2],r.a=r.a+i[a+3];var u={r:r.r/o,g:r.g/o,b:r.b/o,a:r.a/o};return t.getRgbaCssString(u)}},{key:"createPixelArray",value:function(t,e){for(var n,i,r,o,a,u=t,s=[],c=0;c<e;c++)i=u[0+(n=4*c)],r=u[n+1],o=u[n+2],(void 0===(a=u[n+3])||a>=125)&&(i>250&&r>250&&o>250||s.push([i,r,o]));return s}},{key:"getDominantColor",value:function(e,n){var i=n.getImageData(0,0,e.width,e.height),r=e.width*e.height,o=t.createPixelArray(i.data,r),a=b(o,4),u=a?a.palette():null;return t.getRgbaCssStringByArray(u[0])}},{key:"getRgbaCssString",value:function(t){return"rgba("+t.r+","+t.g+","+t.b+","+t.a+")"}},{key:"getRgbaCssStringByArray",value:function(t){return"rgba("+t[0]+","+t[1]+","+t[2]+",255)"}}],(n=null)&&g(e.prototype,n),i&&g(e,i),t}();function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function C(t,e){return!e||"object"!==m(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var x=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=C(this,k(e).call(this))).fps=t,i.colorType=n,i}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}(e,t),n=e,(i=[{key:"getFaviconFrame",value:function(t,e,n,i){var r=document.createElement("canvas");r.width=t.video.videoWidth,r.height=t.video.videoHeight;var o=r.getContext("2d");o.drawImage(t.getSource(),0,0,r.width,r.height);var a=this.getColor(r,o);return n.clearRect(0,0,e.width,e.height),this.drawObject(a,n,i.size),e.toDataURL()}},{key:"getColor",value:function(t,e){switch(this.colorType){case"average":return y.getAverageColor(t,e);case"dominant":return y.getDominantColor(t,e)}}},{key:"drawObject",value:function(t,e,n){this.drawPlayObject(t,e,n)}},{key:"drawPlayObject",value:function(t,e,n){e.fillStyle=t,e.beginPath(),e.moveTo(0,0),e.lineTo(0,n),e.lineTo(n,n/2),e.fill()}},{key:"loadedmetadataHandler",value:function(){var t=this.favicon.size,e=this.favicon.size;this.faviconCanvas.width=t,this.faviconCanvas.height=e}},{key:"restoreOriginalFavicon",value:function(){this.favicon.restoreDefault()}},{key:"registerUpdateEvent",value:function(t){t.registerVideoEvent("loadedmetadata",this.loadedmetadataHandler.bind(t)),t.registerVideoEvent("pause",this.restoreOriginalFavicon.bind(t)),t.registerVideoEvent("ended",this.restoreOriginalFavicon.bind(t)),this.fps?this.interval=setInterval(t.update.bind(t),1e3/this.fps):t.registerVideoEvent("timeupdate",t.update.bind(t))}},{key:"disable",value:function(){clearTimeout(this.interval)}}])&&w(n.prototype,i),r&&w(n,r),e}(c);function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _(t,e){return!e||"object"!==E(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var I=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=_(this,j(e).call(this))).fps=t,i.colorType=n,i}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(e,t),n=e,(i=[{key:"setFavicon",value:function(t){var e=this,n=document.createElement("img");n.addEventListener("load",function(){var t=document.createElement("canvas");t.width=n.naturalWidth,t.height=n.naturalWidth;var i=t.getContext("2d");i.drawImage(n,0,0),e.faviconCanvasCtx=i,e.faviconCanvas=t}.bind(this)),n.src=t.href}},{key:"getFaviconFrame",value:function(t,e,n,i){this.faviconCanvasCtx||this.setFavicon(i);var r=document.createElement("canvas");r.width=t.video.videoWidth,r.height=t.video.videoHeight;var o=r.getContext("2d");o.drawImage(t.getSource(),0,0,r.width,r.height);var a=this.getColor(r,o);return this.faviconCanvasCtx?(this.faviconCanvasCtx.globalCompositeOperation="source-in",this.faviconCanvasCtx.fillStyle=a,this.faviconCanvasCtx.fillRect(0,0,this.faviconCanvas.width,this.faviconCanvas.height),this.faviconCanvasCtx.fill(),this.faviconCanvas.toDataURL()):null}},{key:"getColor",value:function(t,e){switch(this.colorType){case"average":return y.getAverageColor(t,e);case"dominant":return y.getDominantColor(t,e)}}},{key:"loadedmetadataHandler",value:function(){var t=this.favicon.size,e=this.favicon.size;this.faviconCanvas.width=t,this.faviconCanvas.height=e}},{key:"restoreOriginalFavicon",value:function(){this.favicon.restoreDefault()}},{key:"registerUpdateEvent",value:function(t){t.registerVideoEvent("loadedmetadata",this.loadedmetadataHandler.bind(t)),t.registerVideoEvent("pause",this.restoreOriginalFavicon.bind(t)),t.registerVideoEvent("ended",this.restoreOriginalFavicon.bind(t)),this.fps?this.interval=setInterval(t.update.bind(t),1e3/this.fps):t.registerVideoEvent("timeupdate",t.update.bind(t))}},{key:"disable",value:function(){clearTimeout(this.interval)}}])&&S(n.prototype,i),r&&S(n,r),e}(c);function F(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var T=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.video=e}var e,n,i;return e=t,(n=[{key:"getSource",value:function(){return this.video}}])&&F(e.prototype,n),i&&F(e,i),t}();window.Favideo=s,window.VideoMode=p,window.PlayIconMode=x,window.RecolorMode=I,window.VideoInput=T}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3F1YW50aXplL3F1YW50aXplLmpzIiwid2VicGFjazovLy8uL3NyYy9VdGlsL0Zhdmljb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1V0aWwvQ2FudmFzLmpzIiwid2VicGFjazovLy8uL3NyYy9GYXZpZGVvL0ZhdmlkZW8uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0ZhdmlkZW8vRmF2aWRlb01vZGUvRmF2aWRlb01vZGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0ZhdmlkZW8vRmF2aWRlb01vZGUvVmlkZW9Nb2RlLmpzIiwid2VicGFjazovLy8uL3NyYy9VdGlsL0NvbG9yLmpzIiwid2VicGFjazovLy8uL3NyYy9GYXZpZGVvL0ZhdmlkZW9Nb2RlL1BsYXlJY29uTW9kZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvRmF2aWRlby9GYXZpZGVvTW9kZS9SZWNvbG9yTW9kZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvRmF2aWRlby9GYXZpZGVvSW5wdXQvVmlkZW9JbnB1dC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJwdiIsIm1hcCIsImFycmF5IiwiZiIsImluZGV4Iiwic2xpY2UiLCJuYXR1cmFsT3JkZXIiLCJhIiwiYiIsInN1bSIsInJlZHVjZSIsIm1heCIsIk1hdGgiLCJhcHBseSIsIk1NQ1EiLCJzaWdiaXRzIiwicnNoaWZ0IiwibWF4SXRlcmF0aW9ucyIsImZyYWN0QnlQb3B1bGF0aW9ucyIsImdldENvbG9ySW5kZXgiLCJnIiwiUFF1ZXVlIiwiY29tcGFyYXRvciIsImNvbnRlbnRzIiwic29ydGVkIiwic29ydCIsInB1c2giLCJwZWVrIiwidW5kZWZpbmVkIiwibGVuZ3RoIiwicG9wIiwic2l6ZSIsImRlYnVnIiwiVkJveCIsInIxIiwicjIiLCJnMSIsImcyIiwiYjEiLCJiMiIsImhpc3RvIiwidGhpcyIsIkNNYXAiLCJ2Ym94ZXMiLCJ2Ym94IiwiY291bnQiLCJ2b2x1bWUiLCJtZWRpYW5DdXRBcHBseSIsInJ3IiwiZ3ciLCJidyIsIm1heHciLCJjb3B5IiwiaiIsImsiLCJ0b3RhbCIsInBhcnRpYWxzdW0iLCJsb29rYWhlYWRzdW0iLCJmb3JFYWNoIiwiZG9DdXQiLCJjb2xvciIsImxlZnQiLCJyaWdodCIsInZib3gxIiwidmJveDIiLCJkMiIsImRpbTEiLCJkaW0yIiwiY291bnQyIiwibWluIiwiZm9yY2UiLCJfdm9sdW1lIiwiX2NvdW50X3NldCIsIm5waXgiLCJfY291bnQiLCJhdmciLCJfYXZnIiwiaHZhbCIsIm50b3QiLCJtdWx0IiwicnN1bSIsImdzdW0iLCJic3VtIiwiY29udGFpbnMiLCJwaXhlbCIsInJ2YWwiLCJndmFsIiwiYnZhbCIsInBhbGV0dGUiLCJ2YiIsIm5lYXJlc3QiLCJkMSIsInBDb2xvciIsInNxcnQiLCJwb3ciLCJmb3JjZWJ3IiwibG93ZXN0IiwiaWR4IiwiaGlnaGVzdCIsInF1YW50aXplIiwicGl4ZWxzIiwibWF4Y29sb3JzIiwiQXJyYXkiLCJnZXRIaXN0byIsIm5Db2xvcnMiLCJybWluIiwicm1heCIsImdtaW4iLCJnbWF4IiwiYm1pbiIsImJtYXgiLCJ2Ym94RnJvbVBpeGVscyIsInBxIiwiaXRlciIsImxoIiwidGFyZ2V0IiwibmNvbG9ycyIsIm5pdGVycyIsInBxMiIsImNtYXAiLCJGYXZpY29uIiwiZmF2aWNvbiIsImV4aXN0aW5nRmF2aWNvbiIsImdldEV4aXN0aW5nRmF2aWNvbiIsIm9yaWdpbmFsSHJlZiIsImhyZWYiLCJub2RlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibGluayIsImNyZWF0ZUVsZW1lbnQiLCJ0eXBlIiwicmVsIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJhcHBlbmRDaGlsZCIsInVybCIsInVwZGF0ZSIsInNpemVfIiwic2l6ZXMiLCJDYW52YXMiLCJjYW52YXMiLCJjdHhfIiwiZ2V0Q29udGV4dCIsIndpZHRoIiwiaGVpZ2h0IiwiRmF2aWRlbyIsImlucHV0IiwiZmF2aWNvblNpemUiLCJmYXZpY29uQ2FudmFzIiwidmlkZW9FdmVudExpc3RlbmVycyIsImVuYWJsZSIsImZyYW1lVXJsIiwiZ2V0RmF2aWNvbkZyYW1lIiwiY3R4IiwicmVnaXN0ZXJVcGRhdGVFdmVudCIsInVucmVnaXN0ZXJWaWRlb0V2ZW50cyIsImRpc2FibGUiLCJldmVudCIsImZ1bmMiLCJ2aWRlbyIsImFkZEV2ZW50TGlzdGVuZXIiLCJ2ZWwiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiRmF2aWRlb01vZGUiLCJWaWRlb01vZGUiLCJyZXNwZWN0QXNwZWN0UmF0aW8iLCJmcHMiLCJ2aWRlb0luQ2FudmFzU2V0dGluZ3MiLCJkeCIsImR5IiwiZFdpZHRoIiwiZEhlaWdodCIsImNhbnZhc0N0eCIsImRyYXdJbWFnZSIsImdldFNvdXJjZSIsInRvRGF0YVVSTCIsImZsIiwiYXZfaCIsIm9mZnNldCIsInZpZGVvRml0Iiwidl93IiwidmlkZW9XaWR0aCIsInZfaCIsInZpZGVvSGVpZ2h0IiwiZ2V0VmlkZW9JbkZhdmljb25GaXQiLCJjYW52YXNXaWR0aCIsImNhbnZhc0hlaWdodCIsImNhbGN1bGF0ZUFuZFNldFZpZGVvSW5DYW52YXNQcm9maWxlIiwiZmF2aWRlbyIsInJlZ2lzdGVyVmlkZW9FdmVudCIsImxvYWRlZG1ldGFkYXRhSGFuZGxlciIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhclRpbWVvdXQiLCJyZXF1aXJlIiwiQ29sb3IiLCJpbWFnZURhdGEiLCJnZXRJbWFnZURhdGEiLCJkYXRhIiwidG90YWxSZ2JhIiwibmJPZlBpeGVscyIsImF2Z1JnYmEiLCJnZXRSZ2JhQ3NzU3RyaW5nIiwiaW1nRGF0YSIsInBpeGVsQ291bnQiLCJwaXhlbEFycmF5IiwiY3JlYXRlUGl4ZWxBcnJheSIsImdldFJnYmFDc3NTdHJpbmdCeUFycmF5IiwicmdiYSIsImFyciIsIlBsYXlJY29uTW9kZSIsImNvbG9yVHlwZSIsImNhbnZhczIiLCJjYW52YXNDdHgyIiwicGl4ZWxDb2xvciIsImdldENvbG9yIiwiY2xlYXJSZWN0IiwiZHJhd09iamVjdCIsImdldEF2ZXJhZ2VDb2xvciIsImdldERvbWluYW50Q29sb3IiLCJkcmF3UGxheU9iamVjdCIsImZpbGxTdHlsZSIsImJlZ2luUGF0aCIsIm1vdmVUbyIsImxpbmVUbyIsImZpbGwiLCJyZXN0b3JlRGVmYXVsdCIsInJlc3RvcmVPcmlnaW5hbEZhdmljb24iLCJSZWNvbG9yTW9kZSIsImltZyIsIm5hdHVyYWxXaWR0aCIsImNvbnRleHQiLCJmYXZpY29uQ2FudmFzQ3R4Iiwic3JjIiwic2V0RmF2aWNvbiIsImdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiIsImZpbGxSZWN0IiwiVmlkZW9JbnB1dCIsIndpbmRvdyJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZG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LEtBQUtzSixlLDJCQXBHMUIsR0FBaUM1QixHLHNLQ0gxQixJQUFNMEUsRUFBYixXQUNJLFdBQVk5RSxJLDRGQUFPLFNBQ2Z0SCxLQUFLc0gsTUFBUUEsRSxVQUZyQixPLEVBQUEsRyxFQUFBLG1DQUtRLE9BQU90SCxLQUFLc0gsVywyQkFMcEIsS0NNQStFLE9BQU83RixRQUFVQSxFQUNqQjZGLE9BQU8xRSxVQUFZQSxFQUNuQjBFLE9BQU81QixhQUFlQSxFQUN0QjRCLE9BQU9WLFlBQWNBLEVBQ3JCVSxPQUFPRCxXQUFhQSIsImZpbGUiOiJmYXZpY29uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEpO1xuIiwiLypcbiAqIHF1YW50aXplLmpzIENvcHlyaWdodCAyMDA4IE5pY2sgUmFiaW5vd2l0elxuICogUG9ydGVkIHRvIG5vZGUuanMgYnkgT2xpdmllciBMZXNuaWNraVxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlOiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICovXG5cbi8vIGZpbGwgb3V0IGEgY291cGxlIHByb3RvdmlzIGRlcGVuZGVuY2llc1xuLypcbiAqIEJsb2NrIGJlbG93IGNvcGllZCBmcm9tIFByb3RvdmlzOiBodHRwOi8vbWJvc3RvY2suZ2l0aHViLmNvbS9wcm90b3Zpcy9cbiAqIENvcHlyaWdodCAyMDEwIFN0YW5mb3JkIFZpc3VhbGl6YXRpb24gR3JvdXBcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBCU0QgTGljZW5zZTogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9ic2QtbGljZW5zZS5waHBcbiAqL1xuaWYgKCFwdikge1xuICAgIHZhciBwdiA9IHtcbiAgICAgICAgbWFwOiBmdW5jdGlvbihhcnJheSwgZikge1xuICAgICAgICAgICAgdmFyIG8gPSB7fTtcbiAgICAgICAgICAgIHJldHVybiBmID8gYXJyYXkubWFwKGZ1bmN0aW9uKGQsIGkpIHtcbiAgICAgICAgICAgICAgICBvLmluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZi5jYWxsKG8sIGQpO1xuICAgICAgICAgICAgfSkgOiBhcnJheS5zbGljZSgpO1xuICAgICAgICB9LFxuICAgICAgICBuYXR1cmFsT3JkZXI6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiAoYSA8IGIpID8gLTEgOiAoKGEgPiBiKSA/IDEgOiAwKTtcbiAgICAgICAgfSxcbiAgICAgICAgc3VtOiBmdW5jdGlvbihhcnJheSwgZikge1xuICAgICAgICAgICAgdmFyIG8gPSB7fTtcbiAgICAgICAgICAgIHJldHVybiBhcnJheS5yZWR1Y2UoZiA/IGZ1bmN0aW9uKHAsIGQsIGkpIHtcbiAgICAgICAgICAgICAgICBvLmluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcCArIGYuY2FsbChvLCBkKTtcbiAgICAgICAgICAgIH0gOiBmdW5jdGlvbihwLCBkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHAgKyBkO1xuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgIH0sXG4gICAgICAgIG1heDogZnVuY3Rpb24oYXJyYXksIGYpIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1heC5hcHBseShudWxsLCBmID8gcHYubWFwKGFycmF5LCBmKSA6IGFycmF5KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBCYXNpYyBKYXZhc2NyaXB0IHBvcnQgb2YgdGhlIE1NQ1EgKG1vZGlmaWVkIG1lZGlhbiBjdXQgcXVhbnRpemF0aW9uKVxuICogYWxnb3JpdGhtIGZyb20gdGhlIExlcHRvbmljYSBsaWJyYXJ5IChodHRwOi8vd3d3LmxlcHRvbmljYS5jb20vKS5cbiAqIFJldHVybnMgYSBjb2xvciBtYXAgeW91IGNhbiB1c2UgdG8gbWFwIG9yaWdpbmFsIHBpeGVscyB0byB0aGUgcmVkdWNlZFxuICogcGFsZXR0ZS4gU3RpbGwgYSB3b3JrIGluIHByb2dyZXNzLlxuICogXG4gKiBAYXV0aG9yIE5pY2sgUmFiaW5vd2l0elxuICogQGV4YW1wbGVcbiBcbi8vIGFycmF5IG9mIHBpeGVscyBhcyBbUixHLEJdIGFycmF5c1xudmFyIG15UGl4ZWxzID0gW1sxOTAsMTk3LDE5MF0sIFsyMDIsMjA0LDIwMF0sIFsyMDcsMjE0LDIxMF0sIFsyMTEsMjE0LDIxMV0sIFsyMDUsMjA3LDIwN11cbiAgICAgICAgICAgICAgICAvLyBldGNcbiAgICAgICAgICAgICAgICBdO1xudmFyIG1heENvbG9ycyA9IDQ7XG4gXG52YXIgY21hcCA9IE1NQ1EucXVhbnRpemUobXlQaXhlbHMsIG1heENvbG9ycyk7XG52YXIgbmV3UGFsZXR0ZSA9IGNtYXAucGFsZXR0ZSgpO1xudmFyIG5ld1BpeGVscyA9IG15UGl4ZWxzLm1hcChmdW5jdGlvbihwKSB7IFxuICAgIHJldHVybiBjbWFwLm1hcChwKTsgXG59KTtcbiBcbiAqL1xudmFyIE1NQ1EgPSAoZnVuY3Rpb24oKSB7XG4gICAgLy8gcHJpdmF0ZSBjb25zdGFudHNcbiAgICB2YXIgc2lnYml0cyA9IDUsXG4gICAgICAgIHJzaGlmdCA9IDggLSBzaWdiaXRzLFxuICAgICAgICBtYXhJdGVyYXRpb25zID0gMTAwMCxcbiAgICAgICAgZnJhY3RCeVBvcHVsYXRpb25zID0gMC43NTtcblxuICAgIC8vIGdldCByZWR1Y2VkLXNwYWNlIGNvbG9yIGluZGV4IGZvciBhIHBpeGVsXG5cbiAgICBmdW5jdGlvbiBnZXRDb2xvckluZGV4KHIsIGcsIGIpIHtcbiAgICAgICAgcmV0dXJuIChyIDw8ICgyICogc2lnYml0cykpICsgKGcgPDwgc2lnYml0cykgKyBiO1xuICAgIH1cblxuICAgIC8vIFNpbXBsZSBwcmlvcml0eSBxdWV1ZVxuXG4gICAgZnVuY3Rpb24gUFF1ZXVlKGNvbXBhcmF0b3IpIHtcbiAgICAgICAgdmFyIGNvbnRlbnRzID0gW10sXG4gICAgICAgICAgICBzb3J0ZWQgPSBmYWxzZTtcblxuICAgICAgICBmdW5jdGlvbiBzb3J0KCkge1xuICAgICAgICAgICAgY29udGVudHMuc29ydChjb21wYXJhdG9yKTtcbiAgICAgICAgICAgIHNvcnRlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcHVzaDogZnVuY3Rpb24obykge1xuICAgICAgICAgICAgICAgIGNvbnRlbnRzLnB1c2gobyk7XG4gICAgICAgICAgICAgICAgc29ydGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGVlazogZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNvcnRlZCkgc29ydCgpO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gdW5kZWZpbmVkKSBpbmRleCA9IGNvbnRlbnRzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnRzW2luZGV4XTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwb3A6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICghc29ydGVkKSBzb3J0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnRzLnBvcCgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb250ZW50cy5sZW5ndGg7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbWFwOiBmdW5jdGlvbihmKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnRzLm1hcChmKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWJ1ZzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzb3J0ZWQpIHNvcnQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGVudHM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gM2QgY29sb3Igc3BhY2UgYm94XG5cbiAgICBmdW5jdGlvbiBWQm94KHIxLCByMiwgZzEsIGcyLCBiMSwgYjIsIGhpc3RvKSB7XG4gICAgICAgIHZhciB2Ym94ID0gdGhpcztcbiAgICAgICAgdmJveC5yMSA9IHIxO1xuICAgICAgICB2Ym94LnIyID0gcjI7XG4gICAgICAgIHZib3guZzEgPSBnMTtcbiAgICAgICAgdmJveC5nMiA9IGcyO1xuICAgICAgICB2Ym94LmIxID0gYjE7XG4gICAgICAgIHZib3guYjIgPSBiMjtcbiAgICAgICAgdmJveC5oaXN0byA9IGhpc3RvO1xuICAgIH1cbiAgICBWQm94LnByb3RvdHlwZSA9IHtcbiAgICAgICAgdm9sdW1lOiBmdW5jdGlvbihmb3JjZSkge1xuICAgICAgICAgICAgdmFyIHZib3ggPSB0aGlzO1xuICAgICAgICAgICAgaWYgKCF2Ym94Ll92b2x1bWUgfHwgZm9yY2UpIHtcbiAgICAgICAgICAgICAgICB2Ym94Ll92b2x1bWUgPSAoKHZib3gucjIgLSB2Ym94LnIxICsgMSkgKiAodmJveC5nMiAtIHZib3guZzEgKyAxKSAqICh2Ym94LmIyIC0gdmJveC5iMSArIDEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2Ym94Ll92b2x1bWU7XG4gICAgICAgIH0sXG4gICAgICAgIGNvdW50OiBmdW5jdGlvbihmb3JjZSkge1xuICAgICAgICAgICAgdmFyIHZib3ggPSB0aGlzLFxuICAgICAgICAgICAgICAgIGhpc3RvID0gdmJveC5oaXN0bztcbiAgICAgICAgICAgIGlmICghdmJveC5fY291bnRfc2V0IHx8IGZvcmNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5waXggPSAwLFxuICAgICAgICAgICAgICAgICAgICBpLCBqLCBrLCBpbmRleDtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSB2Ym94LnIxOyBpIDw9IHZib3gucjI7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGogPSB2Ym94LmcxOyBqIDw9IHZib3guZzI7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChrID0gdmJveC5iMTsgayA8PSB2Ym94LmIyOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGdldENvbG9ySW5kZXgoaSwgaiwgayk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbnBpeCArPSAoaGlzdG9baW5kZXhdIHx8IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZib3guX2NvdW50ID0gbnBpeDtcbiAgICAgICAgICAgICAgICB2Ym94Ll9jb3VudF9zZXQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZib3guX2NvdW50O1xuICAgICAgICB9LFxuICAgICAgICBjb3B5OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB2Ym94ID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBuZXcgVkJveCh2Ym94LnIxLCB2Ym94LnIyLCB2Ym94LmcxLCB2Ym94LmcyLCB2Ym94LmIxLCB2Ym94LmIyLCB2Ym94Lmhpc3RvKTtcbiAgICAgICAgfSxcbiAgICAgICAgYXZnOiBmdW5jdGlvbihmb3JjZSkge1xuICAgICAgICAgICAgdmFyIHZib3ggPSB0aGlzLFxuICAgICAgICAgICAgICAgIGhpc3RvID0gdmJveC5oaXN0bztcbiAgICAgICAgICAgIGlmICghdmJveC5fYXZnIHx8IGZvcmNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIG50b3QgPSAwLFxuICAgICAgICAgICAgICAgICAgICBtdWx0ID0gMSA8PCAoOCAtIHNpZ2JpdHMpLFxuICAgICAgICAgICAgICAgICAgICByc3VtID0gMCxcbiAgICAgICAgICAgICAgICAgICAgZ3N1bSA9IDAsXG4gICAgICAgICAgICAgICAgICAgIGJzdW0gPSAwLFxuICAgICAgICAgICAgICAgICAgICBodmFsLFxuICAgICAgICAgICAgICAgICAgICBpLCBqLCBrLCBoaXN0b2luZGV4O1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IHZib3gucjE7IGkgPD0gdmJveC5yMjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IHZib3guZzE7IGogPD0gdmJveC5nMjsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGsgPSB2Ym94LmIxOyBrIDw9IHZib3guYjI7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpc3RvaW5kZXggPSBnZXRDb2xvckluZGV4KGksIGosIGspO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh2YWwgPSBoaXN0b1toaXN0b2luZGV4XSB8fCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG50b3QgKz0gaHZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByc3VtICs9IChodmFsICogKGkgKyAwLjUpICogbXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3N1bSArPSAoaHZhbCAqIChqICsgMC41KSAqIG11bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJzdW0gKz0gKGh2YWwgKiAoayArIDAuNSkgKiBtdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobnRvdCkge1xuICAgICAgICAgICAgICAgICAgICB2Ym94Ll9hdmcgPSBbfn4ocnN1bSAvIG50b3QpLCB+fiAoZ3N1bSAvIG50b3QpLCB+fiAoYnN1bSAvIG50b3QpXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdlbXB0eSBib3gnKTtcbiAgICAgICAgICAgICAgICAgICAgdmJveC5fYXZnID0gW35+KG11bHQgKiAodmJveC5yMSArIHZib3gucjIgKyAxKSAvIDIpLCB+fiAobXVsdCAqICh2Ym94LmcxICsgdmJveC5nMiArIDEpIC8gMiksIH5+IChtdWx0ICogKHZib3guYjEgKyB2Ym94LmIyICsgMSkgLyAyKV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZib3guX2F2ZztcbiAgICAgICAgfSxcbiAgICAgICAgY29udGFpbnM6IGZ1bmN0aW9uKHBpeGVsKSB7XG4gICAgICAgICAgICB2YXIgdmJveCA9IHRoaXMsXG4gICAgICAgICAgICAgICAgcnZhbCA9IHBpeGVsWzBdID4+IHJzaGlmdDtcbiAgICAgICAgICAgIGd2YWwgPSBwaXhlbFsxXSA+PiByc2hpZnQ7XG4gICAgICAgICAgICBidmFsID0gcGl4ZWxbMl0gPj4gcnNoaWZ0O1xuICAgICAgICAgICAgcmV0dXJuIChydmFsID49IHZib3gucjEgJiYgcnZhbCA8PSB2Ym94LnIyICYmXG4gICAgICAgICAgICAgICAgZ3ZhbCA+PSB2Ym94LmcxICYmIGd2YWwgPD0gdmJveC5nMiAmJlxuICAgICAgICAgICAgICAgIGJ2YWwgPj0gdmJveC5iMSAmJiBidmFsIDw9IHZib3guYjIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIENvbG9yIG1hcFxuXG4gICAgZnVuY3Rpb24gQ01hcCgpIHtcbiAgICAgICAgdGhpcy52Ym94ZXMgPSBuZXcgUFF1ZXVlKGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBwdi5uYXR1cmFsT3JkZXIoXG4gICAgICAgICAgICAgICAgYS52Ym94LmNvdW50KCkgKiBhLnZib3gudm9sdW1lKCksXG4gICAgICAgICAgICAgICAgYi52Ym94LmNvdW50KCkgKiBiLnZib3gudm9sdW1lKClcbiAgICAgICAgICAgIClcbiAgICAgICAgfSk7O1xuICAgIH1cbiAgICBDTWFwLnByb3RvdHlwZSA9IHtcbiAgICAgICAgcHVzaDogZnVuY3Rpb24odmJveCkge1xuICAgICAgICAgICAgdGhpcy52Ym94ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgdmJveDogdmJveCxcbiAgICAgICAgICAgICAgICBjb2xvcjogdmJveC5hdmcoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHBhbGV0dGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmJveGVzLm1hcChmdW5jdGlvbih2Yikge1xuICAgICAgICAgICAgICAgIHJldHVybiB2Yi5jb2xvclxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmJveGVzLnNpemUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgbWFwOiBmdW5jdGlvbihjb2xvcikge1xuICAgICAgICAgICAgdmFyIHZib3hlcyA9IHRoaXMudmJveGVzO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2Ym94ZXMuc2l6ZSgpOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAodmJveGVzLnBlZWsoaSkudmJveC5jb250YWlucyhjb2xvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZib3hlcy5wZWVrKGkpLmNvbG9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLm5lYXJlc3QoY29sb3IpO1xuICAgICAgICB9LFxuICAgICAgICBuZWFyZXN0OiBmdW5jdGlvbihjb2xvcikge1xuICAgICAgICAgICAgdmFyIHZib3hlcyA9IHRoaXMudmJveGVzLFxuICAgICAgICAgICAgICAgIGQxLCBkMiwgcENvbG9yO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2Ym94ZXMuc2l6ZSgpOyBpKyspIHtcbiAgICAgICAgICAgICAgICBkMiA9IE1hdGguc3FydChcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5wb3coY29sb3JbMF0gLSB2Ym94ZXMucGVlayhpKS5jb2xvclswXSwgMikgK1xuICAgICAgICAgICAgICAgICAgICBNYXRoLnBvdyhjb2xvclsxXSAtIHZib3hlcy5wZWVrKGkpLmNvbG9yWzFdLCAyKSArXG4gICAgICAgICAgICAgICAgICAgIE1hdGgucG93KGNvbG9yWzJdIC0gdmJveGVzLnBlZWsoaSkuY29sb3JbMl0sIDIpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBpZiAoZDIgPCBkMSB8fCBkMSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGQxID0gZDI7XG4gICAgICAgICAgICAgICAgICAgIHBDb2xvciA9IHZib3hlcy5wZWVrKGkpLmNvbG9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwQ29sb3I7XG4gICAgICAgIH0sXG4gICAgICAgIGZvcmNlYnc6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gWFhYOiB3b24ndCAgd29yayB5ZXRcbiAgICAgICAgICAgIHZhciB2Ym94ZXMgPSB0aGlzLnZib3hlcztcbiAgICAgICAgICAgIHZib3hlcy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHYubmF0dXJhbE9yZGVyKHB2LnN1bShhLmNvbG9yKSwgcHYuc3VtKGIuY29sb3IpKVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIGZvcmNlIGRhcmtlc3QgY29sb3IgdG8gYmxhY2sgaWYgZXZlcnl0aGluZyA8IDVcbiAgICAgICAgICAgIHZhciBsb3dlc3QgPSB2Ym94ZXNbMF0uY29sb3I7XG4gICAgICAgICAgICBpZiAobG93ZXN0WzBdIDwgNSAmJiBsb3dlc3RbMV0gPCA1ICYmIGxvd2VzdFsyXSA8IDUpXG4gICAgICAgICAgICAgICAgdmJveGVzWzBdLmNvbG9yID0gWzAsIDAsIDBdO1xuXG4gICAgICAgICAgICAvLyBmb3JjZSBsaWdodGVzdCBjb2xvciB0byB3aGl0ZSBpZiBldmVyeXRoaW5nID4gMjUxXG4gICAgICAgICAgICB2YXIgaWR4ID0gdmJveGVzLmxlbmd0aCAtIDEsXG4gICAgICAgICAgICAgICAgaGlnaGVzdCA9IHZib3hlc1tpZHhdLmNvbG9yO1xuICAgICAgICAgICAgaWYgKGhpZ2hlc3RbMF0gPiAyNTEgJiYgaGlnaGVzdFsxXSA+IDI1MSAmJiBoaWdoZXN0WzJdID4gMjUxKVxuICAgICAgICAgICAgICAgIHZib3hlc1tpZHhdLmNvbG9yID0gWzI1NSwgMjU1LCAyNTVdO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIGhpc3RvICgxLWQgYXJyYXksIGdpdmluZyB0aGUgbnVtYmVyIG9mIHBpeGVscyBpblxuICAgIC8vIGVhY2ggcXVhbnRpemVkIHJlZ2lvbiBvZiBjb2xvciBzcGFjZSksIG9yIG51bGwgb24gZXJyb3JcblxuICAgIGZ1bmN0aW9uIGdldEhpc3RvKHBpeGVscykge1xuICAgICAgICB2YXIgaGlzdG9zaXplID0gMSA8PCAoMyAqIHNpZ2JpdHMpLFxuICAgICAgICAgICAgaGlzdG8gPSBuZXcgQXJyYXkoaGlzdG9zaXplKSxcbiAgICAgICAgICAgIGluZGV4LCBydmFsLCBndmFsLCBidmFsO1xuICAgICAgICBwaXhlbHMuZm9yRWFjaChmdW5jdGlvbihwaXhlbCkge1xuICAgICAgICAgICAgcnZhbCA9IHBpeGVsWzBdID4+IHJzaGlmdDtcbiAgICAgICAgICAgIGd2YWwgPSBwaXhlbFsxXSA+PiByc2hpZnQ7XG4gICAgICAgICAgICBidmFsID0gcGl4ZWxbMl0gPj4gcnNoaWZ0O1xuICAgICAgICAgICAgaW5kZXggPSBnZXRDb2xvckluZGV4KHJ2YWwsIGd2YWwsIGJ2YWwpO1xuICAgICAgICAgICAgaGlzdG9baW5kZXhdID0gKGhpc3RvW2luZGV4XSB8fCAwKSArIDE7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaGlzdG87XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdmJveEZyb21QaXhlbHMocGl4ZWxzLCBoaXN0bykge1xuICAgICAgICB2YXIgcm1pbiA9IDEwMDAwMDAsXG4gICAgICAgICAgICBybWF4ID0gMCxcbiAgICAgICAgICAgIGdtaW4gPSAxMDAwMDAwLFxuICAgICAgICAgICAgZ21heCA9IDAsXG4gICAgICAgICAgICBibWluID0gMTAwMDAwMCxcbiAgICAgICAgICAgIGJtYXggPSAwLFxuICAgICAgICAgICAgcnZhbCwgZ3ZhbCwgYnZhbDtcbiAgICAgICAgLy8gZmluZCBtaW4vbWF4XG4gICAgICAgIHBpeGVscy5mb3JFYWNoKGZ1bmN0aW9uKHBpeGVsKSB7XG4gICAgICAgICAgICBydmFsID0gcGl4ZWxbMF0gPj4gcnNoaWZ0O1xuICAgICAgICAgICAgZ3ZhbCA9IHBpeGVsWzFdID4+IHJzaGlmdDtcbiAgICAgICAgICAgIGJ2YWwgPSBwaXhlbFsyXSA+PiByc2hpZnQ7XG4gICAgICAgICAgICBpZiAocnZhbCA8IHJtaW4pIHJtaW4gPSBydmFsO1xuICAgICAgICAgICAgZWxzZSBpZiAocnZhbCA+IHJtYXgpIHJtYXggPSBydmFsO1xuICAgICAgICAgICAgaWYgKGd2YWwgPCBnbWluKSBnbWluID0gZ3ZhbDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGd2YWwgPiBnbWF4KSBnbWF4ID0gZ3ZhbDtcbiAgICAgICAgICAgIGlmIChidmFsIDwgYm1pbikgYm1pbiA9IGJ2YWw7XG4gICAgICAgICAgICBlbHNlIGlmIChidmFsID4gYm1heCkgYm1heCA9IGJ2YWw7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IFZCb3gocm1pbiwgcm1heCwgZ21pbiwgZ21heCwgYm1pbiwgYm1heCwgaGlzdG8pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1lZGlhbkN1dEFwcGx5KGhpc3RvLCB2Ym94KSB7XG4gICAgICAgIGlmICghdmJveC5jb3VudCgpKSByZXR1cm47XG5cbiAgICAgICAgdmFyIHJ3ID0gdmJveC5yMiAtIHZib3gucjEgKyAxLFxuICAgICAgICAgICAgZ3cgPSB2Ym94LmcyIC0gdmJveC5nMSArIDEsXG4gICAgICAgICAgICBidyA9IHZib3guYjIgLSB2Ym94LmIxICsgMSxcbiAgICAgICAgICAgIG1heHcgPSBwdi5tYXgoW3J3LCBndywgYnddKTtcbiAgICAgICAgLy8gb25seSBvbmUgcGl4ZWwsIG5vIHNwbGl0XG4gICAgICAgIGlmICh2Ym94LmNvdW50KCkgPT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIFt2Ym94LmNvcHkoKV1cbiAgICAgICAgfVxuICAgICAgICAvKiBGaW5kIHRoZSBwYXJ0aWFsIHN1bSBhcnJheXMgYWxvbmcgdGhlIHNlbGVjdGVkIGF4aXMuICovXG4gICAgICAgIHZhciB0b3RhbCA9IDAsXG4gICAgICAgICAgICBwYXJ0aWFsc3VtID0gW10sXG4gICAgICAgICAgICBsb29rYWhlYWRzdW0gPSBbXSxcbiAgICAgICAgICAgIGksIGosIGssIHN1bSwgaW5kZXg7XG4gICAgICAgIGlmIChtYXh3ID09IHJ3KSB7XG4gICAgICAgICAgICBmb3IgKGkgPSB2Ym94LnIxOyBpIDw9IHZib3gucjI7IGkrKykge1xuICAgICAgICAgICAgICAgIHN1bSA9IDA7XG4gICAgICAgICAgICAgICAgZm9yIChqID0gdmJveC5nMTsgaiA8PSB2Ym94LmcyOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChrID0gdmJveC5iMTsgayA8PSB2Ym94LmIyOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gZ2V0Q29sb3JJbmRleChpLCBqLCBrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1bSArPSAoaGlzdG9baW5kZXhdIHx8IDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRvdGFsICs9IHN1bTtcbiAgICAgICAgICAgICAgICBwYXJ0aWFsc3VtW2ldID0gdG90YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobWF4dyA9PSBndykge1xuICAgICAgICAgICAgZm9yIChpID0gdmJveC5nMTsgaSA8PSB2Ym94LmcyOyBpKyspIHtcbiAgICAgICAgICAgICAgICBzdW0gPSAwO1xuICAgICAgICAgICAgICAgIGZvciAoaiA9IHZib3gucjE7IGogPD0gdmJveC5yMjsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoayA9IHZib3guYjE7IGsgPD0gdmJveC5iMjsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGdldENvbG9ySW5kZXgoaiwgaSwgayk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdW0gKz0gKGhpc3RvW2luZGV4XSB8fCAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0b3RhbCArPSBzdW07XG4gICAgICAgICAgICAgICAgcGFydGlhbHN1bVtpXSA9IHRvdGFsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgeyAvKiBtYXh3ID09IGJ3ICovXG4gICAgICAgICAgICBmb3IgKGkgPSB2Ym94LmIxOyBpIDw9IHZib3guYjI7IGkrKykge1xuICAgICAgICAgICAgICAgIHN1bSA9IDA7XG4gICAgICAgICAgICAgICAgZm9yIChqID0gdmJveC5yMTsgaiA8PSB2Ym94LnIyOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChrID0gdmJveC5nMTsgayA8PSB2Ym94LmcyOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gZ2V0Q29sb3JJbmRleChqLCBrLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1bSArPSAoaGlzdG9baW5kZXhdIHx8IDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRvdGFsICs9IHN1bTtcbiAgICAgICAgICAgICAgICBwYXJ0aWFsc3VtW2ldID0gdG90YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcGFydGlhbHN1bS5mb3JFYWNoKGZ1bmN0aW9uKGQsIGkpIHtcbiAgICAgICAgICAgIGxvb2thaGVhZHN1bVtpXSA9IHRvdGFsIC0gZFxuICAgICAgICB9KTtcblxuICAgICAgICBmdW5jdGlvbiBkb0N1dChjb2xvcikge1xuICAgICAgICAgICAgdmFyIGRpbTEgPSBjb2xvciArICcxJyxcbiAgICAgICAgICAgICAgICBkaW0yID0gY29sb3IgKyAnMicsXG4gICAgICAgICAgICAgICAgbGVmdCwgcmlnaHQsIHZib3gxLCB2Ym94MiwgZDIsIGNvdW50MiA9IDA7XG4gICAgICAgICAgICBmb3IgKGkgPSB2Ym94W2RpbTFdOyBpIDw9IHZib3hbZGltMl07IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChwYXJ0aWFsc3VtW2ldID4gdG90YWwgLyAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHZib3gxID0gdmJveC5jb3B5KCk7XG4gICAgICAgICAgICAgICAgICAgIHZib3gyID0gdmJveC5jb3B5KCk7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQgPSBpIC0gdmJveFtkaW0xXTtcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQgPSB2Ym94W2RpbTJdIC0gaTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxlZnQgPD0gcmlnaHQpXG4gICAgICAgICAgICAgICAgICAgICAgICBkMiA9IE1hdGgubWluKHZib3hbZGltMl0gLSAxLCB+fiAoaSArIHJpZ2h0IC8gMikpO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGQyID0gTWF0aC5tYXgodmJveFtkaW0xXSwgfn4gKGkgLSAxIC0gbGVmdCAvIDIpKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gYXZvaWQgMC1jb3VudCBib3hlc1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoIXBhcnRpYWxzdW1bZDJdKSBkMisrO1xuICAgICAgICAgICAgICAgICAgICBjb3VudDIgPSBsb29rYWhlYWRzdW1bZDJdO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoIWNvdW50MiAmJiBwYXJ0aWFsc3VtW2QyIC0gMV0pIGNvdW50MiA9IGxvb2thaGVhZHN1bVstLWQyXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gc2V0IGRpbWVuc2lvbnNcbiAgICAgICAgICAgICAgICAgICAgdmJveDFbZGltMl0gPSBkMjtcbiAgICAgICAgICAgICAgICAgICAgdmJveDJbZGltMV0gPSB2Ym94MVtkaW0yXSArIDE7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCd2Ym94IGNvdW50czonLCB2Ym94LmNvdW50KCksIHZib3gxLmNvdW50KCksIHZib3gyLmNvdW50KCkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3Zib3gxLCB2Ym94Ml07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICAgICAgLy8gZGV0ZXJtaW5lIHRoZSBjdXQgcGxhbmVzXG4gICAgICAgIHJldHVybiBtYXh3ID09IHJ3ID8gZG9DdXQoJ3InKSA6XG4gICAgICAgICAgICBtYXh3ID09IGd3ID8gZG9DdXQoJ2cnKSA6XG4gICAgICAgICAgICBkb0N1dCgnYicpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHF1YW50aXplKHBpeGVscywgbWF4Y29sb3JzKSB7XG4gICAgICAgIC8vIHNob3J0LWNpcmN1aXRcbiAgICAgICAgaWYgKCFwaXhlbHMubGVuZ3RoIHx8IG1heGNvbG9ycyA8IDIgfHwgbWF4Y29sb3JzID4gMjU2KSB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnd3JvbmcgbnVtYmVyIG9mIG1heGNvbG9ycycpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gWFhYOiBjaGVjayBjb2xvciBjb250ZW50IGFuZCBjb252ZXJ0IHRvIGdyYXlzY2FsZSBpZiBpbnN1ZmZpY2llbnRcblxuICAgICAgICB2YXIgaGlzdG8gPSBnZXRIaXN0byhwaXhlbHMpLFxuICAgICAgICAgICAgaGlzdG9zaXplID0gMSA8PCAoMyAqIHNpZ2JpdHMpO1xuXG4gICAgICAgIC8vIGNoZWNrIHRoYXQgd2UgYXJlbid0IGJlbG93IG1heGNvbG9ycyBhbHJlYWR5XG4gICAgICAgIHZhciBuQ29sb3JzID0gMDtcbiAgICAgICAgaGlzdG8uZm9yRWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG5Db2xvcnMrK1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKG5Db2xvcnMgPD0gbWF4Y29sb3JzKSB7XG4gICAgICAgICAgICAvLyBYWFg6IGdlbmVyYXRlIHRoZSBuZXcgY29sb3JzIGZyb20gdGhlIGhpc3RvIGFuZCByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCB0aGUgYmVnaW5uaW5nIHZib3ggZnJvbSB0aGUgY29sb3JzXG4gICAgICAgIHZhciB2Ym94ID0gdmJveEZyb21QaXhlbHMocGl4ZWxzLCBoaXN0byksXG4gICAgICAgICAgICBwcSA9IG5ldyBQUXVldWUoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBwdi5uYXR1cmFsT3JkZXIoYS5jb3VudCgpLCBiLmNvdW50KCkpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgcHEucHVzaCh2Ym94KTtcblxuICAgICAgICAvLyBpbm5lciBmdW5jdGlvbiB0byBkbyB0aGUgaXRlcmF0aW9uXG5cbiAgICAgICAgZnVuY3Rpb24gaXRlcihsaCwgdGFyZ2V0KSB7XG4gICAgICAgICAgICB2YXIgbmNvbG9ycyA9IDEsXG4gICAgICAgICAgICAgICAgbml0ZXJzID0gMCxcbiAgICAgICAgICAgICAgICB2Ym94O1xuICAgICAgICAgICAgd2hpbGUgKG5pdGVycyA8IG1heEl0ZXJhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICB2Ym94ID0gbGgucG9wKCk7XG4gICAgICAgICAgICAgICAgaWYgKCF2Ym94LmNvdW50KCkpIHsgLyoganVzdCBwdXQgaXQgYmFjayAqL1xuICAgICAgICAgICAgICAgICAgICBsaC5wdXNoKHZib3gpO1xuICAgICAgICAgICAgICAgICAgICBuaXRlcnMrKztcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGRvIHRoZSBjdXRcbiAgICAgICAgICAgICAgICB2YXIgdmJveGVzID0gbWVkaWFuQ3V0QXBwbHkoaGlzdG8sIHZib3gpLFxuICAgICAgICAgICAgICAgICAgICB2Ym94MSA9IHZib3hlc1swXSxcbiAgICAgICAgICAgICAgICAgICAgdmJveDIgPSB2Ym94ZXNbMV07XG5cbiAgICAgICAgICAgICAgICBpZiAoIXZib3gxKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwidmJveDEgbm90IGRlZmluZWQ7IHNob3VsZG4ndCBoYXBwZW4hXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxoLnB1c2godmJveDEpO1xuICAgICAgICAgICAgICAgIGlmICh2Ym94MikgeyAvKiB2Ym94MiBjYW4gYmUgbnVsbCAqL1xuICAgICAgICAgICAgICAgICAgICBsaC5wdXNoKHZib3gyKTtcbiAgICAgICAgICAgICAgICAgICAgbmNvbG9ycysrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobmNvbG9ycyA+PSB0YXJnZXQpIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAobml0ZXJzKysgPiBtYXhJdGVyYXRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiaW5maW5pdGUgbG9vcDsgcGVyaGFwcyB0b28gZmV3IHBpeGVscyFcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmaXJzdCBzZXQgb2YgY29sb3JzLCBzb3J0ZWQgYnkgcG9wdWxhdGlvblxuICAgICAgICBpdGVyKHBxLCBmcmFjdEJ5UG9wdWxhdGlvbnMgKiBtYXhjb2xvcnMpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhwcS5zaXplKCksIHBxLmRlYnVnKCkubGVuZ3RoLCBwcS5kZWJ1ZygpLnNsaWNlKCkpO1xuXG4gICAgICAgIC8vIFJlLXNvcnQgYnkgdGhlIHByb2R1Y3Qgb2YgcGl4ZWwgb2NjdXBhbmN5IHRpbWVzIHRoZSBzaXplIGluIGNvbG9yIHNwYWNlLlxuICAgICAgICB2YXIgcHEyID0gbmV3IFBRdWV1ZShmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gcHYubmF0dXJhbE9yZGVyKGEuY291bnQoKSAqIGEudm9sdW1lKCksIGIuY291bnQoKSAqIGIudm9sdW1lKCkpXG4gICAgICAgIH0pO1xuICAgICAgICB3aGlsZSAocHEuc2l6ZSgpKSB7XG4gICAgICAgICAgICBwcTIucHVzaChwcS5wb3AoKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBuZXh0IHNldCAtIGdlbmVyYXRlIHRoZSBtZWRpYW4gY3V0cyB1c2luZyB0aGUgKG5waXggKiB2b2wpIHNvcnRpbmcuXG4gICAgICAgIGl0ZXIocHEyLCBtYXhjb2xvcnMgLSBwcTIuc2l6ZSgpKTtcblxuICAgICAgICAvLyBjYWxjdWxhdGUgdGhlIGFjdHVhbCBjb2xvcnNcbiAgICAgICAgdmFyIGNtYXAgPSBuZXcgQ01hcCgpO1xuICAgICAgICB3aGlsZSAocHEyLnNpemUoKSkge1xuICAgICAgICAgICAgY21hcC5wdXNoKHBxMi5wb3AoKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY21hcDtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBxdWFudGl6ZTogcXVhbnRpemVcbiAgICB9XG59KSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1NQ1EucXVhbnRpemVcbiIsImV4cG9ydCBjbGFzcyBGYXZpY29uIHtcclxuICAgIGNvbnN0cnVjdG9yKGZhdmljb24pIHtcclxuICAgICAgICBsZXQgZXhpc3RpbmdGYXZpY29uID0gdGhpcy5nZXRFeGlzdGluZ0Zhdmljb24oKTtcclxuICAgICAgICBpZiAoIWV4aXN0aW5nRmF2aWNvbikge1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUgPSB0aGlzLmNyZWF0ZSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMub3JpZ2luYWxIcmVmID0gZXhpc3RpbmdGYXZpY29uLmhyZWY7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZSA9IGV4aXN0aW5nRmF2aWNvbjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXRFeGlzdGluZ0Zhdmljb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2xpbmtbcmVsPVwic2hvcnRjdXQgaWNvblwiXScpO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIGxldCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpO1xyXG4gICAgICAgIGxpbmsudHlwZSA9ICdpbWFnZS94LWljb24nO1xyXG4gICAgICAgIGxpbmsucmVsID0gJ3Nob3J0Y3V0IGljb24nO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0uYXBwZW5kQ2hpbGQobGluayk7XHJcbiAgICAgICAgcmV0dXJuIGxpbms7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKHVybCkge1xyXG4gICAgICAgIHRoaXMuaHJlZiA9IHVybDtcclxuICAgIH07XHJcblxyXG4gICAgcmVzdG9yZURlZmF1bHQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMub3JpZ2luYWxIcmVmKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKHRoaXMub3JpZ2luYWxIcmVmKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGhyZWYodXJsKSB7XHJcbiAgICAgICAgdGhpcy5ub2RlLmhyZWYgPSB1cmw7XHJcbiAgICB9XHJcbiAgICBnZXQgaHJlZigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ub2RlLmhyZWY7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHNpemUoc2l6ZSkge1xyXG4gICAgICAgIHRoaXMuc2l6ZV8gPSBzaXplO1xyXG4gICAgICAgIHRoaXMubm9kZS5zaXplcyA9IHNpemUgKyBcInhcIiArIHNpemU7XHJcbiAgICB9XHJcbiAgICBnZXQgc2l6ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zaXplXztcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBDYW52YXMge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xyXG4gICAgICAgIHRoaXMuY3R4XyA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICB9XHJcbiAgICBnZXQgbm9kZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXM7XHJcbiAgICB9XHJcbiAgICBnZXQgY3R4KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmN0eF87XHJcbiAgICB9XHJcbiAgICBnZXQgd2lkdGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubm9kZS53aWR0aDtcclxuICAgIH1cclxuICAgIHNldCB3aWR0aCh3aWR0aCkge1xyXG4gICAgICAgIHRoaXMubm9kZS53aWR0aCA9IHdpZHRoO1xyXG4gICAgfVxyXG4gICAgZ2V0IGhlaWdodCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ub2RlLndpZHRoO1xyXG4gICAgfVxyXG4gICAgc2V0IGhlaWdodChoZWlnaHQpIHtcclxuICAgICAgICB0aGlzLm5vZGUuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHtGYXZpY29ufSBmcm9tIFwiLi4vVXRpbC9GYXZpY29uXCI7XHJcbmltcG9ydCB7Q2FudmFzfSBmcm9tIFwiLi4vVXRpbC9DYW52YXNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBGYXZpZGVvIHtcclxuICAgIGNvbnN0cnVjdG9yKGlucHV0LCBtb2RlLCBmYXZpY29uU2l6ZSkge1xyXG4gICAgICAgIHRoaXMuaW5wdXQgPSBpbnB1dDtcclxuICAgICAgICB0aGlzLm1vZGUgPSBtb2RlO1xyXG4gICAgICAgIHRoaXMuZmF2aWNvbiA9IG5ldyBGYXZpY29uKCk7XHJcbiAgICAgICAgdGhpcy5mYXZpY29uLnNpemUgPSBmYXZpY29uU2l6ZTtcclxuICAgICAgICB0aGlzLmZhdmljb25DYW52YXMgPSBuZXcgQ2FudmFzKCk7XHJcbiAgICAgICAgdGhpcy52aWRlb0V2ZW50TGlzdGVuZXJzID0gW107XHJcbiAgICAgICAgdGhpcy5lbmFibGUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gZmV0Y2hlcyBhbmQgc2V0cyB0aGUgZnJhbWUgZm9yIHRoZSBjb25maWd1cmVkIEZhdmlkZW9Nb2RlLlxyXG4gICAgICovXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgbGV0IGZyYW1lVXJsID0gdGhpcy5tb2RlLmdldEZhdmljb25GcmFtZSh0aGlzLmlucHV0LCB0aGlzLmZhdmljb25DYW52YXMubm9kZSwgdGhpcy5mYXZpY29uQ2FudmFzLmN0eCwgdGhpcy5mYXZpY29uKTtcclxuICAgICAgICBpZiAoZnJhbWVVcmwpIHtcclxuICAgICAgICAgICAgdGhpcy5mYXZpY29uLnVwZGF0ZShmcmFtZVVybCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gcmVnaXN0ZXJzIHRoZSB1cGRhdGUgZXZlbnQgZm9yIHRoZSBjb25maWd1cmVkIEZhdmlkZW9Nb2RlLlxyXG4gICAgICovXHJcbiAgICBlbmFibGUoKSB7XHJcbiAgICAgICAgdGhpcy5tb2RlLnJlZ2lzdGVyVXBkYXRlRXZlbnQodGhpcyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBmdW5jdGlvbiB1bnJlZ2lzdGVycyB0aGUgdXBkYXRlIGV2ZW50IGZvciB0aGUgY29uZmlndXJlZCBGYXZpZGVvTW9kZS5cclxuICAgICAqL1xyXG4gICAgZGlzYWJsZSgpIHtcclxuICAgICAgICB0aGlzLnVucmVnaXN0ZXJWaWRlb0V2ZW50cygpO1xyXG4gICAgICAgIHRoaXMubW9kZS5kaXNhYmxlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHJlZ2lzdGVycyBhbmQgYXR0YWNoZXMgYSB2aWRlbyBldmVudCBoYW5kbGVyLlxyXG4gICAgICogQHBhcmFtIGV2ZW50XHJcbiAgICAgKiBAcGFyYW0gZnVuY1xyXG4gICAgICovXHJcbiAgICByZWdpc3RlclZpZGVvRXZlbnQoZXZlbnQsIGZ1bmMpIHtcclxuICAgICAgICB0aGlzLnZpZGVvRXZlbnRMaXN0ZW5lcnMucHVzaCh7ZXZlbnQ6IGV2ZW50LCBmdW5jOiBmdW5jfSk7XHJcbiAgICAgICAgdGhpcy5pbnB1dC52aWRlby5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBmdW5jKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gdW5yZWdpc3RlcnMgYWxsIHZpZGVvIGV2ZW50IGhhbmRsZXJzLlxyXG4gICAgICovXHJcbiAgICB1bnJlZ2lzdGVyVmlkZW9FdmVudHMoKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnZpZGVvRXZlbnRMaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IHZlbCA9IHRoaXMudmlkZW9FdmVudExpc3RlbmVyc1tpXTtcclxuICAgICAgICAgICAgdGhpcy5pbnB1dC52aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKHZlbC5ldmVudCwgdmVsLmZ1bmMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBGYXZpZGVvTW9kZSB7XHJcblxyXG59IiwiaW1wb3J0IHtGYXZpZGVvTW9kZX0gZnJvbSBcIi4vRmF2aWRlb01vZGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBWaWRlb01vZGUgZXh0ZW5kcyBGYXZpZGVvTW9kZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihyZXNwZWN0QXNwZWN0UmF0aW8sIGZwcykge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5yZXNwZWN0QXNwZWN0UmF0aW8gPSByZXNwZWN0QXNwZWN0UmF0aW87XHJcbiAgICAgICAgdGhpcy5mcHMgPSBmcHM7XHJcbiAgICAgICAgdGhpcy52aWRlb0luQ2FudmFzU2V0dGluZ3MgPSB7XHJcbiAgICAgICAgICAgIGR4OiAwLCBkeTogMCwgZFdpZHRoOiAwLCBkSGVpZ2h0OiAwXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSB0byBiZSByZW5kZXJlZCBmcmFtZSBmb3IgVmlkZW9Nb2RlLlxyXG4gICAgICogQHBhcmFtIHZpZGVvXHJcbiAgICAgKiBAcGFyYW0gY2FudmFzXHJcbiAgICAgKiBAcGFyYW0gY2FudmFzQ3R4XHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICBnZXRGYXZpY29uRnJhbWUoaW5wdXQsIGNhbnZhcywgY2FudmFzQ3R4KSB7XHJcbiAgICAgICAgaWYgKHRoaXMucmVzcGVjdEFzcGVjdFJhdGlvKSB7XHJcbiAgICAgICAgICAgIGNhbnZhc0N0eC5kcmF3SW1hZ2UoaW5wdXQuZ2V0U291cmNlKCksIHRoaXMudmlkZW9JbkNhbnZhc1NldHRpbmdzLmR4LCB0aGlzLnZpZGVvSW5DYW52YXNTZXR0aW5ncy5keSwgdGhpcy52aWRlb0luQ2FudmFzU2V0dGluZ3MuZFdpZHRoLCB0aGlzLnZpZGVvSW5DYW52YXNTZXR0aW5ncy5kSGVpZ2h0KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjYW52YXNDdHguZHJhd0ltYWdlKGlucHV0LmdldFNvdXJjZSgpLCAwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY2FudmFzLnRvRGF0YVVSTCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gbWVhc3VyZXMgdGhlIG5ldyB2aWRlbyBwcm9maWxlIGluc2lkZSBvZiB0aGUgZmF2aWNvbi5cclxuICAgICAqIEBwYXJhbSBhOiBtYXgodmlkZW9XaWR0aCwgdmlkZW9IZWlnaHQpXHJcbiAgICAgKiBAcGFyYW0gYjogbWluKHZpZGVvV2lkdGgsIHZpZGVvSGVpZ2h0KVxyXG4gICAgICogQHBhcmFtIGZsOiBmYXZpY29uIGxlbmd0aFxyXG4gICAgICogQHJldHVybnMge3tvZmZzZXQ6IG51bWJlciwgd2lkdGg6ICosIGhlaWdodDogbnVtYmVyfX1cclxuICAgICAqL1xyXG4gICAgZ2V0VmlkZW9JbkZhdmljb25GaXQoYSwgYiwgZmwpIHtcclxuICAgICAgICBsZXQgeCA9IGEvZmw7XHJcbiAgICAgICAgbGV0IGF2X3cgPSBmbDtcclxuICAgICAgICBsZXQgYXZfaCA9IGIveDtcclxuICAgICAgICBsZXQgb190ID0gKGZsLWF2X2gpLzI7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgd2lkdGg6IGF2X3csXHJcbiAgICAgICAgICAgIGhlaWdodDogYXZfaCxcclxuICAgICAgICAgICAgb2Zmc2V0OiBvX3RcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBmdW5jdGlvbiBjaGVja3MgdG8gd2hhdCB0aGUgdmlkZW8gbmVlZHMgdG8gYmUgc2NhbGVkIHRvIGZpdCBpbnRvIHRoZSBmYXZpY29uLFxyXG4gICAgICogaWYgdGhlIGFzcGVjdCByYXRpbyBpcyB0byBiZSByZXNwZWN0ZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHZpZGVvXHJcbiAgICAgKiBAcGFyYW0gZmF2aWNvblNpemVcclxuICAgICAqL1xyXG4gICAgY2FsY3VsYXRlQW5kU2V0VmlkZW9JbkNhbnZhc1Byb2ZpbGUodmlkZW8sIGZhdmljb25TaXplKSB7XHJcbiAgICAgICAgbGV0IHZfdyA9IHZpZGVvLnZpZGVvV2lkdGgsIHZfaCA9IHZpZGVvLnZpZGVvSGVpZ2h0O1xyXG4gICAgICAgIGxldCB2aWRlb0ZpdDtcclxuICAgICAgICBpZiAodl93ID4gdl9oKSB7XHJcbiAgICAgICAgICAgIHZpZGVvRml0ID0gdGhpcy5nZXRWaWRlb0luRmF2aWNvbkZpdCh2X3csIHZfaCwgZmF2aWNvblNpemUpO1xyXG4gICAgICAgICAgICB0aGlzLnZpZGVvSW5DYW52YXNTZXR0aW5ncy5keCA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMudmlkZW9JbkNhbnZhc1NldHRpbmdzLmR5ID0gdmlkZW9GaXQub2Zmc2V0O1xyXG4gICAgICAgICAgICB0aGlzLnZpZGVvSW5DYW52YXNTZXR0aW5ncy5kV2lkdGggPSB2aWRlb0ZpdC53aWR0aDtcclxuICAgICAgICAgICAgdGhpcy52aWRlb0luQ2FudmFzU2V0dGluZ3MuZEhlaWdodCA9IHZpZGVvRml0LmhlaWdodDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2aWRlb0ZpdCA9IHRoaXMuZ2V0VmlkZW9JbkZhdmljb25GaXQodl9oLCB2X3csIGZhdmljb25TaXplKTtcclxuICAgICAgICAgICAgdGhpcy52aWRlb0luQ2FudmFzU2V0dGluZ3MuZHggPSAgdmlkZW9GaXQub2Zmc2V0O1xyXG4gICAgICAgICAgICB0aGlzLnZpZGVvSW5DYW52YXNTZXR0aW5ncy5keSA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMudmlkZW9JbkNhbnZhc1NldHRpbmdzLmRXaWR0aCA9IHZpZGVvRml0LmhlaWdodDtcclxuICAgICAgICAgICAgdGhpcy52aWRlb0luQ2FudmFzU2V0dGluZ3MuZEhlaWdodCA9IHZpZGVvRml0LndpZHRoO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGV2ZW50IGhhbmRsZXIgdXBkYXRlcyB0aGUgZmF2aWNvbkNhbnZhcyB3aWR0aCBhbmQgaGVpZ2h0LFxyXG4gICAgICogYmVjYXVzZSB0aGUgdmlkZW8gd2lkdGggYW5kIGhlaWdodCBhcmUgbm93IGtub3duLlxyXG4gICAgICovXHJcbiAgICBsb2FkZWRtZXRhZGF0YUhhbmRsZXIoKSB7XHJcbiAgICAgICAgbGV0IGNhbnZhc1dpZHRoID0gMCwgY2FudmFzSGVpZ2h0ID0gMDtcclxuICAgICAgICBpZiAodGhpcy5tb2RlLnJlc3BlY3RBc3BlY3RSYXRpbykge1xyXG4gICAgICAgICAgICB0aGlzLm1vZGUuY2FsY3VsYXRlQW5kU2V0VmlkZW9JbkNhbnZhc1Byb2ZpbGUodGhpcy5pbnB1dC52aWRlbywgdGhpcy5mYXZpY29uLnNpemUpO1xyXG4gICAgICAgICAgICBjYW52YXNXaWR0aCA9IHRoaXMuZmF2aWNvbi5zaXplO1xyXG4gICAgICAgICAgICBjYW52YXNIZWlnaHQgPSB0aGlzLmZhdmljb24uc2l6ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjYW52YXNXaWR0aCA9IHRoaXMuaW5wdXQudmlkZW8udmlkZW9XaWR0aDtcclxuICAgICAgICAgICAgY2FudmFzSGVpZ2h0ID0gdGhpcy5pbnB1dC52aWRlby52aWRlb0hlaWdodDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5mYXZpY29uQ2FudmFzLndpZHRoID0gY2FudmFzV2lkdGg7XHJcbiAgICAgICAgdGhpcy5mYXZpY29uQ2FudmFzLmhlaWdodCA9IGNhbnZhc0hlaWdodDtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHJlZ2lzdGVycyB0aGUgdXBkYXRlIGV2ZW50IG9mIFZpZGVvTW9kZS5cclxuICAgICAqL1xyXG4gICAgcmVnaXN0ZXJVcGRhdGVFdmVudChmYXZpZGVvKSB7XHJcbiAgICAgICAgZmF2aWRlby5yZWdpc3RlclZpZGVvRXZlbnQoJ2xvYWRlZG1ldGFkYXRhJywgdGhpcy5sb2FkZWRtZXRhZGF0YUhhbmRsZXIuYmluZChmYXZpZGVvKSk7XHJcbiAgICAgICAgaWYgKCF0aGlzLmZwcykge1xyXG4gICAgICAgICAgICBmYXZpZGVvLnJlZ2lzdGVyVmlkZW9FdmVudCgndGltZXVwZGF0ZScsIGZhdmlkZW8udXBkYXRlLmJpbmQoZmF2aWRlbykpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5pbnRlcnZhbCA9IHNldEludGVydmFsKGZhdmlkZW8udXBkYXRlLmJpbmQoZmF2aWRlbyksIDEwMDAvdGhpcy5mcHMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkaXNhYmxlKCkge1xyXG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmludGVydmFsKTtcclxuICAgIH1cclxufSIsInZhciBxdWFudGl6ZSA9IHJlcXVpcmUoJ3F1YW50aXplJyk7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29sb3Ige1xyXG4gICAgc3RhdGljIGdldEF2ZXJhZ2VDb2xvcihjYW52YXMsIGN0eCkge1xyXG4gICAgICAgIGxldCBpbWFnZURhdGEgPSBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCkuZGF0YTtcclxuICAgICAgICBsZXQgdG90YWxSZ2JhID0ge1xyXG4gICAgICAgICAgICByOiAwLCBnOiAwLCBiOiAwLCBhOiAwXHJcbiAgICAgICAgfTtcclxuICAgICAgICBsZXQgbmJPZlBpeGVscyA9IGltYWdlRGF0YS5sZW5ndGgvNDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGltYWdlRGF0YS5sZW5ndGg7IGkgKz0gNCkge1xyXG4gICAgICAgICAgICB0b3RhbFJnYmEuciA9IHRvdGFsUmdiYS5yICsgaW1hZ2VEYXRhW2ldO1xyXG4gICAgICAgICAgICB0b3RhbFJnYmEuZyA9IHRvdGFsUmdiYS5nICsgaW1hZ2VEYXRhW2krMV07XHJcbiAgICAgICAgICAgIHRvdGFsUmdiYS5iID0gdG90YWxSZ2JhLmIgKyBpbWFnZURhdGFbaSsyXTtcclxuICAgICAgICAgICAgdG90YWxSZ2JhLmEgPSB0b3RhbFJnYmEuYSArIGltYWdlRGF0YVtpKzNdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgYXZnUmdiYSA9IHtcclxuICAgICAgICAgICAgcjogdG90YWxSZ2JhLnIvbmJPZlBpeGVscyxcclxuICAgICAgICAgICAgZzogdG90YWxSZ2JhLmcvbmJPZlBpeGVscyxcclxuICAgICAgICAgICAgYjogdG90YWxSZ2JhLmIvbmJPZlBpeGVscyxcclxuICAgICAgICAgICAgYTogdG90YWxSZ2JhLmEvbmJPZlBpeGVsc1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIENvbG9yLmdldFJnYmFDc3NTdHJpbmcoYXZnUmdiYSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHN0YXRpYyBjcmVhdGVQaXhlbEFycmF5KGltZ0RhdGEsIHBpeGVsQ291bnQpIHtcclxuICAgICAgICBjb25zdCBwaXhlbHMgPSBpbWdEYXRhO1xyXG4gICAgICAgIGNvbnN0IHBpeGVsQXJyYXkgPSBbXTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIG9mZnNldCwgciwgZywgYiwgYTsgaSA8IHBpeGVsQ291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICBvZmZzZXQgPSBpICogNDtcclxuICAgICAgICAgICAgciA9IHBpeGVsc1tvZmZzZXQgKyAwXTtcclxuICAgICAgICAgICAgZyA9IHBpeGVsc1tvZmZzZXQgKyAxXTtcclxuICAgICAgICAgICAgYiA9IHBpeGVsc1tvZmZzZXQgKyAyXTtcclxuICAgICAgICAgICAgYSA9IHBpeGVsc1tvZmZzZXQgKyAzXTtcclxuXHJcbiAgICAgICAgICAgIC8vIElmIHBpeGVsIGlzIG1vc3RseSBvcGFxdWUgYW5kIG5vdCB3aGl0ZVxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGEgPT09ICd1bmRlZmluZWQnIHx8IGEgPj0gMTI1KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShyID4gMjUwICYmIGcgPiAyNTAgJiYgYiA+IDI1MCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBwaXhlbEFycmF5LnB1c2goW3IsIGcsIGJdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcGl4ZWxBcnJheTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0RG9taW5hbnRDb2xvcihjYW52YXMsIGNhbnZhc0N0eCkge1xyXG4gICAgICAgIGNvbnN0IGltYWdlRGF0YSAgPSBjYW52YXNDdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgY29uc3QgcGl4ZWxDb3VudCA9IGNhbnZhcy53aWR0aCAqIGNhbnZhcy5oZWlnaHQ7XHJcbiAgICAgICAgY29uc3QgcGl4ZWxBcnJheSA9IENvbG9yLmNyZWF0ZVBpeGVsQXJyYXkoaW1hZ2VEYXRhLmRhdGEsIHBpeGVsQ291bnQpO1xyXG4gICAgICAgIGNvbnN0IGNtYXAgICAgPSBxdWFudGl6ZShwaXhlbEFycmF5LCA0KTtcclxuICAgICAgICBjb25zdCBwYWxldHRlID0gY21hcD8gY21hcC5wYWxldHRlKCkgOiBudWxsO1xyXG4gICAgICAgIHJldHVybiBDb2xvci5nZXRSZ2JhQ3NzU3RyaW5nQnlBcnJheShwYWxldHRlWzBdKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0UmdiYUNzc1N0cmluZyhyZ2JhKSB7XHJcbiAgICAgICAgcmV0dXJuICdyZ2JhKCcrcmdiYS5yK1wiLFwiK3JnYmEuZytcIixcIityZ2JhLmIrXCIsXCIrcmdiYS5hK1wiKVwiO1xyXG4gICAgfTtcclxuXHJcbiAgICBzdGF0aWMgZ2V0UmdiYUNzc1N0cmluZ0J5QXJyYXkoYXJyKSB7XHJcbiAgICAgICAgcmV0dXJuICdyZ2JhKCcrYXJyWzBdK1wiLFwiK2FyclsxXStcIixcIithcnJbMl0rXCIsXCIrMjU1K1wiKVwiO1xyXG4gICAgfVxyXG5cclxuXHJcbn0iLCJpbXBvcnQge0ZhdmlkZW9Nb2RlfSBmcm9tIFwiLi9GYXZpZGVvTW9kZVwiO1xyXG5pbXBvcnQge0NvbG9yfSBmcm9tIFwiLi4vLi4vVXRpbC9Db2xvclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBsYXlJY29uTW9kZSBleHRlbmRzIEZhdmlkZW9Nb2RlIHtcclxuICAgIGNvbnN0cnVjdG9yKGZwcywgY29sb3JUeXBlKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmZwcyA9IGZwcztcclxuICAgICAgICB0aGlzLmNvbG9yVHlwZSA9IGNvbG9yVHlwZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgdG8gYmUgcmVuZGVyZWQgZnJhbWUgZm9yIEZhdmlkZW9Nb2RlVmlkZW8uXHJcbiAgICAgKiBAcGFyYW0gdmlkZW9cclxuICAgICAqIEBwYXJhbSBjYW52YXNcclxuICAgICAqIEBwYXJhbSBjYW52YXNDdHhcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIGdldEZhdmljb25GcmFtZShpbnB1dCwgY2FudmFzLCBjYW52YXNDdHgsIGZhdmljb24pIHtcclxuXHJcbiAgICAgICAgLy8gZHJhdyB2aWRlbyBmcmFtZSBvbiB0byBvcmlnaW5hbCBzaXplIGZhdmljb25DYW52YXNcclxuICAgICAgICBsZXQgY2FudmFzMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgICAgIGNhbnZhczIud2lkdGggPSBpbnB1dC52aWRlby52aWRlb1dpZHRoO1xyXG4gICAgICAgIGNhbnZhczIuaGVpZ2h0ID0gaW5wdXQudmlkZW8udmlkZW9IZWlnaHQ7XHJcbiAgICAgICAgbGV0IGNhbnZhc0N0eDIgPSBjYW52YXMyLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgY2FudmFzQ3R4Mi5kcmF3SW1hZ2UoaW5wdXQuZ2V0U291cmNlKCksIDAsIDAsIGNhbnZhczIud2lkdGgsIGNhbnZhczIuaGVpZ2h0KTtcclxuICAgICAgICBsZXQgcGl4ZWxDb2xvciA9IHRoaXMuZ2V0Q29sb3IoY2FudmFzMiwgY2FudmFzQ3R4Mik7XHJcblxyXG4gICAgICAgIC8vIHJlc2V0IGRyYXdpbmdcclxuICAgICAgICBjYW52YXNDdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcblxyXG4gICAgICAgIHRoaXMuZHJhd09iamVjdChwaXhlbENvbG9yLCBjYW52YXNDdHgsIGZhdmljb24uc2l6ZSk7XHJcblxyXG4gICAgICAgIHJldHVybiBjYW52YXMudG9EYXRhVVJMKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGdldENvbG9yKGNhbnZhcywgY3R4KSB7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLmNvbG9yVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiYXZlcmFnZVwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIENvbG9yLmdldEF2ZXJhZ2VDb2xvcihjYW52YXMsIGN0eCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImRvbWluYW50XCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQ29sb3IuZ2V0RG9taW5hbnRDb2xvcihjYW52YXMsIGN0eCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRyYXdPYmplY3QoY29sb3IsIGNhbnZhc0N0eCwgZmF2aWNvblNpemUpIHtcclxuICAgICAgICB0aGlzLmRyYXdQbGF5T2JqZWN0KGNvbG9yLCBjYW52YXNDdHgsIGZhdmljb25TaXplKTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3UGxheU9iamVjdChjb2xvciwgY2FudmFzQ3R4LCBmYXZpY29uU2l6ZSkge1xyXG4gICAgICAgIGNhbnZhc0N0eC5maWxsU3R5bGUgPSBjb2xvcjtcclxuICAgICAgICBjYW52YXNDdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY2FudmFzQ3R4Lm1vdmVUbygwLCAwKTtcclxuICAgICAgICBjYW52YXNDdHgubGluZVRvKDAsIGZhdmljb25TaXplKTtcclxuICAgICAgICBjYW52YXNDdHgubGluZVRvKGZhdmljb25TaXplLCBmYXZpY29uU2l6ZS8yKTtcclxuICAgICAgICBjYW52YXNDdHguZmlsbCgpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZXZlbnQgaGFuZGxlciB1cGRhdGVzIHRoZSBmYXZpY29uQ2FudmFzIHdpZHRoIGFuZCBoZWlnaHQsXHJcbiAgICAgKiBiZWNhdXNlIHRoZSB2aWRlbyB3aWR0aCBhbmQgaGVpZ2h0IGFyZSBub3cga25vd24uXHJcbiAgICAgKi9cclxuICAgIGxvYWRlZG1ldGFkYXRhSGFuZGxlcigpIHtcclxuICAgICAgICBsZXQgY2FudmFzV2lkdGggPSB0aGlzLmZhdmljb24uc2l6ZSwgY2FudmFzSGVpZ2h0ID0gdGhpcy5mYXZpY29uLnNpemU7XHJcbiAgICAgICAgdGhpcy5mYXZpY29uQ2FudmFzLndpZHRoID0gY2FudmFzV2lkdGg7XHJcbiAgICAgICAgdGhpcy5mYXZpY29uQ2FudmFzLmhlaWdodCA9IGNhbnZhc0hlaWdodDtcclxuICAgIH07XHJcblxyXG4gICAgcmVzdG9yZU9yaWdpbmFsRmF2aWNvbigpIHtcclxuICAgICAgICB0aGlzLmZhdmljb24ucmVzdG9yZURlZmF1bHQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gcmVnaXN0ZXJzIHRoZSB1cGRhdGUgZXZlbnQgb2YgRmF2aWRlb01vZGVWaWRlby5cclxuICAgICAqL1xyXG4gICAgcmVnaXN0ZXJVcGRhdGVFdmVudChmYXZpZGVvKSB7XHJcbiAgICAgICAgZmF2aWRlby5yZWdpc3RlclZpZGVvRXZlbnQoJ2xvYWRlZG1ldGFkYXRhJywgdGhpcy5sb2FkZWRtZXRhZGF0YUhhbmRsZXIuYmluZChmYXZpZGVvKSk7XHJcbiAgICAgICAgZmF2aWRlby5yZWdpc3RlclZpZGVvRXZlbnQoJ3BhdXNlJywgdGhpcy5yZXN0b3JlT3JpZ2luYWxGYXZpY29uLmJpbmQoZmF2aWRlbykpO1xyXG4gICAgICAgIGZhdmlkZW8ucmVnaXN0ZXJWaWRlb0V2ZW50KCdlbmRlZCcsIHRoaXMucmVzdG9yZU9yaWdpbmFsRmF2aWNvbi5iaW5kKGZhdmlkZW8pKTtcclxuICAgICAgICBpZiAoIXRoaXMuZnBzKSB7XHJcbiAgICAgICAgICAgIGZhdmlkZW8ucmVnaXN0ZXJWaWRlb0V2ZW50KCd0aW1ldXBkYXRlJywgZmF2aWRlby51cGRhdGUuYmluZChmYXZpZGVvKSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoZmF2aWRlby51cGRhdGUuYmluZChmYXZpZGVvKSwgMTAwMC90aGlzLmZwcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRpc2FibGUoKSB7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaW50ZXJ2YWwpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHtGYXZpZGVvTW9kZX0gZnJvbSBcIi4vRmF2aWRlb01vZGVcIjtcclxuaW1wb3J0IHtDb2xvcn0gZnJvbSBcIi4uLy4uL1V0aWwvQ29sb3JcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBSZWNvbG9yTW9kZSBleHRlbmRzIEZhdmlkZW9Nb2RlIHtcclxuICAgIGNvbnN0cnVjdG9yKGZwcywgY29sb3JUeXBlKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmZwcyA9IGZwcztcclxuICAgICAgICB0aGlzLmNvbG9yVHlwZSA9IGNvbG9yVHlwZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gc2V0IHRoZSBjYW52YXMgYmFzZWQgb24gdGhlIG9yaWdpbmFsIGZhdmljb24gd2hpY2ggY2FuIGJlIHJlY29sb3JlZC5cclxuICAgICAqIEBwYXJhbSBmYXZpY29uXHJcbiAgICAgKi9cclxuICAgIHNldEZhdmljb24oZmF2aWNvbikge1xyXG4gICAgICAgIGxldCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG4gICAgICAgIGxldCBvbkltYWdlTG9hZGVkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuICAgICAgICAgICAgY2FudmFzLndpZHRoID0gaW1nLm5hdHVyYWxXaWR0aDtcclxuICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGltZy5uYXR1cmFsV2lkdGg7XHJcbiAgICAgICAgICAgIGxldCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoaW1nLCAwLCAwKTtcclxuICAgICAgICAgICAgdGhpcy5mYXZpY29uQ2FudmFzQ3R4ID0gY29udGV4dDtcclxuICAgICAgICAgICAgdGhpcy5mYXZpY29uQ2FudmFzID0gY2FudmFzO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIG9uSW1hZ2VMb2FkZWQuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgaW1nLnNyYyA9IGZhdmljb24uaHJlZjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgdG8gYmUgcmVuZGVyZWQgZnJhbWUgZm9yIEZhdmlkZW9Nb2RlVmlkZW8uXHJcbiAgICAgKiBAcGFyYW0gdmlkZW9cclxuICAgICAqIEBwYXJhbSBjYW52YXNcclxuICAgICAqIEBwYXJhbSBjYW52YXNDdHhcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIGdldEZhdmljb25GcmFtZShpbnB1dCwgY2FudmFzLCBjYW52YXNDdHgsIGZhdmljb24pIHtcclxuICAgICAgICBpZiAoIXRoaXMuZmF2aWNvbkNhbnZhc0N0eCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldEZhdmljb24oZmF2aWNvbik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBkcmF3IHZpZGVvIGZyYW1lIG9uIHRvIG9yaWdpbmFsIHNpemUgZmF2aWNvbkNhbnZhc1xyXG4gICAgICAgIGxldCBjYW52YXMyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgY2FudmFzMi53aWR0aCA9IGlucHV0LnZpZGVvLnZpZGVvV2lkdGg7XHJcbiAgICAgICAgY2FudmFzMi5oZWlnaHQgPSBpbnB1dC52aWRlby52aWRlb0hlaWdodDtcclxuICAgICAgICBsZXQgY2FudmFzQ3R4MiA9IGNhbnZhczIuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICBjYW52YXNDdHgyLmRyYXdJbWFnZShpbnB1dC5nZXRTb3VyY2UoKSwgMCwgMCwgY2FudmFzMi53aWR0aCwgY2FudmFzMi5oZWlnaHQpO1xyXG4gICAgICAgIGxldCBwaXhlbENvbG9yID0gdGhpcy5nZXRDb2xvcihjYW52YXMyLCBjYW52YXNDdHgyKTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmZhdmljb25DYW52YXNDdHgpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKFwiZmF2aWNvbiBub3QgeWV0IHJlYWR5XCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5mYXZpY29uQ2FudmFzQ3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwic291cmNlLWluXCI7XHJcbiAgICAgICAgdGhpcy5mYXZpY29uQ2FudmFzQ3R4LmZpbGxTdHlsZSA9IHBpeGVsQ29sb3I7XHJcbiAgICAgICAgdGhpcy5mYXZpY29uQ2FudmFzQ3R4LmZpbGxSZWN0KDAsIDAsIHRoaXMuZmF2aWNvbkNhbnZhcy53aWR0aCwgdGhpcy5mYXZpY29uQ2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgdGhpcy5mYXZpY29uQ2FudmFzQ3R4LmZpbGwoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZmF2aWNvbkNhbnZhcy50b0RhdGFVUkwoKTtcclxuICAgIH07XHJcblxyXG4gICAgZ2V0Q29sb3IoY2FudmFzLCBjdHgpIHtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuY29sb3JUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJhdmVyYWdlXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQ29sb3IuZ2V0QXZlcmFnZUNvbG9yKGNhbnZhcywgY3R4KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiZG9taW5hbnRcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBDb2xvci5nZXREb21pbmFudENvbG9yKGNhbnZhcywgY3R4KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGV2ZW50IGhhbmRsZXIgdXBkYXRlcyB0aGUgZmF2aWNvbkNhbnZhcyB3aWR0aCBhbmQgaGVpZ2h0LFxyXG4gICAgICogYmVjYXVzZSB0aGUgdmlkZW8gd2lkdGggYW5kIGhlaWdodCBhcmUgbm93IGtub3duLlxyXG4gICAgICovXHJcbiAgICBsb2FkZWRtZXRhZGF0YUhhbmRsZXIoKSB7XHJcbiAgICAgICAgbGV0IGNhbnZhc1dpZHRoID0gdGhpcy5mYXZpY29uLnNpemUsIGNhbnZhc0hlaWdodCA9IHRoaXMuZmF2aWNvbi5zaXplO1xyXG4gICAgICAgIHRoaXMuZmF2aWNvbkNhbnZhcy53aWR0aCA9IGNhbnZhc1dpZHRoO1xyXG4gICAgICAgIHRoaXMuZmF2aWNvbkNhbnZhcy5oZWlnaHQgPSBjYW52YXNIZWlnaHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHJlc3RvcmVPcmlnaW5hbEZhdmljb24oKSB7XHJcbiAgICAgICAgdGhpcy5mYXZpY29uLnJlc3RvcmVEZWZhdWx0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHJlZ2lzdGVycyB0aGUgdXBkYXRlIGV2ZW50IG9mIEZhdmlkZW9Nb2RlVmlkZW8uXHJcbiAgICAgKi9cclxuICAgIHJlZ2lzdGVyVXBkYXRlRXZlbnQoZmF2aWRlbykge1xyXG4gICAgICAgIGZhdmlkZW8ucmVnaXN0ZXJWaWRlb0V2ZW50KCdsb2FkZWRtZXRhZGF0YScsIHRoaXMubG9hZGVkbWV0YWRhdGFIYW5kbGVyLmJpbmQoZmF2aWRlbykpO1xyXG4gICAgICAgIGZhdmlkZW8ucmVnaXN0ZXJWaWRlb0V2ZW50KCdwYXVzZScsIHRoaXMucmVzdG9yZU9yaWdpbmFsRmF2aWNvbi5iaW5kKGZhdmlkZW8pKTtcclxuICAgICAgICBmYXZpZGVvLnJlZ2lzdGVyVmlkZW9FdmVudCgnZW5kZWQnLCB0aGlzLnJlc3RvcmVPcmlnaW5hbEZhdmljb24uYmluZChmYXZpZGVvKSk7XHJcbiAgICAgICAgaWYgKCF0aGlzLmZwcykge1xyXG4gICAgICAgICAgICBmYXZpZGVvLnJlZ2lzdGVyVmlkZW9FdmVudCgndGltZXVwZGF0ZScsIGZhdmlkZW8udXBkYXRlLmJpbmQoZmF2aWRlbykpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5pbnRlcnZhbCA9IHNldEludGVydmFsKGZhdmlkZW8udXBkYXRlLmJpbmQoZmF2aWRlbyksIDEwMDAvdGhpcy5mcHMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkaXNhYmxlKCkge1xyXG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmludGVydmFsKTtcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBWaWRlb0lucHV0IHtcclxuICAgIGNvbnN0cnVjdG9yKHZpZGVvKSB7XHJcbiAgICAgICAgdGhpcy52aWRlbyA9IHZpZGVvO1xyXG4gICAgfVxyXG4gICAgZ2V0U291cmNlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZpZGVvO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHtGYXZpZGVvfSBmcm9tICcuL0ZhdmlkZW8vRmF2aWRlbyc7XHJcbmltcG9ydCB7VmlkZW9Nb2RlfSBmcm9tIFwiLi9GYXZpZGVvL0ZhdmlkZW9Nb2RlL1ZpZGVvTW9kZVwiO1xyXG5pbXBvcnQge1BsYXlJY29uTW9kZX0gZnJvbSBcIi4vRmF2aWRlby9GYXZpZGVvTW9kZS9QbGF5SWNvbk1vZGVcIjtcclxuaW1wb3J0IHtSZWNvbG9yTW9kZX0gZnJvbSBcIi4vRmF2aWRlby9GYXZpZGVvTW9kZS9SZWNvbG9yTW9kZVwiO1xyXG5pbXBvcnQge1ZpZGVvSW5wdXR9IGZyb20gXCIuL0ZhdmlkZW8vRmF2aWRlb0lucHV0L1ZpZGVvSW5wdXRcIjtcclxuXHJcbndpbmRvdy5GYXZpZGVvID0gRmF2aWRlbztcclxud2luZG93LlZpZGVvTW9kZSA9IFZpZGVvTW9kZTtcclxud2luZG93LlBsYXlJY29uTW9kZSA9IFBsYXlJY29uTW9kZTtcclxud2luZG93LlJlY29sb3JNb2RlID0gUmVjb2xvck1vZGU7XHJcbndpbmRvdy5WaWRlb0lucHV0ID0gVmlkZW9JbnB1dDsiXSwic291cmNlUm9vdCI6IiJ9