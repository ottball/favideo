!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e){if(!n)var n={map:function(t,e){var n={};return e?t.map((function(t,i){return n.index=i,e.call(n,t)})):t.slice()},naturalOrder:function(t,e){return t<e?-1:t>e?1:0},sum:function(t,e){var n={};return t.reduce(e?function(t,i,r){return n.index=r,t+e.call(n,i)}:function(t,e){return t+e},0)},max:function(t,e){return Math.max.apply(null,e?n.map(t,e):t)}};var i=function(){var t=5,e=8-t,i=1e3,r=.75;function o(e,n,i){return(e<<2*t)+(n<<t)+i}function a(t){var e=[],n=!1;function i(){e.sort(t),n=!0}return{push:function(t){e.push(t),n=!1},peek:function(t){return n||i(),void 0===t&&(t=e.length-1),e[t]},pop:function(){return n||i(),e.pop()},size:function(){return e.length},map:function(t){return e.map(t)},debug:function(){return n||i(),e}}}function s(t,e,n,i,r,o,a){this.r1=t,this.r2=e,this.g1=n,this.g2=i,this.b1=r,this.b2=o,this.histo=a}function u(){this.vboxes=new a((function(t,e){return n.naturalOrder(t.vbox.count()*t.vbox.volume(),e.vbox.count()*e.vbox.volume())}))}function c(t,e){if(e.count()){var i=e.r2-e.r1+1,r=e.g2-e.g1+1,a=e.b2-e.b1+1,s=n.max([i,r,a]);if(1==e.count())return[e.copy()];var u,c,f,h,l=0,v=[],d=[];if(s==i)for(u=e.r1;u<=e.r2;u++){for(h=0,c=e.g1;c<=e.g2;c++)for(f=e.b1;f<=e.b2;f++)h+=t[o(u,c,f)]||0;l+=h,v[u]=l}else if(s==r)for(u=e.g1;u<=e.g2;u++){for(h=0,c=e.r1;c<=e.r2;c++)for(f=e.b1;f<=e.b2;f++)h+=t[o(c,u,f)]||0;l+=h,v[u]=l}else for(u=e.b1;u<=e.b2;u++){for(h=0,c=e.r1;c<=e.r2;c++)for(f=e.g1;f<=e.g2;f++)h+=t[o(c,f,u)]||0;l+=h,v[u]=l}return v.forEach((function(t,e){d[e]=l-t})),p(s==i?"r":s==r?"g":"b")}function p(t){var n,i,r,o,a,s=t+"1",c=t+"2",f=0;for(u=e[s];u<=e[c];u++)if(v[u]>l/2){for(r=e.copy(),o=e.copy(),a=(n=u-e[s])<=(i=e[c]-u)?Math.min(e[c]-1,~~(u+i/2)):Math.max(e[s],~~(u-1-n/2));!v[a];)a++;for(f=d[a];!f&&v[a-1];)f=d[--a];return r[c]=a,o[s]=r[c]+1,[r,o]}}}return s.prototype={volume:function(t){return this._volume&&!t||(this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1)),this._volume},count:function(t){var e=this.histo;if(!this._count_set||t){var n,i,r,a=0;for(n=this.r1;n<=this.r2;n++)for(i=this.g1;i<=this.g2;i++)for(r=this.b1;r<=this.b2;r++)a+=e[o(n,i,r)]||0;this._count=a,this._count_set=!0}return this._count},copy:function(){return new s(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.histo)},avg:function(e){var n=this.histo;if(!this._avg||e){var i,r,a,s,u=0,c=1<<8-t,f=0,h=0,l=0;for(r=this.r1;r<=this.r2;r++)for(a=this.g1;a<=this.g2;a++)for(s=this.b1;s<=this.b2;s++)u+=i=n[o(r,a,s)]||0,f+=i*(r+.5)*c,h+=i*(a+.5)*c,l+=i*(s+.5)*c;this._avg=u?[~~(f/u),~~(h/u),~~(l/u)]:[~~(c*(this.r1+this.r2+1)/2),~~(c*(this.g1+this.g2+1)/2),~~(c*(this.b1+this.b2+1)/2)]}return this._avg},contains:function(t){var n=t[0]>>e;return gval=t[1]>>e,bval=t[2]>>e,n>=this.r1&&n<=this.r2&&gval>=this.g1&&gval<=this.g2&&bval>=this.b1&&bval<=this.b2}},u.prototype={push:function(t){this.vboxes.push({vbox:t,color:t.avg()})},palette:function(){return this.vboxes.map((function(t){return t.color}))},size:function(){return this.vboxes.size()},map:function(t){for(var e=this.vboxes,n=0;n<e.size();n++)if(e.peek(n).vbox.contains(t))return e.peek(n).color;return this.nearest(t)},nearest:function(t){for(var e,n,i,r=this.vboxes,o=0;o<r.size();o++)((n=Math.sqrt(Math.pow(t[0]-r.peek(o).color[0],2)+Math.pow(t[1]-r.peek(o).color[1],2)+Math.pow(t[2]-r.peek(o).color[2],2)))<e||void 0===e)&&(e=n,i=r.peek(o).color);return i},forcebw:function(){var t=this.vboxes;t.sort((function(t,e){return n.naturalOrder(n.sum(t.color),n.sum(e.color))}));var e=t[0].color;e[0]<5&&e[1]<5&&e[2]<5&&(t[0].color=[0,0,0]);var i=t.length-1,r=t[i].color;r[0]>251&&r[1]>251&&r[2]>251&&(t[i].color=[255,255,255])}},{quantize:function(f,h){if(!f.length||h<2||h>256)return!1;var l=function(n){var i,r,a,s,u=new Array(1<<3*t);return n.forEach((function(t){r=t[0]>>e,a=t[1]>>e,s=t[2]>>e,i=o(r,a,s),u[i]=(u[i]||0)+1})),u}(f);l.forEach((function(){0}));var v=function(t,n){var i,r,o,a=1e6,u=0,c=1e6,f=0,h=1e6,l=0;return t.forEach((function(t){i=t[0]>>e,r=t[1]>>e,o=t[2]>>e,i<a?a=i:i>u&&(u=i),r<c?c=r:r>f&&(f=r),o<h?h=o:o>l&&(l=o)})),new s(a,u,c,f,h,l,n)}(f,l),d=new a((function(t,e){return n.naturalOrder(t.count(),e.count())}));function p(t,e){for(var n,r=1,o=0;o<i;)if((n=t.pop()).count()){var a=c(l,n),s=a[0],u=a[1];if(!s)return;if(t.push(s),u&&(t.push(u),r++),r>=e)return;if(o++>i)return}else t.push(n),o++}d.push(v),p(d,r*h);for(var g=new a((function(t,e){return n.naturalOrder(t.count()*t.volume(),e.count()*e.volume())}));d.size();)g.push(d.pop());p(g,h-g.size());for(var b=new u;g.size();)b.push(g.pop());return b}}}();t.exports=i.quantize},function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n.r(e);var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=this.getExistingFavicon();n?(this.originalHref=n.href,this.node=n):this.node=this.create()}var e,n,r;return e=t,(n=[{key:"getExistingFavicon",value:function(){return document.querySelector('link[rel="shortcut icon"]')}},{key:"create",value:function(){var t=document.createElement("link");return t.type="image/x-icon",t.rel="shortcut icon",document.getElementsByTagName("head")[0].appendChild(t),t}},{key:"update",value:function(t){this.href=t}},{key:"restoreDefault",value:function(){this.originalHref&&this.update(this.originalHref)}},{key:"href",set:function(t){this.node.href=t},get:function(){return this.node.href}},{key:"size",set:function(t){this.size_=t,this.node.sizes=t+"x"+t},get:function(){return this.size_}}])&&i(e.prototype,n),r&&i(e,r),t}();function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=document.createElement("canvas"),this.ctx_=this.canvas.getContext("2d")}var e,n,i;return e=t,(n=[{key:"node",get:function(){return this.canvas}},{key:"ctx",get:function(){return this.ctx_}},{key:"width",get:function(){return this.node.width},set:function(t){this.node.width=t}},{key:"height",get:function(){return this.node.width},set:function(t){this.node.height=t}}])&&o(e.prototype,n),i&&o(e,i),t}();function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var u=function(){function t(e,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.video=e,this.mode=n,this.favicon=new r,this.favicon.size=i,this.faviconCanvas=new a,this.videoEventListeners=[],this.enable()}var e,n,i;return e=t,(n=[{key:"update",value:function(){var t=this.mode.getFaviconFrame(this.video,this.faviconCanvas.node,this.faviconCanvas.ctx,this.favicon);t&&this.favicon.update(t)}},{key:"enable",value:function(){this.mode.registerUpdateEvent(this)}},{key:"disable",value:function(){this.unregisterVideoEvents(),this.mode.disable()}},{key:"registerVideoEvent",value:function(t,e){this.videoEventListeners.push({event:t,func:e}),this.video.addEventListener(t,e)}},{key:"unregisterVideoEvents",value:function(){for(var t=0;t<this.videoEventListeners.length;t++){var e=this.videoEventListeners[t];this.video.removeEventListener(e.event,e.func)}}}])&&s(e.prototype,n),i&&s(e,i),t}();var c=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)};function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=l(this,v(e).call(this))).respectAspectRatio=t,i.fps=n,i.videoInCanvasSettings={dx:0,dy:0,dWidth:0,dHeight:0},i}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,t),n=e,(i=[{key:"getFaviconFrame",value:function(t,e,n){return this.respectAspectRatio?n.drawImage(t,this.videoInCanvasSettings.dx,this.videoInCanvasSettings.dy,this.videoInCanvasSettings.dWidth,this.videoInCanvasSettings.dHeight):n.drawImage(t,0,0,e.width,e.height),e.toDataURL()}},{key:"getVideoInFaviconFit",value:function(t,e,n){var i=e/(t/n);return{width:n,height:i,offset:(n-i)/2}}},{key:"calculateAndSetVideoInCanvasProfile",value:function(t,e){var n,i=t.videoWidth,r=t.videoHeight;i>r?(n=this.getVideoInFaviconFit(i,r,e),this.videoInCanvasSettings.dx=0,this.videoInCanvasSettings.dy=n.offset,this.videoInCanvasSettings.dWidth=n.width,this.videoInCanvasSettings.dHeight=n.height):(n=this.getVideoInFaviconFit(r,i,e),this.videoInCanvasSettings.dx=n.offset,this.videoInCanvasSettings.dy=0,this.videoInCanvasSettings.dWidth=n.height,this.videoInCanvasSettings.dHeight=n.width)}},{key:"loadedmetadataHandler",value:function(){var t=0,e=0;this.mode.respectAspectRatio?(this.mode.calculateAndSetVideoInCanvasProfile(this.video,this.favicon.size),t=this.favicon.size,e=this.favicon.size):(t=this.video.videoWidth,e=this.video.videoHeight),this.faviconCanvas.width=t,this.faviconCanvas.height=e}},{key:"registerUpdateEvent",value:function(t){t.registerVideoEvent("loadedmetadata",this.loadedmetadataHandler.bind(t)),this.fps?this.interval=setInterval(t.update.bind(t),1e3/this.fps):t.registerVideoEvent("timeupdate",t.update.bind(t))}},{key:"disable",value:function(){clearTimeout(this.interval)}}])&&h(n.prototype,i),r&&h(n,r),e}(c);function g(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var b=n(0),y=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,i=[{key:"getAverageColor",value:function(e,n){for(var i=n.getImageData(0,0,e.width,e.height).data,r={r:0,g:0,b:0,a:0},o=i.length/4,a=0;a<i.length;a+=4)r.r=r.r+i[a],r.g=r.g+i[a+1],r.b=r.b+i[a+2],r.a=r.a+i[a+3];var s={r:r.r/o,g:r.g/o,b:r.b/o,a:r.a/o};return t.getRgbaCssString(s)}},{key:"createPixelArray",value:function(t,e){for(var n,i,r,o,a,s=t,u=[],c=0;c<e;c++)i=s[0+(n=4*c)],r=s[n+1],o=s[n+2],(void 0===(a=s[n+3])||a>=125)&&(i>250&&r>250&&o>250||u.push([i,r,o]));return u}},{key:"getDominantColor",value:function(e,n){var i=n.getImageData(0,0,e.width,e.height),r=e.width*e.height,o=t.createPixelArray(i.data,r),a=b(o,4),s=a?a.palette():null;return t.getRgbaCssStringByArray(s[0])}},{key:"getRgbaCssString",value:function(t){return"rgba("+t.r+","+t.g+","+t.b+","+t.a+")"}},{key:"getRgbaCssStringByArray",value:function(t){return"rgba("+t[0]+","+t[1]+","+t[2]+",255)"}}],(n=null)&&g(e.prototype,n),i&&g(e,i),t}();function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function C(t,e){return!e||"object"!==m(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var x=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=C(this,k(e).call(this))).fps=t,i.colorType=n,i}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}(e,t),n=e,(i=[{key:"getFaviconFrame",value:function(t,e,n,i){var r=document.createElement("canvas");r.width=t.videoWidth,r.height=t.videoHeight;var o=r.getContext("2d");o.drawImage(t,0,0,r.width,r.height);var a=this.getColor(r,o);return n.clearRect(0,0,e.width,e.height),this.drawObject(a,n,i.size),e.toDataURL()}},{key:"getColor",value:function(t,e){switch(this.colorType){case"average":return y.getAverageColor(t,e);case"dominant":return y.getDominantColor(t,e)}}},{key:"drawObject",value:function(t,e,n){this.drawPlayObject(t,e,n)}},{key:"drawPlayObject",value:function(t,e,n){e.fillStyle=t,e.beginPath(),e.moveTo(0,0),e.lineTo(0,n),e.lineTo(n,n/2),e.fill()}},{key:"loadedmetadataHandler",value:function(){var t=this.favicon.size,e=this.favicon.size;this.faviconCanvas.width=t,this.faviconCanvas.height=e}},{key:"restoreOriginalFavicon",value:function(){this.favicon.restoreDefault()}},{key:"registerUpdateEvent",value:function(t){t.registerVideoEvent("loadedmetadata",this.loadedmetadataHandler.bind(t)),t.registerVideoEvent("pause",this.restoreOriginalFavicon.bind(t)),t.registerVideoEvent("ended",this.restoreOriginalFavicon.bind(t)),this.fps?this.interval=setInterval(t.update.bind(t),1e3/this.fps):t.registerVideoEvent("timeupdate",t.update.bind(t))}},{key:"disable",value:function(){clearTimeout(this.interval)}}])&&w(n.prototype,i),r&&w(n,r),e}(c);function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function S(t,e){return!e||"object"!==E(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var I=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=S(this,j(e).call(this))).fps=t,i.colorType=n,i}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(e,t),n=e,(i=[{key:"setFavicon",value:function(t){var e=this,n=document.createElement("img");n.addEventListener("load",function(){var t=document.createElement("canvas");t.width=n.naturalWidth,t.height=n.naturalWidth;var i=t.getContext("2d");i.drawImage(n,0,0),e.faviconCanvasCtx=i,e.faviconCanvas=t}.bind(this)),n.src=t.href}},{key:"getFaviconFrame",value:function(t,e,n,i){this.faviconCanvasCtx||this.setFavicon(i);var r=document.createElement("canvas");r.width=t.videoWidth,r.height=t.videoHeight;var o=r.getContext("2d");o.drawImage(t,0,0,r.width,r.height);var a=this.getColor(r,o);return this.faviconCanvasCtx?(this.faviconCanvasCtx.globalCompositeOperation="source-in",this.faviconCanvasCtx.fillStyle=a,this.faviconCanvasCtx.fillRect(0,0,this.faviconCanvas.width,this.faviconCanvas.height),this.faviconCanvasCtx.fill(),this.faviconCanvas.toDataURL()):null}},{key:"getColor",value:function(t,e){switch(this.colorType){case"average":return y.getAverageColor(t,e);case"dominant":return y.getDominantColor(t,e)}}},{key:"loadedmetadataHandler",value:function(){var t=this.favicon.size,e=this.favicon.size;this.faviconCanvas.width=t,this.faviconCanvas.height=e}},{key:"restoreOriginalFavicon",value:function(){this.favicon.restoreDefault()}},{key:"registerUpdateEvent",value:function(t){t.registerVideoEvent("loadedmetadata",this.loadedmetadataHandler.bind(t)),t.registerVideoEvent("pause",this.restoreOriginalFavicon.bind(t)),t.registerVideoEvent("ended",this.restoreOriginalFavicon.bind(t)),this.fps?this.interval=setInterval(t.update.bind(t),1e3/this.fps):t.registerVideoEvent("timeupdate",t.update.bind(t))}},{key:"disable",value:function(){clearTimeout(this.interval)}}])&&_(n.prototype,i),r&&_(n,r),e}(c);window.Favideo=u,window.VideoMode=p,window.PlayIconMode=x,window.RecolorMode=I}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3F1YW50aXplL3F1YW50aXplLmpzIiwid2VicGFjazovLy8uL3NyYy9VdGlsL0Zhdmljb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1V0aWwvQ2FudmFzLmpzIiwid2VicGFjazovLy8uL3NyYy9GYXZpZGVvLmpzIiwid2VicGFjazovLy8uL3NyYy9GYXZpZGVvTW9kZS9GYXZpZGVvTW9kZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvRmF2aWRlb01vZGUvVmlkZW9Nb2RlLmpzIiwid2VicGFjazovLy8uL3NyYy9VdGlsL0NvbG9yLmpzIiwid2VicGFjazovLy8uL3NyYy9GYXZpZGVvTW9kZS9QbGF5SWNvbk1vZGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0ZhdmlkZW9Nb2RlL1JlY29sb3JNb2RlLmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInB2IiwibWFwIiwiYXJyYXkiLCJmIiwiaW5kZXgiLCJzbGljZSIsIm5hdHVyYWxPcmRlciIsImEiLCJiIiwic3VtIiwicmVkdWNlIiwibWF4IiwiTWF0aCIsImFwcGx5IiwiTU1DUSIsInNpZ2JpdHMiLCJyc2hpZnQiLCJtYXhJdGVyYXRpb25zIiwiZnJhY3RCeVBvcHVsYXRpb25zIiwiZ2V0Q29sb3JJbmRleCIsImciLCJQUXVldWUiLCJjb21wYXJhdG9yIiwiY29udGVudHMiLCJzb3J0ZWQiLCJzb3J0IiwicHVzaCIsInBlZWsiLCJ1bmRlZmluZWQiLCJsZW5ndGgiLCJwb3AiLCJzaXplIiwiZGVidWciLCJWQm94IiwicjEiLCJyMiIsImcxIiwiZzIiLCJiMSIsImIyIiwiaGlzdG8iLCJ0aGlzIiwiQ01hcCIsInZib3hlcyIsInZib3giLCJjb3VudCIsInZvbHVtZSIsIm1lZGlhbkN1dEFwcGx5IiwicnciLCJndyIsImJ3IiwibWF4dyIsImNvcHkiLCJqIiwiayIsInRvdGFsIiwicGFydGlhbHN1bSIsImxvb2thaGVhZHN1bSIsImZvckVhY2giLCJkb0N1dCIsImNvbG9yIiwibGVmdCIsInJpZ2h0IiwidmJveDEiLCJ2Ym94MiIsImQyIiwiZGltMSIsImRpbTIiLCJjb3VudDIiLCJtaW4iLCJmb3JjZSIsIl92b2x1bWUiLCJfY291bnRfc2V0IiwibnBpeCIsIl9jb3VudCIsImF2ZyIsIl9hdmciLCJodmFsIiwibnRvdCIsIm11bHQiLCJyc3VtIiwiZ3N1bSIsImJzdW0iLCJjb250YWlucyIsInBpeGVsIiwicnZhbCIsImd2YWwiLCJidmFsIiwicGFsZXR0ZSIsInZiIiwibmVhcmVzdCIsImQxIiwicENvbG9yIiwic3FydCIsInBvdyIsImZvcmNlYnciLCJsb3dlc3QiLCJpZHgiLCJoaWdoZXN0IiwicXVhbnRpemUiLCJwaXhlbHMiLCJtYXhjb2xvcnMiLCJBcnJheSIsImdldEhpc3RvIiwibkNvbG9ycyIsInJtaW4iLCJybWF4IiwiZ21pbiIsImdtYXgiLCJibWluIiwiYm1heCIsInZib3hGcm9tUGl4ZWxzIiwicHEiLCJpdGVyIiwibGgiLCJ0YXJnZXQiLCJuY29sb3JzIiwibml0ZXJzIiwicHEyIiwiY21hcCIsIkZhdmljb24iLCJmYXZpY29uIiwiZXhpc3RpbmdGYXZpY29uIiwiZ2V0RXhpc3RpbmdGYXZpY29uIiwib3JpZ2luYWxIcmVmIiwiaHJlZiIsIm5vZGUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJsaW5rIiwiY3JlYXRlRWxlbWVudCIsInR5cGUiLCJyZWwiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImFwcGVuZENoaWxkIiwidXJsIiwidXBkYXRlIiwic2l6ZV8iLCJzaXplcyIsIkNhbnZhcyIsImNhbnZhcyIsImN0eF8iLCJnZXRDb250ZXh0Iiwid2lkdGgiLCJoZWlnaHQiLCJGYXZpZGVvIiwidmlkZW8iLCJmYXZpY29uU2l6ZSIsImZhdmljb25DYW52YXMiLCJ2aWRlb0V2ZW50TGlzdGVuZXJzIiwiZW5hYmxlIiwiZnJhbWVVcmwiLCJnZXRGYXZpY29uRnJhbWUiLCJjdHgiLCJyZWdpc3RlclVwZGF0ZUV2ZW50IiwidW5yZWdpc3RlclZpZGVvRXZlbnRzIiwiZGlzYWJsZSIsImV2ZW50IiwiZnVuYyIsImFkZEV2ZW50TGlzdGVuZXIiLCJ2ZWwiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiRmF2aWRlb01vZGUiLCJWaWRlb01vZGUiLCJyZXNwZWN0QXNwZWN0UmF0aW8iLCJmcHMiLCJ2aWRlb0luQ2FudmFzU2V0dGluZ3MiLCJkeCIsImR5IiwiZFdpZHRoIiwiZEhlaWdodCIsImNhbnZhc0N0eCIsImRyYXdJbWFnZSIsInRvRGF0YVVSTCIsImZsIiwiYXZfaCIsIm9mZnNldCIsInZpZGVvRml0Iiwidl93IiwidmlkZW9XaWR0aCIsInZfaCIsInZpZGVvSGVpZ2h0IiwiZ2V0VmlkZW9JbkZhdmljb25GaXQiLCJjYW52YXNXaWR0aCIsImNhbnZhc0hlaWdodCIsImNhbGN1bGF0ZUFuZFNldFZpZGVvSW5DYW52YXNQcm9maWxlIiwiZmF2aWRlbyIsInJlZ2lzdGVyVmlkZW9FdmVudCIsImxvYWRlZG1ldGFkYXRhSGFuZGxlciIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhclRpbWVvdXQiLCJyZXF1aXJlIiwiQ29sb3IiLCJpbWFnZURhdGEiLCJnZXRJbWFnZURhdGEiLCJkYXRhIiwidG90YWxSZ2JhIiwibmJPZlBpeGVscyIsImF2Z1JnYmEiLCJnZXRSZ2JhQ3NzU3RyaW5nIiwiaW1nRGF0YSIsInBpeGVsQ291bnQiLCJwaXhlbEFycmF5IiwiY3JlYXRlUGl4ZWxBcnJheSIsImdldFJnYmFDc3NTdHJpbmdCeUFycmF5IiwicmdiYSIsImFyciIsIlBsYXlJY29uTW9kZSIsImNvbG9yVHlwZSIsImNhbnZhczIiLCJjYW52YXNDdHgyIiwicGl4ZWxDb2xvciIsImdldENvbG9yIiwiY2xlYXJSZWN0IiwiZHJhd09iamVjdCIsImdldEF2ZXJhZ2VDb2xvciIsImdldERvbWluYW50Q29sb3IiLCJkcmF3UGxheU9iamVjdCIsImZpbGxTdHlsZSIsImJlZ2luUGF0aCIsIm1vdmVUbyIsImxpbmVUbyIsImZpbGwiLCJyZXN0b3JlRGVmYXVsdCIsInJlc3RvcmVPcmlnaW5hbEZhdmljb24iLCJSZWNvbG9yTW9kZSIsImltZyIsIm5hdHVyYWxXaWR0aCIsImNvbnRleHQiLCJmYXZpY29uQ2FudmFzQ3R4Iiwic3JjIiwic2V0RmF2aWNvbiIsImdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiIsImZpbGxSZWN0Iiwid2luZG93Il0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0s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ak0sS0FBSzJHLGNBQWNMLE1BQU90RyxLQUFLMkcsY0FBY0osUUFDbEZ2RyxLQUFLNkwsaUJBQWlCUCxPQUVmdEwsS0FBSzJHLGNBQWN5QixhQVBmLE9BaERuQiwrQkEwRGFqQyxFQUFRYSxHQUNiLE9BQVFoSCxLQUFLd0ssV0FDVCxJQUFLLFVBQ0QsT0FBT2hCLEVBQU11QixnQkFBZ0I1RSxFQUFRYSxHQUV6QyxJQUFLLFdBQ0QsT0FBT3dDLEVBQU13QixpQkFBaUI3RSxFQUFRYSxNQWhFdEQsOENBNEVRLElBQUk4QixFQUFjOUksS0FBS2dGLFFBQVExRixLQUFNeUosRUFBZS9JLEtBQUtnRixRQUFRMUYsS0FDakVVLEtBQUsyRyxjQUFjTCxNQUFRd0MsRUFDM0I5SSxLQUFLMkcsY0FBY0osT0FBU3dDLElBOUVwQywrQ0FrRlEvSSxLQUFLZ0YsUUFBUXVHLG1CQWxGckIsMENBd0Z3QnRDLEdBQ2hCQSxFQUFRQyxtQkFBbUIsaUJBQWtCbEosS0FBS21KLHNCQUFzQnBNLEtBQUtrTSxJQUM3RUEsRUFBUUMsbUJBQW1CLFFBQVNsSixLQUFLd0wsdUJBQXVCek8sS0FBS2tNLElBQ3JFQSxFQUFRQyxtQkFBbUIsUUFBU2xKLEtBQUt3TCx1QkFBdUJ6TyxLQUFLa00sSUFDaEVqSixLQUFLNEgsSUFHTjVILEtBQUtvSixTQUFXQyxZQUFZSixFQUFRbEQsT0FBT2hKLEtBQUtrTSxHQUFVLElBQUtqSixLQUFLNEgsS0FGcEVxQixFQUFRQyxtQkFBbUIsYUFBY0QsRUFBUWxELE9BQU9oSixLQUFLa00sTUE3RnpFLGdDQW9HUUssYUFBYXRKLEtBQUtvSixlLDJCQXBHMUIsR0FBaUMzQixHQ0VqQ3lFLE9BQU8xRixRQUFVQSxFQUNqQjBGLE9BQU94RSxVQUFZQSxFQUNuQndFLE9BQU8zQixhQUFlQSxFQUN0QjJCLE9BQU9ULFlBQWNBIiwiZmlsZSI6ImZhdmljb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMSk7XG4iLCIvKlxuICogcXVhbnRpemUuanMgQ29weXJpZ2h0IDIwMDggTmljayBSYWJpbm93aXR6XG4gKiBQb3J0ZWQgdG8gbm9kZS5qcyBieSBPbGl2aWVyIExlc25pY2tpXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2U6IGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gKi9cblxuLy8gZmlsbCBvdXQgYSBjb3VwbGUgcHJvdG92aXMgZGVwZW5kZW5jaWVzXG4vKlxuICogQmxvY2sgYmVsb3cgY29waWVkIGZyb20gUHJvdG92aXM6IGh0dHA6Ly9tYm9zdG9jay5naXRodWIuY29tL3Byb3RvdmlzL1xuICogQ29weXJpZ2h0IDIwMTAgU3RhbmZvcmQgVmlzdWFsaXphdGlvbiBHcm91cFxuICogTGljZW5zZWQgdW5kZXIgdGhlIEJTRCBMaWNlbnNlOiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL2JzZC1saWNlbnNlLnBocFxuICovXG5pZiAoIXB2KSB7XG4gICAgdmFyIHB2ID0ge1xuICAgICAgICBtYXA6IGZ1bmN0aW9uKGFycmF5LCBmKSB7XG4gICAgICAgICAgICB2YXIgbyA9IHt9O1xuICAgICAgICAgICAgcmV0dXJuIGYgPyBhcnJheS5tYXAoZnVuY3Rpb24oZCwgaSkge1xuICAgICAgICAgICAgICAgIG8uaW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmLmNhbGwobywgZCk7XG4gICAgICAgICAgICB9KSA6IGFycmF5LnNsaWNlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIG5hdHVyYWxPcmRlcjogZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIChhIDwgYikgPyAtMSA6ICgoYSA+IGIpID8gMSA6IDApO1xuICAgICAgICB9LFxuICAgICAgICBzdW06IGZ1bmN0aW9uKGFycmF5LCBmKSB7XG4gICAgICAgICAgICB2YXIgbyA9IHt9O1xuICAgICAgICAgICAgcmV0dXJuIGFycmF5LnJlZHVjZShmID8gZnVuY3Rpb24ocCwgZCwgaSkge1xuICAgICAgICAgICAgICAgIG8uaW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIHJldHVybiBwICsgZi5jYWxsKG8sIGQpO1xuICAgICAgICAgICAgfSA6IGZ1bmN0aW9uKHAsIGQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcCArIGQ7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfSxcbiAgICAgICAgbWF4OiBmdW5jdGlvbihhcnJheSwgZikge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4LmFwcGx5KG51bGwsIGYgPyBwdi5tYXAoYXJyYXksIGYpIDogYXJyYXkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEJhc2ljIEphdmFzY3JpcHQgcG9ydCBvZiB0aGUgTU1DUSAobW9kaWZpZWQgbWVkaWFuIGN1dCBxdWFudGl6YXRpb24pXG4gKiBhbGdvcml0aG0gZnJvbSB0aGUgTGVwdG9uaWNhIGxpYnJhcnkgKGh0dHA6Ly93d3cubGVwdG9uaWNhLmNvbS8pLlxuICogUmV0dXJucyBhIGNvbG9yIG1hcCB5b3UgY2FuIHVzZSB0byBtYXAgb3JpZ2luYWwgcGl4ZWxzIHRvIHRoZSByZWR1Y2VkXG4gKiBwYWxldHRlLiBTdGlsbCBhIHdvcmsgaW4gcHJvZ3Jlc3MuXG4gKiBcbiAqIEBhdXRob3IgTmljayBSYWJpbm93aXR6XG4gKiBAZXhhbXBsZVxuIFxuLy8gYXJyYXkgb2YgcGl4ZWxzIGFzIFtSLEcsQl0gYXJyYXlzXG52YXIgbXlQaXhlbHMgPSBbWzE5MCwxOTcsMTkwXSwgWzIwMiwyMDQsMjAwXSwgWzIwNywyMTQsMjEwXSwgWzIxMSwyMTQsMjExXSwgWzIwNSwyMDcsMjA3XVxuICAgICAgICAgICAgICAgIC8vIGV0Y1xuICAgICAgICAgICAgICAgIF07XG52YXIgbWF4Q29sb3JzID0gNDtcbiBcbnZhciBjbWFwID0gTU1DUS5xdWFudGl6ZShteVBpeGVscywgbWF4Q29sb3JzKTtcbnZhciBuZXdQYWxldHRlID0gY21hcC5wYWxldHRlKCk7XG52YXIgbmV3UGl4ZWxzID0gbXlQaXhlbHMubWFwKGZ1bmN0aW9uKHApIHsgXG4gICAgcmV0dXJuIGNtYXAubWFwKHApOyBcbn0pO1xuIFxuICovXG52YXIgTU1DUSA9IChmdW5jdGlvbigpIHtcbiAgICAvLyBwcml2YXRlIGNvbnN0YW50c1xuICAgIHZhciBzaWdiaXRzID0gNSxcbiAgICAgICAgcnNoaWZ0ID0gOCAtIHNpZ2JpdHMsXG4gICAgICAgIG1heEl0ZXJhdGlvbnMgPSAxMDAwLFxuICAgICAgICBmcmFjdEJ5UG9wdWxhdGlvbnMgPSAwLjc1O1xuXG4gICAgLy8gZ2V0IHJlZHVjZWQtc3BhY2UgY29sb3IgaW5kZXggZm9yIGEgcGl4ZWxcblxuICAgIGZ1bmN0aW9uIGdldENvbG9ySW5kZXgociwgZywgYikge1xuICAgICAgICByZXR1cm4gKHIgPDwgKDIgKiBzaWdiaXRzKSkgKyAoZyA8PCBzaWdiaXRzKSArIGI7XG4gICAgfVxuXG4gICAgLy8gU2ltcGxlIHByaW9yaXR5IHF1ZXVlXG5cbiAgICBmdW5jdGlvbiBQUXVldWUoY29tcGFyYXRvcikge1xuICAgICAgICB2YXIgY29udGVudHMgPSBbXSxcbiAgICAgICAgICAgIHNvcnRlZCA9IGZhbHNlO1xuXG4gICAgICAgIGZ1bmN0aW9uIHNvcnQoKSB7XG4gICAgICAgICAgICBjb250ZW50cy5zb3J0KGNvbXBhcmF0b3IpO1xuICAgICAgICAgICAgc29ydGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwdXNoOiBmdW5jdGlvbihvKSB7XG4gICAgICAgICAgICAgICAgY29udGVudHMucHVzaChvKTtcbiAgICAgICAgICAgICAgICBzb3J0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwZWVrOiBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICAgICAgICAgIGlmICghc29ydGVkKSBzb3J0KCk7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSB1bmRlZmluZWQpIGluZGV4ID0gY29udGVudHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGVudHNbaW5kZXhdO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBvcDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzb3J0ZWQpIHNvcnQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGVudHMucG9wKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2l6ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtYXA6IGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGVudHMubWFwKGYpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlYnVnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNvcnRlZCkgc29ydCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb250ZW50cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyAzZCBjb2xvciBzcGFjZSBib3hcblxuICAgIGZ1bmN0aW9uIFZCb3gocjEsIHIyLCBnMSwgZzIsIGIxLCBiMiwgaGlzdG8pIHtcbiAgICAgICAgdmFyIHZib3ggPSB0aGlzO1xuICAgICAgICB2Ym94LnIxID0gcjE7XG4gICAgICAgIHZib3gucjIgPSByMjtcbiAgICAgICAgdmJveC5nMSA9IGcxO1xuICAgICAgICB2Ym94LmcyID0gZzI7XG4gICAgICAgIHZib3guYjEgPSBiMTtcbiAgICAgICAgdmJveC5iMiA9IGIyO1xuICAgICAgICB2Ym94Lmhpc3RvID0gaGlzdG87XG4gICAgfVxuICAgIFZCb3gucHJvdG90eXBlID0ge1xuICAgICAgICB2b2x1bWU6IGZ1bmN0aW9uKGZvcmNlKSB7XG4gICAgICAgICAgICB2YXIgdmJveCA9IHRoaXM7XG4gICAgICAgICAgICBpZiAoIXZib3guX3ZvbHVtZSB8fCBmb3JjZSkge1xuICAgICAgICAgICAgICAgIHZib3guX3ZvbHVtZSA9ICgodmJveC5yMiAtIHZib3gucjEgKyAxKSAqICh2Ym94LmcyIC0gdmJveC5nMSArIDEpICogKHZib3guYjIgLSB2Ym94LmIxICsgMSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZib3guX3ZvbHVtZTtcbiAgICAgICAgfSxcbiAgICAgICAgY291bnQ6IGZ1bmN0aW9uKGZvcmNlKSB7XG4gICAgICAgICAgICB2YXIgdmJveCA9IHRoaXMsXG4gICAgICAgICAgICAgICAgaGlzdG8gPSB2Ym94Lmhpc3RvO1xuICAgICAgICAgICAgaWYgKCF2Ym94Ll9jb3VudF9zZXQgfHwgZm9yY2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgbnBpeCA9IDAsXG4gICAgICAgICAgICAgICAgICAgIGksIGosIGssIGluZGV4O1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IHZib3gucjE7IGkgPD0gdmJveC5yMjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IHZib3guZzE7IGogPD0gdmJveC5nMjsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGsgPSB2Ym94LmIxOyBrIDw9IHZib3guYjI7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gZ2V0Q29sb3JJbmRleChpLCBqLCBrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBucGl4ICs9IChoaXN0b1tpbmRleF0gfHwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmJveC5fY291bnQgPSBucGl4O1xuICAgICAgICAgICAgICAgIHZib3guX2NvdW50X3NldCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmJveC5fY291bnQ7XG4gICAgICAgIH0sXG4gICAgICAgIGNvcHk6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHZib3ggPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBWQm94KHZib3gucjEsIHZib3gucjIsIHZib3guZzEsIHZib3guZzIsIHZib3guYjEsIHZib3guYjIsIHZib3guaGlzdG8pO1xuICAgICAgICB9LFxuICAgICAgICBhdmc6IGZ1bmN0aW9uKGZvcmNlKSB7XG4gICAgICAgICAgICB2YXIgdmJveCA9IHRoaXMsXG4gICAgICAgICAgICAgICAgaGlzdG8gPSB2Ym94Lmhpc3RvO1xuICAgICAgICAgICAgaWYgKCF2Ym94Ll9hdmcgfHwgZm9yY2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgbnRvdCA9IDAsXG4gICAgICAgICAgICAgICAgICAgIG11bHQgPSAxIDw8ICg4IC0gc2lnYml0cyksXG4gICAgICAgICAgICAgICAgICAgIHJzdW0gPSAwLFxuICAgICAgICAgICAgICAgICAgICBnc3VtID0gMCxcbiAgICAgICAgICAgICAgICAgICAgYnN1bSA9IDAsXG4gICAgICAgICAgICAgICAgICAgIGh2YWwsXG4gICAgICAgICAgICAgICAgICAgIGksIGosIGssIGhpc3RvaW5kZXg7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gdmJveC5yMTsgaSA8PSB2Ym94LnIyOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gdmJveC5nMTsgaiA8PSB2Ym94LmcyOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoayA9IHZib3guYjE7IGsgPD0gdmJveC5iMjsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlzdG9pbmRleCA9IGdldENvbG9ySW5kZXgoaSwgaiwgayk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHZhbCA9IGhpc3RvW2hpc3RvaW5kZXhdIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbnRvdCArPSBodmFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJzdW0gKz0gKGh2YWwgKiAoaSArIDAuNSkgKiBtdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnc3VtICs9IChodmFsICogKGogKyAwLjUpICogbXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnN1bSArPSAoaHZhbCAqIChrICsgMC41KSAqIG11bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChudG90KSB7XG4gICAgICAgICAgICAgICAgICAgIHZib3guX2F2ZyA9IFt+fihyc3VtIC8gbnRvdCksIH5+IChnc3VtIC8gbnRvdCksIH5+IChic3VtIC8gbnRvdCldO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2VtcHR5IGJveCcpO1xuICAgICAgICAgICAgICAgICAgICB2Ym94Ll9hdmcgPSBbfn4obXVsdCAqICh2Ym94LnIxICsgdmJveC5yMiArIDEpIC8gMiksIH5+IChtdWx0ICogKHZib3guZzEgKyB2Ym94LmcyICsgMSkgLyAyKSwgfn4gKG11bHQgKiAodmJveC5iMSArIHZib3guYjIgKyAxKSAvIDIpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmJveC5fYXZnO1xuICAgICAgICB9LFxuICAgICAgICBjb250YWluczogZnVuY3Rpb24ocGl4ZWwpIHtcbiAgICAgICAgICAgIHZhciB2Ym94ID0gdGhpcyxcbiAgICAgICAgICAgICAgICBydmFsID0gcGl4ZWxbMF0gPj4gcnNoaWZ0O1xuICAgICAgICAgICAgZ3ZhbCA9IHBpeGVsWzFdID4+IHJzaGlmdDtcbiAgICAgICAgICAgIGJ2YWwgPSBwaXhlbFsyXSA+PiByc2hpZnQ7XG4gICAgICAgICAgICByZXR1cm4gKHJ2YWwgPj0gdmJveC5yMSAmJiBydmFsIDw9IHZib3gucjIgJiZcbiAgICAgICAgICAgICAgICBndmFsID49IHZib3guZzEgJiYgZ3ZhbCA8PSB2Ym94LmcyICYmXG4gICAgICAgICAgICAgICAgYnZhbCA+PSB2Ym94LmIxICYmIGJ2YWwgPD0gdmJveC5iMik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gQ29sb3IgbWFwXG5cbiAgICBmdW5jdGlvbiBDTWFwKCkge1xuICAgICAgICB0aGlzLnZib3hlcyA9IG5ldyBQUXVldWUoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIHB2Lm5hdHVyYWxPcmRlcihcbiAgICAgICAgICAgICAgICBhLnZib3guY291bnQoKSAqIGEudmJveC52b2x1bWUoKSxcbiAgICAgICAgICAgICAgICBiLnZib3guY291bnQoKSAqIGIudmJveC52b2x1bWUoKVxuICAgICAgICAgICAgKVxuICAgICAgICB9KTs7XG4gICAgfVxuICAgIENNYXAucHJvdG90eXBlID0ge1xuICAgICAgICBwdXNoOiBmdW5jdGlvbih2Ym94KSB7XG4gICAgICAgICAgICB0aGlzLnZib3hlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICB2Ym94OiB2Ym94LFxuICAgICAgICAgICAgICAgIGNvbG9yOiB2Ym94LmF2ZygpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgcGFsZXR0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52Ym94ZXMubWFwKGZ1bmN0aW9uKHZiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZiLmNvbG9yXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2l6ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52Ym94ZXMuc2l6ZSgpO1xuICAgICAgICB9LFxuICAgICAgICBtYXA6IGZ1bmN0aW9uKGNvbG9yKSB7XG4gICAgICAgICAgICB2YXIgdmJveGVzID0gdGhpcy52Ym94ZXM7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZib3hlcy5zaXplKCk7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICh2Ym94ZXMucGVlayhpKS52Ym94LmNvbnRhaW5zKGNvbG9yKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmJveGVzLnBlZWsoaSkuY29sb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubmVhcmVzdChjb2xvcik7XG4gICAgICAgIH0sXG4gICAgICAgIG5lYXJlc3Q6IGZ1bmN0aW9uKGNvbG9yKSB7XG4gICAgICAgICAgICB2YXIgdmJveGVzID0gdGhpcy52Ym94ZXMsXG4gICAgICAgICAgICAgICAgZDEsIGQyLCBwQ29sb3I7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZib3hlcy5zaXplKCk7IGkrKykge1xuICAgICAgICAgICAgICAgIGQyID0gTWF0aC5zcXJ0KFxuICAgICAgICAgICAgICAgICAgICBNYXRoLnBvdyhjb2xvclswXSAtIHZib3hlcy5wZWVrKGkpLmNvbG9yWzBdLCAyKSArXG4gICAgICAgICAgICAgICAgICAgIE1hdGgucG93KGNvbG9yWzFdIC0gdmJveGVzLnBlZWsoaSkuY29sb3JbMV0sIDIpICtcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5wb3coY29sb3JbMl0gLSB2Ym94ZXMucGVlayhpKS5jb2xvclsyXSwgMilcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGlmIChkMiA8IGQxIHx8IGQxID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZDEgPSBkMjtcbiAgICAgICAgICAgICAgICAgICAgcENvbG9yID0gdmJveGVzLnBlZWsoaSkuY29sb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHBDb2xvcjtcbiAgICAgICAgfSxcbiAgICAgICAgZm9yY2VidzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBYWFg6IHdvbid0ICB3b3JrIHlldFxuICAgICAgICAgICAgdmFyIHZib3hlcyA9IHRoaXMudmJveGVzO1xuICAgICAgICAgICAgdmJveGVzLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBwdi5uYXR1cmFsT3JkZXIocHYuc3VtKGEuY29sb3IpLCBwdi5zdW0oYi5jb2xvcikpXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gZm9yY2UgZGFya2VzdCBjb2xvciB0byBibGFjayBpZiBldmVyeXRoaW5nIDwgNVxuICAgICAgICAgICAgdmFyIGxvd2VzdCA9IHZib3hlc1swXS5jb2xvcjtcbiAgICAgICAgICAgIGlmIChsb3dlc3RbMF0gPCA1ICYmIGxvd2VzdFsxXSA8IDUgJiYgbG93ZXN0WzJdIDwgNSlcbiAgICAgICAgICAgICAgICB2Ym94ZXNbMF0uY29sb3IgPSBbMCwgMCwgMF07XG5cbiAgICAgICAgICAgIC8vIGZvcmNlIGxpZ2h0ZXN0IGNvbG9yIHRvIHdoaXRlIGlmIGV2ZXJ5dGhpbmcgPiAyNTFcbiAgICAgICAgICAgIHZhciBpZHggPSB2Ym94ZXMubGVuZ3RoIC0gMSxcbiAgICAgICAgICAgICAgICBoaWdoZXN0ID0gdmJveGVzW2lkeF0uY29sb3I7XG4gICAgICAgICAgICBpZiAoaGlnaGVzdFswXSA+IDI1MSAmJiBoaWdoZXN0WzFdID4gMjUxICYmIGhpZ2hlc3RbMl0gPiAyNTEpXG4gICAgICAgICAgICAgICAgdmJveGVzW2lkeF0uY29sb3IgPSBbMjU1LCAyNTUsIDI1NV07XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gaGlzdG8gKDEtZCBhcnJheSwgZ2l2aW5nIHRoZSBudW1iZXIgb2YgcGl4ZWxzIGluXG4gICAgLy8gZWFjaCBxdWFudGl6ZWQgcmVnaW9uIG9mIGNvbG9yIHNwYWNlKSwgb3IgbnVsbCBvbiBlcnJvclxuXG4gICAgZnVuY3Rpb24gZ2V0SGlzdG8ocGl4ZWxzKSB7XG4gICAgICAgIHZhciBoaXN0b3NpemUgPSAxIDw8ICgzICogc2lnYml0cyksXG4gICAgICAgICAgICBoaXN0byA9IG5ldyBBcnJheShoaXN0b3NpemUpLFxuICAgICAgICAgICAgaW5kZXgsIHJ2YWwsIGd2YWwsIGJ2YWw7XG4gICAgICAgIHBpeGVscy5mb3JFYWNoKGZ1bmN0aW9uKHBpeGVsKSB7XG4gICAgICAgICAgICBydmFsID0gcGl4ZWxbMF0gPj4gcnNoaWZ0O1xuICAgICAgICAgICAgZ3ZhbCA9IHBpeGVsWzFdID4+IHJzaGlmdDtcbiAgICAgICAgICAgIGJ2YWwgPSBwaXhlbFsyXSA+PiByc2hpZnQ7XG4gICAgICAgICAgICBpbmRleCA9IGdldENvbG9ySW5kZXgocnZhbCwgZ3ZhbCwgYnZhbCk7XG4gICAgICAgICAgICBoaXN0b1tpbmRleF0gPSAoaGlzdG9baW5kZXhdIHx8IDApICsgMTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBoaXN0bztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2Ym94RnJvbVBpeGVscyhwaXhlbHMsIGhpc3RvKSB7XG4gICAgICAgIHZhciBybWluID0gMTAwMDAwMCxcbiAgICAgICAgICAgIHJtYXggPSAwLFxuICAgICAgICAgICAgZ21pbiA9IDEwMDAwMDAsXG4gICAgICAgICAgICBnbWF4ID0gMCxcbiAgICAgICAgICAgIGJtaW4gPSAxMDAwMDAwLFxuICAgICAgICAgICAgYm1heCA9IDAsXG4gICAgICAgICAgICBydmFsLCBndmFsLCBidmFsO1xuICAgICAgICAvLyBmaW5kIG1pbi9tYXhcbiAgICAgICAgcGl4ZWxzLmZvckVhY2goZnVuY3Rpb24ocGl4ZWwpIHtcbiAgICAgICAgICAgIHJ2YWwgPSBwaXhlbFswXSA+PiByc2hpZnQ7XG4gICAgICAgICAgICBndmFsID0gcGl4ZWxbMV0gPj4gcnNoaWZ0O1xuICAgICAgICAgICAgYnZhbCA9IHBpeGVsWzJdID4+IHJzaGlmdDtcbiAgICAgICAgICAgIGlmIChydmFsIDwgcm1pbikgcm1pbiA9IHJ2YWw7XG4gICAgICAgICAgICBlbHNlIGlmIChydmFsID4gcm1heCkgcm1heCA9IHJ2YWw7XG4gICAgICAgICAgICBpZiAoZ3ZhbCA8IGdtaW4pIGdtaW4gPSBndmFsO1xuICAgICAgICAgICAgZWxzZSBpZiAoZ3ZhbCA+IGdtYXgpIGdtYXggPSBndmFsO1xuICAgICAgICAgICAgaWYgKGJ2YWwgPCBibWluKSBibWluID0gYnZhbDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGJ2YWwgPiBibWF4KSBibWF4ID0gYnZhbDtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXcgVkJveChybWluLCBybWF4LCBnbWluLCBnbWF4LCBibWluLCBibWF4LCBoaXN0byk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWVkaWFuQ3V0QXBwbHkoaGlzdG8sIHZib3gpIHtcbiAgICAgICAgaWYgKCF2Ym94LmNvdW50KCkpIHJldHVybjtcblxuICAgICAgICB2YXIgcncgPSB2Ym94LnIyIC0gdmJveC5yMSArIDEsXG4gICAgICAgICAgICBndyA9IHZib3guZzIgLSB2Ym94LmcxICsgMSxcbiAgICAgICAgICAgIGJ3ID0gdmJveC5iMiAtIHZib3guYjEgKyAxLFxuICAgICAgICAgICAgbWF4dyA9IHB2Lm1heChbcncsIGd3LCBid10pO1xuICAgICAgICAvLyBvbmx5IG9uZSBwaXhlbCwgbm8gc3BsaXRcbiAgICAgICAgaWYgKHZib3guY291bnQoKSA9PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gW3Zib3guY29weSgpXVxuICAgICAgICB9XG4gICAgICAgIC8qIEZpbmQgdGhlIHBhcnRpYWwgc3VtIGFycmF5cyBhbG9uZyB0aGUgc2VsZWN0ZWQgYXhpcy4gKi9cbiAgICAgICAgdmFyIHRvdGFsID0gMCxcbiAgICAgICAgICAgIHBhcnRpYWxzdW0gPSBbXSxcbiAgICAgICAgICAgIGxvb2thaGVhZHN1bSA9IFtdLFxuICAgICAgICAgICAgaSwgaiwgaywgc3VtLCBpbmRleDtcbiAgICAgICAgaWYgKG1heHcgPT0gcncpIHtcbiAgICAgICAgICAgIGZvciAoaSA9IHZib3gucjE7IGkgPD0gdmJveC5yMjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgc3VtID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKGogPSB2Ym94LmcxOyBqIDw9IHZib3guZzI7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGsgPSB2Ym94LmIxOyBrIDw9IHZib3guYjI7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBnZXRDb2xvckluZGV4KGksIGosIGspO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VtICs9IChoaXN0b1tpbmRleF0gfHwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdG90YWwgKz0gc3VtO1xuICAgICAgICAgICAgICAgIHBhcnRpYWxzdW1baV0gPSB0b3RhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChtYXh3ID09IGd3KSB7XG4gICAgICAgICAgICBmb3IgKGkgPSB2Ym94LmcxOyBpIDw9IHZib3guZzI7IGkrKykge1xuICAgICAgICAgICAgICAgIHN1bSA9IDA7XG4gICAgICAgICAgICAgICAgZm9yIChqID0gdmJveC5yMTsgaiA8PSB2Ym94LnIyOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChrID0gdmJveC5iMTsgayA8PSB2Ym94LmIyOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gZ2V0Q29sb3JJbmRleChqLCBpLCBrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1bSArPSAoaGlzdG9baW5kZXhdIHx8IDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRvdGFsICs9IHN1bTtcbiAgICAgICAgICAgICAgICBwYXJ0aWFsc3VtW2ldID0gdG90YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7IC8qIG1heHcgPT0gYncgKi9cbiAgICAgICAgICAgIGZvciAoaSA9IHZib3guYjE7IGkgPD0gdmJveC5iMjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgc3VtID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKGogPSB2Ym94LnIxOyBqIDw9IHZib3gucjI7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGsgPSB2Ym94LmcxOyBrIDw9IHZib3guZzI7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBnZXRDb2xvckluZGV4KGosIGssIGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VtICs9IChoaXN0b1tpbmRleF0gfHwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdG90YWwgKz0gc3VtO1xuICAgICAgICAgICAgICAgIHBhcnRpYWxzdW1baV0gPSB0b3RhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwYXJ0aWFsc3VtLmZvckVhY2goZnVuY3Rpb24oZCwgaSkge1xuICAgICAgICAgICAgbG9va2FoZWFkc3VtW2ldID0gdG90YWwgLSBkXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZ1bmN0aW9uIGRvQ3V0KGNvbG9yKSB7XG4gICAgICAgICAgICB2YXIgZGltMSA9IGNvbG9yICsgJzEnLFxuICAgICAgICAgICAgICAgIGRpbTIgPSBjb2xvciArICcyJyxcbiAgICAgICAgICAgICAgICBsZWZ0LCByaWdodCwgdmJveDEsIHZib3gyLCBkMiwgY291bnQyID0gMDtcbiAgICAgICAgICAgIGZvciAoaSA9IHZib3hbZGltMV07IGkgPD0gdmJveFtkaW0yXTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnRpYWxzdW1baV0gPiB0b3RhbCAvIDIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmJveDEgPSB2Ym94LmNvcHkoKTtcbiAgICAgICAgICAgICAgICAgICAgdmJveDIgPSB2Ym94LmNvcHkoKTtcbiAgICAgICAgICAgICAgICAgICAgbGVmdCA9IGkgLSB2Ym94W2RpbTFdO1xuICAgICAgICAgICAgICAgICAgICByaWdodCA9IHZib3hbZGltMl0gLSBpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGVmdCA8PSByaWdodClcbiAgICAgICAgICAgICAgICAgICAgICAgIGQyID0gTWF0aC5taW4odmJveFtkaW0yXSAtIDEsIH5+IChpICsgcmlnaHQgLyAyKSk7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgZDIgPSBNYXRoLm1heCh2Ym94W2RpbTFdLCB+fiAoaSAtIDEgLSBsZWZ0IC8gMikpO1xuICAgICAgICAgICAgICAgICAgICAvLyBhdm9pZCAwLWNvdW50IGJveGVzXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICghcGFydGlhbHN1bVtkMl0pIGQyKys7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50MiA9IGxvb2thaGVhZHN1bVtkMl07XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICghY291bnQyICYmIHBhcnRpYWxzdW1bZDIgLSAxXSkgY291bnQyID0gbG9va2FoZWFkc3VtWy0tZDJdO1xuICAgICAgICAgICAgICAgICAgICAvLyBzZXQgZGltZW5zaW9uc1xuICAgICAgICAgICAgICAgICAgICB2Ym94MVtkaW0yXSA9IGQyO1xuICAgICAgICAgICAgICAgICAgICB2Ym94MltkaW0xXSA9IHZib3gxW2RpbTJdICsgMTtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3Zib3ggY291bnRzOicsIHZib3guY291bnQoKSwgdmJveDEuY291bnQoKSwgdmJveDIuY291bnQoKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbdmJveDEsIHZib3gyXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgICAgICAvLyBkZXRlcm1pbmUgdGhlIGN1dCBwbGFuZXNcbiAgICAgICAgcmV0dXJuIG1heHcgPT0gcncgPyBkb0N1dCgncicpIDpcbiAgICAgICAgICAgIG1heHcgPT0gZ3cgPyBkb0N1dCgnZycpIDpcbiAgICAgICAgICAgIGRvQ3V0KCdiJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcXVhbnRpemUocGl4ZWxzLCBtYXhjb2xvcnMpIHtcbiAgICAgICAgLy8gc2hvcnQtY2lyY3VpdFxuICAgICAgICBpZiAoIXBpeGVscy5sZW5ndGggfHwgbWF4Y29sb3JzIDwgMiB8fCBtYXhjb2xvcnMgPiAyNTYpIHtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCd3cm9uZyBudW1iZXIgb2YgbWF4Y29sb3JzJyk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBYWFg6IGNoZWNrIGNvbG9yIGNvbnRlbnQgYW5kIGNvbnZlcnQgdG8gZ3JheXNjYWxlIGlmIGluc3VmZmljaWVudFxuXG4gICAgICAgIHZhciBoaXN0byA9IGdldEhpc3RvKHBpeGVscyksXG4gICAgICAgICAgICBoaXN0b3NpemUgPSAxIDw8ICgzICogc2lnYml0cyk7XG5cbiAgICAgICAgLy8gY2hlY2sgdGhhdCB3ZSBhcmVuJ3QgYmVsb3cgbWF4Y29sb3JzIGFscmVhZHlcbiAgICAgICAgdmFyIG5Db2xvcnMgPSAwO1xuICAgICAgICBoaXN0by5mb3JFYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbkNvbG9ycysrXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAobkNvbG9ycyA8PSBtYXhjb2xvcnMpIHtcbiAgICAgICAgICAgIC8vIFhYWDogZ2VuZXJhdGUgdGhlIG5ldyBjb2xvcnMgZnJvbSB0aGUgaGlzdG8gYW5kIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IHRoZSBiZWdpbm5pbmcgdmJveCBmcm9tIHRoZSBjb2xvcnNcbiAgICAgICAgdmFyIHZib3ggPSB2Ym94RnJvbVBpeGVscyhwaXhlbHMsIGhpc3RvKSxcbiAgICAgICAgICAgIHBxID0gbmV3IFBRdWV1ZShmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHB2Lm5hdHVyYWxPcmRlcihhLmNvdW50KCksIGIuY291bnQoKSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICBwcS5wdXNoKHZib3gpO1xuXG4gICAgICAgIC8vIGlubmVyIGZ1bmN0aW9uIHRvIGRvIHRoZSBpdGVyYXRpb25cblxuICAgICAgICBmdW5jdGlvbiBpdGVyKGxoLCB0YXJnZXQpIHtcbiAgICAgICAgICAgIHZhciBuY29sb3JzID0gMSxcbiAgICAgICAgICAgICAgICBuaXRlcnMgPSAwLFxuICAgICAgICAgICAgICAgIHZib3g7XG4gICAgICAgICAgICB3aGlsZSAobml0ZXJzIDwgbWF4SXRlcmF0aW9ucykge1xuICAgICAgICAgICAgICAgIHZib3ggPSBsaC5wb3AoKTtcbiAgICAgICAgICAgICAgICBpZiAoIXZib3guY291bnQoKSkgeyAvKiBqdXN0IHB1dCBpdCBiYWNrICovXG4gICAgICAgICAgICAgICAgICAgIGxoLnB1c2godmJveCk7XG4gICAgICAgICAgICAgICAgICAgIG5pdGVycysrO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZG8gdGhlIGN1dFxuICAgICAgICAgICAgICAgIHZhciB2Ym94ZXMgPSBtZWRpYW5DdXRBcHBseShoaXN0bywgdmJveCksXG4gICAgICAgICAgICAgICAgICAgIHZib3gxID0gdmJveGVzWzBdLFxuICAgICAgICAgICAgICAgICAgICB2Ym94MiA9IHZib3hlc1sxXTtcblxuICAgICAgICAgICAgICAgIGlmICghdmJveDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJ2Ym94MSBub3QgZGVmaW5lZDsgc2hvdWxkbid0IGhhcHBlbiFcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGgucHVzaCh2Ym94MSk7XG4gICAgICAgICAgICAgICAgaWYgKHZib3gyKSB7IC8qIHZib3gyIGNhbiBiZSBudWxsICovXG4gICAgICAgICAgICAgICAgICAgIGxoLnB1c2godmJveDIpO1xuICAgICAgICAgICAgICAgICAgICBuY29sb3JzKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChuY29sb3JzID49IHRhcmdldCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGlmIChuaXRlcnMrKyA+IG1heEl0ZXJhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJpbmZpbml0ZSBsb29wOyBwZXJoYXBzIHRvbyBmZXcgcGl4ZWxzIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZpcnN0IHNldCBvZiBjb2xvcnMsIHNvcnRlZCBieSBwb3B1bGF0aW9uXG4gICAgICAgIGl0ZXIocHEsIGZyYWN0QnlQb3B1bGF0aW9ucyAqIG1heGNvbG9ycyk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHBxLnNpemUoKSwgcHEuZGVidWcoKS5sZW5ndGgsIHBxLmRlYnVnKCkuc2xpY2UoKSk7XG5cbiAgICAgICAgLy8gUmUtc29ydCBieSB0aGUgcHJvZHVjdCBvZiBwaXhlbCBvY2N1cGFuY3kgdGltZXMgdGhlIHNpemUgaW4gY29sb3Igc3BhY2UuXG4gICAgICAgIHZhciBwcTIgPSBuZXcgUFF1ZXVlKGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBwdi5uYXR1cmFsT3JkZXIoYS5jb3VudCgpICogYS52b2x1bWUoKSwgYi5jb3VudCgpICogYi52b2x1bWUoKSlcbiAgICAgICAgfSk7XG4gICAgICAgIHdoaWxlIChwcS5zaXplKCkpIHtcbiAgICAgICAgICAgIHBxMi5wdXNoKHBxLnBvcCgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5leHQgc2V0IC0gZ2VuZXJhdGUgdGhlIG1lZGlhbiBjdXRzIHVzaW5nIHRoZSAobnBpeCAqIHZvbCkgc29ydGluZy5cbiAgICAgICAgaXRlcihwcTIsIG1heGNvbG9ycyAtIHBxMi5zaXplKCkpO1xuXG4gICAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgYWN0dWFsIGNvbG9yc1xuICAgICAgICB2YXIgY21hcCA9IG5ldyBDTWFwKCk7XG4gICAgICAgIHdoaWxlIChwcTIuc2l6ZSgpKSB7XG4gICAgICAgICAgICBjbWFwLnB1c2gocHEyLnBvcCgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjbWFwO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHF1YW50aXplOiBxdWFudGl6ZVxuICAgIH1cbn0pKCk7XG5cbm1vZHVsZS5leHBvcnRzID0gTU1DUS5xdWFudGl6ZVxuIiwiZXhwb3J0IGNsYXNzIEZhdmljb24ge1xyXG4gICAgY29uc3RydWN0b3IoZmF2aWNvbikge1xyXG4gICAgICAgIGxldCBleGlzdGluZ0Zhdmljb24gPSB0aGlzLmdldEV4aXN0aW5nRmF2aWNvbigpO1xyXG4gICAgICAgIGlmICghZXhpc3RpbmdGYXZpY29uKSB7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZSA9IHRoaXMuY3JlYXRlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5vcmlnaW5hbEhyZWYgPSBleGlzdGluZ0Zhdmljb24uaHJlZjtcclxuICAgICAgICAgICAgdGhpcy5ub2RlID0gZXhpc3RpbmdGYXZpY29uO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldEV4aXN0aW5nRmF2aWNvbigpIHtcclxuICAgICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbGlua1tyZWw9XCJzaG9ydGN1dCBpY29uXCJdJyk7XHJcbiAgICB9XHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgbGV0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7XHJcbiAgICAgICAgbGluay50eXBlID0gJ2ltYWdlL3gtaWNvbic7XHJcbiAgICAgICAgbGluay5yZWwgPSAnc2hvcnRjdXQgaWNvbic7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXS5hcHBlbmRDaGlsZChsaW5rKTtcclxuICAgICAgICByZXR1cm4gbGluaztcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUodXJsKSB7XHJcbiAgICAgICAgdGhpcy5ocmVmID0gdXJsO1xyXG4gICAgfTtcclxuXHJcbiAgICByZXN0b3JlRGVmYXVsdCgpIHtcclxuICAgICAgICBpZiAodGhpcy5vcmlnaW5hbEhyZWYpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGUodGhpcy5vcmlnaW5hbEhyZWYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXQgaHJlZih1cmwpIHtcclxuICAgICAgICB0aGlzLm5vZGUuaHJlZiA9IHVybDtcclxuICAgIH1cclxuICAgIGdldCBocmVmKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5vZGUuaHJlZjtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgc2l6ZShzaXplKSB7XHJcbiAgICAgICAgdGhpcy5zaXplXyA9IHNpemU7XHJcbiAgICAgICAgdGhpcy5ub2RlLnNpemVzID0gc2l6ZSArIFwieFwiICsgc2l6ZTtcclxuICAgIH1cclxuICAgIGdldCBzaXplKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNpemVfO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIENhbnZhcyB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XHJcbiAgICAgICAgdGhpcy5jdHhfID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgIH1cclxuICAgIGdldCBub2RlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhcztcclxuICAgIH1cclxuICAgIGdldCBjdHgoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY3R4XztcclxuICAgIH1cclxuICAgIGdldCB3aWR0aCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ub2RlLndpZHRoO1xyXG4gICAgfVxyXG4gICAgc2V0IHdpZHRoKHdpZHRoKSB7XHJcbiAgICAgICAgdGhpcy5ub2RlLndpZHRoID0gd2lkdGg7XHJcbiAgICB9XHJcbiAgICBnZXQgaGVpZ2h0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5vZGUud2lkdGg7XHJcbiAgICB9XHJcbiAgICBzZXQgaGVpZ2h0KGhlaWdodCkge1xyXG4gICAgICAgIHRoaXMubm9kZS5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQge0Zhdmljb259IGZyb20gXCIuL1V0aWwvRmF2aWNvblwiO1xyXG5pbXBvcnQge0NhbnZhc30gZnJvbSBcIi4vVXRpbC9DYW52YXNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBGYXZpZGVvIHtcclxuICAgIGNvbnN0cnVjdG9yKHZpZGVvLCBtb2RlLCBmYXZpY29uU2l6ZSkge1xyXG4gICAgICAgIHRoaXMudmlkZW8gPSB2aWRlbztcclxuICAgICAgICB0aGlzLm1vZGUgPSBtb2RlO1xyXG4gICAgICAgIHRoaXMuZmF2aWNvbiA9IG5ldyBGYXZpY29uKCk7XHJcbiAgICAgICAgdGhpcy5mYXZpY29uLnNpemUgPSBmYXZpY29uU2l6ZTtcclxuICAgICAgICB0aGlzLmZhdmljb25DYW52YXMgPSBuZXcgQ2FudmFzKCk7XHJcbiAgICAgICAgdGhpcy52aWRlb0V2ZW50TGlzdGVuZXJzID0gW107XHJcbiAgICAgICAgdGhpcy5lbmFibGUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gZmV0Y2hlcyBhbmQgc2V0cyB0aGUgZnJhbWUgZm9yIHRoZSBjb25maWd1cmVkIEZhdmlkZW9Nb2RlLlxyXG4gICAgICovXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgbGV0IGZyYW1lVXJsID0gdGhpcy5tb2RlLmdldEZhdmljb25GcmFtZSh0aGlzLnZpZGVvLCB0aGlzLmZhdmljb25DYW52YXMubm9kZSwgdGhpcy5mYXZpY29uQ2FudmFzLmN0eCwgdGhpcy5mYXZpY29uKTtcclxuICAgICAgICBpZiAoZnJhbWVVcmwpIHtcclxuICAgICAgICAgICAgdGhpcy5mYXZpY29uLnVwZGF0ZShmcmFtZVVybCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gcmVnaXN0ZXJzIHRoZSB1cGRhdGUgZXZlbnQgZm9yIHRoZSBjb25maWd1cmVkIEZhdmlkZW9Nb2RlLlxyXG4gICAgICovXHJcbiAgICBlbmFibGUoKSB7XHJcbiAgICAgICAgdGhpcy5tb2RlLnJlZ2lzdGVyVXBkYXRlRXZlbnQodGhpcyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBmdW5jdGlvbiB1bnJlZ2lzdGVycyB0aGUgdXBkYXRlIGV2ZW50IGZvciB0aGUgY29uZmlndXJlZCBGYXZpZGVvTW9kZS5cclxuICAgICAqL1xyXG4gICAgZGlzYWJsZSgpIHtcclxuICAgICAgICB0aGlzLnVucmVnaXN0ZXJWaWRlb0V2ZW50cygpO1xyXG4gICAgICAgIHRoaXMubW9kZS5kaXNhYmxlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHJlZ2lzdGVycyBhbmQgYXR0YWNoZXMgYSB2aWRlbyBldmVudCBoYW5kbGVyLlxyXG4gICAgICogQHBhcmFtIGV2ZW50XHJcbiAgICAgKiBAcGFyYW0gZnVuY1xyXG4gICAgICovXHJcbiAgICByZWdpc3RlclZpZGVvRXZlbnQoZXZlbnQsIGZ1bmMpIHtcclxuICAgICAgICB0aGlzLnZpZGVvRXZlbnRMaXN0ZW5lcnMucHVzaCh7ZXZlbnQ6IGV2ZW50LCBmdW5jOiBmdW5jfSk7XHJcbiAgICAgICAgdGhpcy52aWRlby5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBmdW5jKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gdW5yZWdpc3RlcnMgYWxsIHZpZGVvIGV2ZW50IGhhbmRsZXJzLlxyXG4gICAgICovXHJcbiAgICB1bnJlZ2lzdGVyVmlkZW9FdmVudHMoKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnZpZGVvRXZlbnRMaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IHZlbCA9IHRoaXMudmlkZW9FdmVudExpc3RlbmVyc1tpXTtcclxuICAgICAgICAgICAgdGhpcy52aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKHZlbC5ldmVudCwgdmVsLmZ1bmMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBGYXZpZGVvTW9kZSB7XHJcblxyXG59IiwiaW1wb3J0IHtGYXZpZGVvTW9kZX0gZnJvbSBcIi4vRmF2aWRlb01vZGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBWaWRlb01vZGUgZXh0ZW5kcyBGYXZpZGVvTW9kZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihyZXNwZWN0QXNwZWN0UmF0aW8sIGZwcykge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5yZXNwZWN0QXNwZWN0UmF0aW8gPSByZXNwZWN0QXNwZWN0UmF0aW87XHJcbiAgICAgICAgdGhpcy5mcHMgPSBmcHM7XHJcbiAgICAgICAgdGhpcy52aWRlb0luQ2FudmFzU2V0dGluZ3MgPSB7XHJcbiAgICAgICAgICAgIGR4OiAwLCBkeTogMCwgZFdpZHRoOiAwLCBkSGVpZ2h0OiAwXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSB0byBiZSByZW5kZXJlZCBmcmFtZSBmb3IgVmlkZW9Nb2RlLlxyXG4gICAgICogQHBhcmFtIHZpZGVvXHJcbiAgICAgKiBAcGFyYW0gY2FudmFzXHJcbiAgICAgKiBAcGFyYW0gY2FudmFzQ3R4XHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICBnZXRGYXZpY29uRnJhbWUodmlkZW8sIGNhbnZhcywgY2FudmFzQ3R4KSB7XHJcbiAgICAgICAgaWYgKHRoaXMucmVzcGVjdEFzcGVjdFJhdGlvKSB7XHJcbiAgICAgICAgICAgIGNhbnZhc0N0eC5kcmF3SW1hZ2UodmlkZW8sIHRoaXMudmlkZW9JbkNhbnZhc1NldHRpbmdzLmR4LCB0aGlzLnZpZGVvSW5DYW52YXNTZXR0aW5ncy5keSwgdGhpcy52aWRlb0luQ2FudmFzU2V0dGluZ3MuZFdpZHRoLCB0aGlzLnZpZGVvSW5DYW52YXNTZXR0aW5ncy5kSGVpZ2h0KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjYW52YXNDdHguZHJhd0ltYWdlKHZpZGVvLCAwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY2FudmFzLnRvRGF0YVVSTCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gbWVhc3VyZXMgdGhlIG5ldyB2aWRlbyBwcm9maWxlIGluc2lkZSBvZiB0aGUgZmF2aWNvbi5cclxuICAgICAqIEBwYXJhbSBhOiBtYXgodmlkZW9XaWR0aCwgdmlkZW9IZWlnaHQpXHJcbiAgICAgKiBAcGFyYW0gYjogbWluKHZpZGVvV2lkdGgsIHZpZGVvSGVpZ2h0KVxyXG4gICAgICogQHBhcmFtIGZsOiBmYXZpY29uIGxlbmd0aFxyXG4gICAgICogQHJldHVybnMge3tvZmZzZXQ6IG51bWJlciwgd2lkdGg6ICosIGhlaWdodDogbnVtYmVyfX1cclxuICAgICAqL1xyXG4gICAgZ2V0VmlkZW9JbkZhdmljb25GaXQoYSwgYiwgZmwpIHtcclxuICAgICAgICBsZXQgeCA9IGEvZmw7XHJcbiAgICAgICAgbGV0IGF2X3cgPSBmbDtcclxuICAgICAgICBsZXQgYXZfaCA9IGIveDtcclxuICAgICAgICBsZXQgb190ID0gKGZsLWF2X2gpLzI7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgd2lkdGg6IGF2X3csXHJcbiAgICAgICAgICAgIGhlaWdodDogYXZfaCxcclxuICAgICAgICAgICAgb2Zmc2V0OiBvX3RcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBmdW5jdGlvbiBjaGVja3MgdG8gd2hhdCB0aGUgdmlkZW8gbmVlZHMgdG8gYmUgc2NhbGVkIHRvIGZpdCBpbnRvIHRoZSBmYXZpY29uLFxyXG4gICAgICogaWYgdGhlIGFzcGVjdCByYXRpbyBpcyB0byBiZSByZXNwZWN0ZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHZpZGVvXHJcbiAgICAgKiBAcGFyYW0gZmF2aWNvblNpemVcclxuICAgICAqL1xyXG4gICAgY2FsY3VsYXRlQW5kU2V0VmlkZW9JbkNhbnZhc1Byb2ZpbGUodmlkZW8sIGZhdmljb25TaXplKSB7XHJcbiAgICAgICAgbGV0IHZfdyA9IHZpZGVvLnZpZGVvV2lkdGgsIHZfaCA9IHZpZGVvLnZpZGVvSGVpZ2h0O1xyXG4gICAgICAgIGxldCB2aWRlb0ZpdDtcclxuICAgICAgICBpZiAodl93ID4gdl9oKSB7XHJcbiAgICAgICAgICAgIHZpZGVvRml0ID0gdGhpcy5nZXRWaWRlb0luRmF2aWNvbkZpdCh2X3csIHZfaCwgZmF2aWNvblNpemUpO1xyXG4gICAgICAgICAgICB0aGlzLnZpZGVvSW5DYW52YXNTZXR0aW5ncy5keCA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMudmlkZW9JbkNhbnZhc1NldHRpbmdzLmR5ID0gdmlkZW9GaXQub2Zmc2V0O1xyXG4gICAgICAgICAgICB0aGlzLnZpZGVvSW5DYW52YXNTZXR0aW5ncy5kV2lkdGggPSB2aWRlb0ZpdC53aWR0aDtcclxuICAgICAgICAgICAgdGhpcy52aWRlb0luQ2FudmFzU2V0dGluZ3MuZEhlaWdodCA9IHZpZGVvRml0LmhlaWdodDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2aWRlb0ZpdCA9IHRoaXMuZ2V0VmlkZW9JbkZhdmljb25GaXQodl9oLCB2X3csIGZhdmljb25TaXplKTtcclxuICAgICAgICAgICAgdGhpcy52aWRlb0luQ2FudmFzU2V0dGluZ3MuZHggPSAgdmlkZW9GaXQub2Zmc2V0O1xyXG4gICAgICAgICAgICB0aGlzLnZpZGVvSW5DYW52YXNTZXR0aW5ncy5keSA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMudmlkZW9JbkNhbnZhc1NldHRpbmdzLmRXaWR0aCA9IHZpZGVvRml0LmhlaWdodDtcclxuICAgICAgICAgICAgdGhpcy52aWRlb0luQ2FudmFzU2V0dGluZ3MuZEhlaWdodCA9IHZpZGVvRml0LndpZHRoO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGV2ZW50IGhhbmRsZXIgdXBkYXRlcyB0aGUgZmF2aWNvbkNhbnZhcyB3aWR0aCBhbmQgaGVpZ2h0LFxyXG4gICAgICogYmVjYXVzZSB0aGUgdmlkZW8gd2lkdGggYW5kIGhlaWdodCBhcmUgbm93IGtub3duLlxyXG4gICAgICovXHJcbiAgICBsb2FkZWRtZXRhZGF0YUhhbmRsZXIoKSB7XHJcbiAgICAgICAgbGV0IGNhbnZhc1dpZHRoID0gMCwgY2FudmFzSGVpZ2h0ID0gMDtcclxuICAgICAgICBpZiAodGhpcy5tb2RlLnJlc3BlY3RBc3BlY3RSYXRpbykge1xyXG4gICAgICAgICAgICB0aGlzLm1vZGUuY2FsY3VsYXRlQW5kU2V0VmlkZW9JbkNhbnZhc1Byb2ZpbGUodGhpcy52aWRlbywgdGhpcy5mYXZpY29uLnNpemUpO1xyXG4gICAgICAgICAgICBjYW52YXNXaWR0aCA9IHRoaXMuZmF2aWNvbi5zaXplO1xyXG4gICAgICAgICAgICBjYW52YXNIZWlnaHQgPSB0aGlzLmZhdmljb24uc2l6ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjYW52YXNXaWR0aCA9IHRoaXMudmlkZW8udmlkZW9XaWR0aDtcclxuICAgICAgICAgICAgY2FudmFzSGVpZ2h0ID0gdGhpcy52aWRlby52aWRlb0hlaWdodDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5mYXZpY29uQ2FudmFzLndpZHRoID0gY2FudmFzV2lkdGg7XHJcbiAgICAgICAgdGhpcy5mYXZpY29uQ2FudmFzLmhlaWdodCA9IGNhbnZhc0hlaWdodDtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHJlZ2lzdGVycyB0aGUgdXBkYXRlIGV2ZW50IG9mIFZpZGVvTW9kZS5cclxuICAgICAqL1xyXG4gICAgcmVnaXN0ZXJVcGRhdGVFdmVudChmYXZpZGVvKSB7XHJcbiAgICAgICAgZmF2aWRlby5yZWdpc3RlclZpZGVvRXZlbnQoJ2xvYWRlZG1ldGFkYXRhJywgdGhpcy5sb2FkZWRtZXRhZGF0YUhhbmRsZXIuYmluZChmYXZpZGVvKSk7XHJcbiAgICAgICAgaWYgKCF0aGlzLmZwcykge1xyXG4gICAgICAgICAgICBmYXZpZGVvLnJlZ2lzdGVyVmlkZW9FdmVudCgndGltZXVwZGF0ZScsIGZhdmlkZW8udXBkYXRlLmJpbmQoZmF2aWRlbykpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5pbnRlcnZhbCA9IHNldEludGVydmFsKGZhdmlkZW8udXBkYXRlLmJpbmQoZmF2aWRlbyksIDEwMDAvdGhpcy5mcHMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkaXNhYmxlKCkge1xyXG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmludGVydmFsKTtcclxuICAgIH1cclxufSIsInZhciBxdWFudGl6ZSA9IHJlcXVpcmUoJ3F1YW50aXplJyk7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29sb3Ige1xyXG4gICAgc3RhdGljIGdldEF2ZXJhZ2VDb2xvcihjYW52YXMsIGN0eCkge1xyXG4gICAgICAgIGxldCBpbWFnZURhdGEgPSBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCkuZGF0YTtcclxuICAgICAgICBsZXQgdG90YWxSZ2JhID0ge1xyXG4gICAgICAgICAgICByOiAwLCBnOiAwLCBiOiAwLCBhOiAwXHJcbiAgICAgICAgfTtcclxuICAgICAgICBsZXQgbmJPZlBpeGVscyA9IGltYWdlRGF0YS5sZW5ndGgvNDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGltYWdlRGF0YS5sZW5ndGg7IGkgKz0gNCkge1xyXG4gICAgICAgICAgICB0b3RhbFJnYmEuciA9IHRvdGFsUmdiYS5yICsgaW1hZ2VEYXRhW2ldO1xyXG4gICAgICAgICAgICB0b3RhbFJnYmEuZyA9IHRvdGFsUmdiYS5nICsgaW1hZ2VEYXRhW2krMV07XHJcbiAgICAgICAgICAgIHRvdGFsUmdiYS5iID0gdG90YWxSZ2JhLmIgKyBpbWFnZURhdGFbaSsyXTtcclxuICAgICAgICAgICAgdG90YWxSZ2JhLmEgPSB0b3RhbFJnYmEuYSArIGltYWdlRGF0YVtpKzNdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgYXZnUmdiYSA9IHtcclxuICAgICAgICAgICAgcjogdG90YWxSZ2JhLnIvbmJPZlBpeGVscyxcclxuICAgICAgICAgICAgZzogdG90YWxSZ2JhLmcvbmJPZlBpeGVscyxcclxuICAgICAgICAgICAgYjogdG90YWxSZ2JhLmIvbmJPZlBpeGVscyxcclxuICAgICAgICAgICAgYTogdG90YWxSZ2JhLmEvbmJPZlBpeGVsc1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIENvbG9yLmdldFJnYmFDc3NTdHJpbmcoYXZnUmdiYSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHN0YXRpYyBjcmVhdGVQaXhlbEFycmF5KGltZ0RhdGEsIHBpeGVsQ291bnQpIHtcclxuICAgICAgICBjb25zdCBwaXhlbHMgPSBpbWdEYXRhO1xyXG4gICAgICAgIGNvbnN0IHBpeGVsQXJyYXkgPSBbXTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIG9mZnNldCwgciwgZywgYiwgYTsgaSA8IHBpeGVsQ291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICBvZmZzZXQgPSBpICogNDtcclxuICAgICAgICAgICAgciA9IHBpeGVsc1tvZmZzZXQgKyAwXTtcclxuICAgICAgICAgICAgZyA9IHBpeGVsc1tvZmZzZXQgKyAxXTtcclxuICAgICAgICAgICAgYiA9IHBpeGVsc1tvZmZzZXQgKyAyXTtcclxuICAgICAgICAgICAgYSA9IHBpeGVsc1tvZmZzZXQgKyAzXTtcclxuXHJcbiAgICAgICAgICAgIC8vIElmIHBpeGVsIGlzIG1vc3RseSBvcGFxdWUgYW5kIG5vdCB3aGl0ZVxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGEgPT09ICd1bmRlZmluZWQnIHx8IGEgPj0gMTI1KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShyID4gMjUwICYmIGcgPiAyNTAgJiYgYiA+IDI1MCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBwaXhlbEFycmF5LnB1c2goW3IsIGcsIGJdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcGl4ZWxBcnJheTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0RG9taW5hbnRDb2xvcihjYW52YXMsIGNhbnZhc0N0eCkge1xyXG4gICAgICAgIGNvbnN0IGltYWdlRGF0YSAgPSBjYW52YXNDdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgY29uc3QgcGl4ZWxDb3VudCA9IGNhbnZhcy53aWR0aCAqIGNhbnZhcy5oZWlnaHQ7XHJcbiAgICAgICAgY29uc3QgcGl4ZWxBcnJheSA9IENvbG9yLmNyZWF0ZVBpeGVsQXJyYXkoaW1hZ2VEYXRhLmRhdGEsIHBpeGVsQ291bnQpO1xyXG4gICAgICAgIGNvbnN0IGNtYXAgICAgPSBxdWFudGl6ZShwaXhlbEFycmF5LCA0KTtcclxuICAgICAgICBjb25zdCBwYWxldHRlID0gY21hcD8gY21hcC5wYWxldHRlKCkgOiBudWxsO1xyXG4gICAgICAgIHJldHVybiBDb2xvci5nZXRSZ2JhQ3NzU3RyaW5nQnlBcnJheShwYWxldHRlWzBdKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0UmdiYUNzc1N0cmluZyhyZ2JhKSB7XHJcbiAgICAgICAgcmV0dXJuICdyZ2JhKCcrcmdiYS5yK1wiLFwiK3JnYmEuZytcIixcIityZ2JhLmIrXCIsXCIrcmdiYS5hK1wiKVwiO1xyXG4gICAgfTtcclxuXHJcbiAgICBzdGF0aWMgZ2V0UmdiYUNzc1N0cmluZ0J5QXJyYXkoYXJyKSB7XHJcbiAgICAgICAgcmV0dXJuICdyZ2JhKCcrYXJyWzBdK1wiLFwiK2FyclsxXStcIixcIithcnJbMl0rXCIsXCIrMjU1K1wiKVwiO1xyXG4gICAgfVxyXG5cclxuXHJcbn0iLCJpbXBvcnQge0ZhdmlkZW9Nb2RlfSBmcm9tIFwiLi9GYXZpZGVvTW9kZVwiO1xyXG5pbXBvcnQge0NvbG9yfSBmcm9tIFwiLi4vVXRpbC9Db2xvclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBsYXlJY29uTW9kZSBleHRlbmRzIEZhdmlkZW9Nb2RlIHtcclxuICAgIGNvbnN0cnVjdG9yKGZwcywgY29sb3JUeXBlKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmZwcyA9IGZwcztcclxuICAgICAgICB0aGlzLmNvbG9yVHlwZSA9IGNvbG9yVHlwZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgdG8gYmUgcmVuZGVyZWQgZnJhbWUgZm9yIEZhdmlkZW9Nb2RlVmlkZW8uXHJcbiAgICAgKiBAcGFyYW0gdmlkZW9cclxuICAgICAqIEBwYXJhbSBjYW52YXNcclxuICAgICAqIEBwYXJhbSBjYW52YXNDdHhcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIGdldEZhdmljb25GcmFtZSh2aWRlbywgY2FudmFzLCBjYW52YXNDdHgsIGZhdmljb24pIHtcclxuXHJcbiAgICAgICAgLy8gZHJhdyB2aWRlbyBmcmFtZSBvbiB0byBvcmlnaW5hbCBzaXplIGZhdmljb25DYW52YXNcclxuICAgICAgICBsZXQgY2FudmFzMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgICAgIGNhbnZhczIud2lkdGggPSB2aWRlby52aWRlb1dpZHRoO1xyXG4gICAgICAgIGNhbnZhczIuaGVpZ2h0ID0gdmlkZW8udmlkZW9IZWlnaHQ7XHJcbiAgICAgICAgbGV0IGNhbnZhc0N0eDIgPSBjYW52YXMyLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgY2FudmFzQ3R4Mi5kcmF3SW1hZ2UodmlkZW8sIDAsIDAsIGNhbnZhczIud2lkdGgsIGNhbnZhczIuaGVpZ2h0KTtcclxuICAgICAgICBsZXQgcGl4ZWxDb2xvciA9IHRoaXMuZ2V0Q29sb3IoY2FudmFzMiwgY2FudmFzQ3R4Mik7XHJcblxyXG4gICAgICAgIC8vIHJlc2V0IGRyYXdpbmdcclxuICAgICAgICBjYW52YXNDdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcblxyXG4gICAgICAgIHRoaXMuZHJhd09iamVjdChwaXhlbENvbG9yLCBjYW52YXNDdHgsIGZhdmljb24uc2l6ZSk7XHJcblxyXG4gICAgICAgIHJldHVybiBjYW52YXMudG9EYXRhVVJMKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGdldENvbG9yKGNhbnZhcywgY3R4KSB7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLmNvbG9yVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiYXZlcmFnZVwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIENvbG9yLmdldEF2ZXJhZ2VDb2xvcihjYW52YXMsIGN0eCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImRvbWluYW50XCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQ29sb3IuZ2V0RG9taW5hbnRDb2xvcihjYW52YXMsIGN0eCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRyYXdPYmplY3QoY29sb3IsIGNhbnZhc0N0eCwgZmF2aWNvblNpemUpIHtcclxuICAgICAgICB0aGlzLmRyYXdQbGF5T2JqZWN0KGNvbG9yLCBjYW52YXNDdHgsIGZhdmljb25TaXplKTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3UGxheU9iamVjdChjb2xvciwgY2FudmFzQ3R4LCBmYXZpY29uU2l6ZSkge1xyXG4gICAgICAgIGNhbnZhc0N0eC5maWxsU3R5bGUgPSBjb2xvcjtcclxuICAgICAgICBjYW52YXNDdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY2FudmFzQ3R4Lm1vdmVUbygwLCAwKTtcclxuICAgICAgICBjYW52YXNDdHgubGluZVRvKDAsIGZhdmljb25TaXplKTtcclxuICAgICAgICBjYW52YXNDdHgubGluZVRvKGZhdmljb25TaXplLCBmYXZpY29uU2l6ZS8yKTtcclxuICAgICAgICBjYW52YXNDdHguZmlsbCgpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZXZlbnQgaGFuZGxlciB1cGRhdGVzIHRoZSBmYXZpY29uQ2FudmFzIHdpZHRoIGFuZCBoZWlnaHQsXHJcbiAgICAgKiBiZWNhdXNlIHRoZSB2aWRlbyB3aWR0aCBhbmQgaGVpZ2h0IGFyZSBub3cga25vd24uXHJcbiAgICAgKi9cclxuICAgIGxvYWRlZG1ldGFkYXRhSGFuZGxlcigpIHtcclxuICAgICAgICBsZXQgY2FudmFzV2lkdGggPSB0aGlzLmZhdmljb24uc2l6ZSwgY2FudmFzSGVpZ2h0ID0gdGhpcy5mYXZpY29uLnNpemU7XHJcbiAgICAgICAgdGhpcy5mYXZpY29uQ2FudmFzLndpZHRoID0gY2FudmFzV2lkdGg7XHJcbiAgICAgICAgdGhpcy5mYXZpY29uQ2FudmFzLmhlaWdodCA9IGNhbnZhc0hlaWdodDtcclxuICAgIH07XHJcblxyXG4gICAgcmVzdG9yZU9yaWdpbmFsRmF2aWNvbigpIHtcclxuICAgICAgICB0aGlzLmZhdmljb24ucmVzdG9yZURlZmF1bHQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gcmVnaXN0ZXJzIHRoZSB1cGRhdGUgZXZlbnQgb2YgRmF2aWRlb01vZGVWaWRlby5cclxuICAgICAqL1xyXG4gICAgcmVnaXN0ZXJVcGRhdGVFdmVudChmYXZpZGVvKSB7XHJcbiAgICAgICAgZmF2aWRlby5yZWdpc3RlclZpZGVvRXZlbnQoJ2xvYWRlZG1ldGFkYXRhJywgdGhpcy5sb2FkZWRtZXRhZGF0YUhhbmRsZXIuYmluZChmYXZpZGVvKSk7XHJcbiAgICAgICAgZmF2aWRlby5yZWdpc3RlclZpZGVvRXZlbnQoJ3BhdXNlJywgdGhpcy5yZXN0b3JlT3JpZ2luYWxGYXZpY29uLmJpbmQoZmF2aWRlbykpO1xyXG4gICAgICAgIGZhdmlkZW8ucmVnaXN0ZXJWaWRlb0V2ZW50KCdlbmRlZCcsIHRoaXMucmVzdG9yZU9yaWdpbmFsRmF2aWNvbi5iaW5kKGZhdmlkZW8pKTtcclxuICAgICAgICBpZiAoIXRoaXMuZnBzKSB7XHJcbiAgICAgICAgICAgIGZhdmlkZW8ucmVnaXN0ZXJWaWRlb0V2ZW50KCd0aW1ldXBkYXRlJywgZmF2aWRlby51cGRhdGUuYmluZChmYXZpZGVvKSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoZmF2aWRlby51cGRhdGUuYmluZChmYXZpZGVvKSwgMTAwMC90aGlzLmZwcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRpc2FibGUoKSB7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaW50ZXJ2YWwpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHtGYXZpZGVvTW9kZX0gZnJvbSBcIi4vRmF2aWRlb01vZGVcIjtcclxuaW1wb3J0IHtDb2xvcn0gZnJvbSBcIi4uL1V0aWwvQ29sb3JcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBSZWNvbG9yTW9kZSBleHRlbmRzIEZhdmlkZW9Nb2RlIHtcclxuICAgIGNvbnN0cnVjdG9yKGZwcywgY29sb3JUeXBlKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmZwcyA9IGZwcztcclxuICAgICAgICB0aGlzLmNvbG9yVHlwZSA9IGNvbG9yVHlwZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gc2V0IHRoZSBjYW52YXMgYmFzZWQgb24gdGhlIG9yaWdpbmFsIGZhdmljb24gd2hpY2ggY2FuIGJlIHJlY29sb3JlZC5cclxuICAgICAqIEBwYXJhbSBmYXZpY29uXHJcbiAgICAgKi9cclxuICAgIHNldEZhdmljb24oZmF2aWNvbikge1xyXG4gICAgICAgIGxldCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG4gICAgICAgIGxldCBvbkltYWdlTG9hZGVkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuICAgICAgICAgICAgY2FudmFzLndpZHRoID0gaW1nLm5hdHVyYWxXaWR0aDtcclxuICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGltZy5uYXR1cmFsV2lkdGg7XHJcbiAgICAgICAgICAgIGxldCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoaW1nLCAwLCAwKTtcclxuICAgICAgICAgICAgdGhpcy5mYXZpY29uQ2FudmFzQ3R4ID0gY29udGV4dDtcclxuICAgICAgICAgICAgdGhpcy5mYXZpY29uQ2FudmFzID0gY2FudmFzO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIG9uSW1hZ2VMb2FkZWQuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgaW1nLnNyYyA9IGZhdmljb24uaHJlZjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgdG8gYmUgcmVuZGVyZWQgZnJhbWUgZm9yIEZhdmlkZW9Nb2RlVmlkZW8uXHJcbiAgICAgKiBAcGFyYW0gdmlkZW9cclxuICAgICAqIEBwYXJhbSBjYW52YXNcclxuICAgICAqIEBwYXJhbSBjYW52YXNDdHhcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIGdldEZhdmljb25GcmFtZSh2aWRlbywgY2FudmFzLCBjYW52YXNDdHgsIGZhdmljb24pIHtcclxuICAgICAgICBpZiAoIXRoaXMuZmF2aWNvbkNhbnZhc0N0eCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldEZhdmljb24oZmF2aWNvbik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBkcmF3IHZpZGVvIGZyYW1lIG9uIHRvIG9yaWdpbmFsIHNpemUgZmF2aWNvbkNhbnZhc1xyXG4gICAgICAgIGxldCBjYW52YXMyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgY2FudmFzMi53aWR0aCA9IHZpZGVvLnZpZGVvV2lkdGg7XHJcbiAgICAgICAgY2FudmFzMi5oZWlnaHQgPSB2aWRlby52aWRlb0hlaWdodDtcclxuICAgICAgICBsZXQgY2FudmFzQ3R4MiA9IGNhbnZhczIuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICBjYW52YXNDdHgyLmRyYXdJbWFnZSh2aWRlbywgMCwgMCwgY2FudmFzMi53aWR0aCwgY2FudmFzMi5oZWlnaHQpO1xyXG4gICAgICAgIGxldCBwaXhlbENvbG9yID0gdGhpcy5nZXRDb2xvcihjYW52YXMyLCBjYW52YXNDdHgyKTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmZhdmljb25DYW52YXNDdHgpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS53YXJuKFwiZmF2aWNvbiBub3QgeWV0IHJlYWR5XCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5mYXZpY29uQ2FudmFzQ3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwic291cmNlLWluXCI7XHJcbiAgICAgICAgdGhpcy5mYXZpY29uQ2FudmFzQ3R4LmZpbGxTdHlsZSA9IHBpeGVsQ29sb3I7XHJcbiAgICAgICAgdGhpcy5mYXZpY29uQ2FudmFzQ3R4LmZpbGxSZWN0KDAsIDAsIHRoaXMuZmF2aWNvbkNhbnZhcy53aWR0aCwgdGhpcy5mYXZpY29uQ2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgdGhpcy5mYXZpY29uQ2FudmFzQ3R4LmZpbGwoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZmF2aWNvbkNhbnZhcy50b0RhdGFVUkwoKTtcclxuICAgIH07XHJcblxyXG4gICAgZ2V0Q29sb3IoY2FudmFzLCBjdHgpIHtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuY29sb3JUeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJhdmVyYWdlXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQ29sb3IuZ2V0QXZlcmFnZUNvbG9yKGNhbnZhcywgY3R4KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiZG9taW5hbnRcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBDb2xvci5nZXREb21pbmFudENvbG9yKGNhbnZhcywgY3R4KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGV2ZW50IGhhbmRsZXIgdXBkYXRlcyB0aGUgZmF2aWNvbkNhbnZhcyB3aWR0aCBhbmQgaGVpZ2h0LFxyXG4gICAgICogYmVjYXVzZSB0aGUgdmlkZW8gd2lkdGggYW5kIGhlaWdodCBhcmUgbm93IGtub3duLlxyXG4gICAgICovXHJcbiAgICBsb2FkZWRtZXRhZGF0YUhhbmRsZXIoKSB7XHJcbiAgICAgICAgbGV0IGNhbnZhc1dpZHRoID0gdGhpcy5mYXZpY29uLnNpemUsIGNhbnZhc0hlaWdodCA9IHRoaXMuZmF2aWNvbi5zaXplO1xyXG4gICAgICAgIHRoaXMuZmF2aWNvbkNhbnZhcy53aWR0aCA9IGNhbnZhc1dpZHRoO1xyXG4gICAgICAgIHRoaXMuZmF2aWNvbkNhbnZhcy5oZWlnaHQgPSBjYW52YXNIZWlnaHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHJlc3RvcmVPcmlnaW5hbEZhdmljb24oKSB7XHJcbiAgICAgICAgdGhpcy5mYXZpY29uLnJlc3RvcmVEZWZhdWx0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHJlZ2lzdGVycyB0aGUgdXBkYXRlIGV2ZW50IG9mIEZhdmlkZW9Nb2RlVmlkZW8uXHJcbiAgICAgKi9cclxuICAgIHJlZ2lzdGVyVXBkYXRlRXZlbnQoZmF2aWRlbykge1xyXG4gICAgICAgIGZhdmlkZW8ucmVnaXN0ZXJWaWRlb0V2ZW50KCdsb2FkZWRtZXRhZGF0YScsIHRoaXMubG9hZGVkbWV0YWRhdGFIYW5kbGVyLmJpbmQoZmF2aWRlbykpO1xyXG4gICAgICAgIGZhdmlkZW8ucmVnaXN0ZXJWaWRlb0V2ZW50KCdwYXVzZScsIHRoaXMucmVzdG9yZU9yaWdpbmFsRmF2aWNvbi5iaW5kKGZhdmlkZW8pKTtcclxuICAgICAgICBmYXZpZGVvLnJlZ2lzdGVyVmlkZW9FdmVudCgnZW5kZWQnLCB0aGlzLnJlc3RvcmVPcmlnaW5hbEZhdmljb24uYmluZChmYXZpZGVvKSk7XHJcbiAgICAgICAgaWYgKCF0aGlzLmZwcykge1xyXG4gICAgICAgICAgICBmYXZpZGVvLnJlZ2lzdGVyVmlkZW9FdmVudCgndGltZXVwZGF0ZScsIGZhdmlkZW8udXBkYXRlLmJpbmQoZmF2aWRlbykpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5pbnRlcnZhbCA9IHNldEludGVydmFsKGZhdmlkZW8udXBkYXRlLmJpbmQoZmF2aWRlbyksIDEwMDAvdGhpcy5mcHMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkaXNhYmxlKCkge1xyXG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmludGVydmFsKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7RmF2aWRlb30gZnJvbSAnLi9GYXZpZGVvJztcclxuaW1wb3J0IHtWaWRlb01vZGV9IGZyb20gXCIuL0ZhdmlkZW9Nb2RlL1ZpZGVvTW9kZVwiO1xyXG5pbXBvcnQge1BsYXlJY29uTW9kZX0gZnJvbSBcIi4vRmF2aWRlb01vZGUvUGxheUljb25Nb2RlXCI7XHJcbmltcG9ydCB7UmVjb2xvck1vZGV9IGZyb20gXCIuL0ZhdmlkZW9Nb2RlL1JlY29sb3JNb2RlXCI7XHJcblxyXG53aW5kb3cuRmF2aWRlbyA9IEZhdmlkZW87XHJcbndpbmRvdy5WaWRlb01vZGUgPSBWaWRlb01vZGU7XHJcbndpbmRvdy5QbGF5SWNvbk1vZGUgPSBQbGF5SWNvbk1vZGU7XHJcbndpbmRvdy5SZWNvbG9yTW9kZSA9IFJlY29sb3JNb2RlOyJdLCJzb3VyY2VSb290IjoiIn0=