!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=7)}([function(t,e){if(!n)var n={map:function(t,e){var n={};return e?t.map((function(t,r){return n.index=r,e.call(n,t)})):t.slice()},naturalOrder:function(t,e){return t<e?-1:t>e?1:0},sum:function(t,e){var n={};return t.reduce(e?function(t,r,i){return n.index=i,t+e.call(n,r)}:function(t,e){return t+e},0)},max:function(t,e){return Math.max.apply(null,e?n.map(t,e):t)}};var r=function(){var t=5,e=8-t,r=1e3,i=.75;function o(e,n,r){return(e<<2*t)+(n<<t)+r}function a(t){var e=[],n=!1;function r(){e.sort(t),n=!0}return{push:function(t){e.push(t),n=!1},peek:function(t){return n||r(),void 0===t&&(t=e.length-1),e[t]},pop:function(){return n||r(),e.pop()},size:function(){return e.length},map:function(t){return e.map(t)},debug:function(){return n||r(),e}}}function s(t,e,n,r,i,o,a){this.r1=t,this.r2=e,this.g1=n,this.g2=r,this.b1=i,this.b2=o,this.histo=a}function u(){this.vboxes=new a((function(t,e){return n.naturalOrder(t.vbox.count()*t.vbox.volume(),e.vbox.count()*e.vbox.volume())}))}function c(t,e){if(e.count()){var r=e.r2-e.r1+1,i=e.g2-e.g1+1,a=e.b2-e.b1+1,s=n.max([r,i,a]);if(1==e.count())return[e.copy()];var u,c,f,h,l=0,p=[],v=[];if(s==r)for(u=e.r1;u<=e.r2;u++){for(h=0,c=e.g1;c<=e.g2;c++)for(f=e.b1;f<=e.b2;f++)h+=t[o(u,c,f)]||0;l+=h,p[u]=l}else if(s==i)for(u=e.g1;u<=e.g2;u++){for(h=0,c=e.r1;c<=e.r2;c++)for(f=e.b1;f<=e.b2;f++)h+=t[o(c,u,f)]||0;l+=h,p[u]=l}else for(u=e.b1;u<=e.b2;u++){for(h=0,c=e.r1;c<=e.r2;c++)for(f=e.g1;f<=e.g2;f++)h+=t[o(c,f,u)]||0;l+=h,p[u]=l}return p.forEach((function(t,e){v[e]=l-t})),d(s==r?"r":s==i?"g":"b")}function d(t){var n,r,i,o,a,s=t+"1",c=t+"2",f=0;for(u=e[s];u<=e[c];u++)if(p[u]>l/2){for(i=e.copy(),o=e.copy(),a=(n=u-e[s])<=(r=e[c]-u)?Math.min(e[c]-1,~~(u+r/2)):Math.max(e[s],~~(u-1-n/2));!p[a];)a++;for(f=v[a];!f&&p[a-1];)f=v[--a];return i[c]=a,o[s]=i[c]+1,[i,o]}}}return s.prototype={volume:function(t){return this._volume&&!t||(this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1)),this._volume},count:function(t){var e=this.histo;if(!this._count_set||t){var n,r,i,a=0;for(n=this.r1;n<=this.r2;n++)for(r=this.g1;r<=this.g2;r++)for(i=this.b1;i<=this.b2;i++)a+=e[o(n,r,i)]||0;this._count=a,this._count_set=!0}return this._count},copy:function(){return new s(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.histo)},avg:function(e){var n=this.histo;if(!this._avg||e){var r,i,a,s,u=0,c=1<<8-t,f=0,h=0,l=0;for(i=this.r1;i<=this.r2;i++)for(a=this.g1;a<=this.g2;a++)for(s=this.b1;s<=this.b2;s++)u+=r=n[o(i,a,s)]||0,f+=r*(i+.5)*c,h+=r*(a+.5)*c,l+=r*(s+.5)*c;this._avg=u?[~~(f/u),~~(h/u),~~(l/u)]:[~~(c*(this.r1+this.r2+1)/2),~~(c*(this.g1+this.g2+1)/2),~~(c*(this.b1+this.b2+1)/2)]}return this._avg},contains:function(t){var n=t[0]>>e;return gval=t[1]>>e,bval=t[2]>>e,n>=this.r1&&n<=this.r2&&gval>=this.g1&&gval<=this.g2&&bval>=this.b1&&bval<=this.b2}},u.prototype={push:function(t){this.vboxes.push({vbox:t,color:t.avg()})},palette:function(){return this.vboxes.map((function(t){return t.color}))},size:function(){return this.vboxes.size()},map:function(t){for(var e=this.vboxes,n=0;n<e.size();n++)if(e.peek(n).vbox.contains(t))return e.peek(n).color;return this.nearest(t)},nearest:function(t){for(var e,n,r,i=this.vboxes,o=0;o<i.size();o++)((n=Math.sqrt(Math.pow(t[0]-i.peek(o).color[0],2)+Math.pow(t[1]-i.peek(o).color[1],2)+Math.pow(t[2]-i.peek(o).color[2],2)))<e||void 0===e)&&(e=n,r=i.peek(o).color);return r},forcebw:function(){var t=this.vboxes;t.sort((function(t,e){return n.naturalOrder(n.sum(t.color),n.sum(e.color))}));var e=t[0].color;e[0]<5&&e[1]<5&&e[2]<5&&(t[0].color=[0,0,0]);var r=t.length-1,i=t[r].color;i[0]>251&&i[1]>251&&i[2]>251&&(t[r].color=[255,255,255])}},{quantize:function(f,h){if(!f.length||h<2||h>256)return!1;var l=function(n){var r,i,a,s,u=new Array(1<<3*t);return n.forEach((function(t){i=t[0]>>e,a=t[1]>>e,s=t[2]>>e,r=o(i,a,s),u[r]=(u[r]||0)+1})),u}(f);l.forEach((function(){0}));var p=function(t,n){var r,i,o,a=1e6,u=0,c=1e6,f=0,h=1e6,l=0;return t.forEach((function(t){r=t[0]>>e,i=t[1]>>e,o=t[2]>>e,r<a?a=r:r>u&&(u=r),i<c?c=i:i>f&&(f=i),o<h?h=o:o>l&&(l=o)})),new s(a,u,c,f,h,l,n)}(f,l),v=new a((function(t,e){return n.naturalOrder(t.count(),e.count())}));function d(t,e){for(var n,i=1,o=0;o<r;)if((n=t.pop()).count()){var a=c(l,n),s=a[0],u=a[1];if(!s)return;if(t.push(s),u&&(t.push(u),i++),i>=e)return;if(o++>r)return}else t.push(n),o++}v.push(p),d(v,i*h);for(var g=new a((function(t,e){return n.naturalOrder(t.count()*t.volume(),e.count()*e.volume())}));v.size();)g.push(v.pop());d(g,h-g.size());for(var b=new u;g.size();)b.push(g.pop());return b}}}();t.exports=r.quantize},function(t,e,n){t.exports={WebVTT:n(2).WebVTT,VTTCue:n(3).VTTCue,VTTRegion:n(5).VTTRegion}},function(t,e){!function(t){function e(t,e){return void 0===e&&(e=1),"rgba("+[parseInt(t.substring(0,2),16),parseInt(t.substring(2,4),16),parseInt(t.substring(4,6),16),e].join(",")+")"}var n=1;function r(t,r,o){switch(o){case"webvtt.font.color":case"webvtt.font.opacity":var a=Services.prefs.getCharPref("webvtt.font.color"),s=Services.prefs.getIntPref("webvtt.font.opacity")/100;i.fontSet=e(a,s);break;case"webvtt.font.scale":n=Services.prefs.getIntPref("webvtt.font.scale")/100;break;case"webvtt.bg.color":case"webvtt.bg.opacity":var u=Services.prefs.getCharPref("webvtt.bg.color"),c=Services.prefs.getIntPref("webvtt.bg.opacity")/100;i.backgroundSet=e(u,c);break;case"webvtt.edge.color":case"webvtt.edge.type":var f=Services.prefs.getIntPref("webvtt.edge.type"),h=Services.prefs.getCharPref("webvtt.edge.color");i.edgeSet=["","0px 0px ","4px 4px 4px ","-2px -2px ","2px 2px "][f]+e(h)}}if("undefined"!=typeof Services){var i={};["webvtt.font.color","webvtt.font.opacity","webvtt.font.scale","webvtt.bg.color","webvtt.bg.opacity","webvtt.edge.color","webvtt.edge.type"].forEach((function(t){r(0,0,t),Services.prefs.addObserver(t,r,!1)}))}var o=Object.create||function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function a(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}function s(t){function e(t,e,n,r){return 3600*(0|t)+60*(0|e)+(0|n)+(0|r)/1e3}var n=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}function u(){this.values=o(null)}function c(t,e,n,r){var i=r?t.split(r):[t];for(var o in i)if("string"==typeof i[o]){var a=i[o].split(n);if(2===a.length)e(a[0],a[1])}}function f(t,e,n){var r=t;function i(){var e=s(t);if(null===e)throw new a(a.Errors.BadTimeStamp,"Malformed timestamp: "+r);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function o(){t=t.replace(/^\s+/,"")}if(o(),e.startTime=i(),o(),"--\x3e"!==t.substr(0,3))throw new a(a.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);t=t.substr(3),o(),e.endTime=i(),o(),function(t,e){var r=new u;c(t,(function(t,e){switch(t){case"region":for(var i=n.length-1;i>=0;i--)if(n[i].id===e){r.set(t,n[i].region);break}break;case"vertical":r.alt(t,e,["rl","lr"]);break;case"line":var o=e.split(","),a=o[0];r.integer(t,a),r.percent(t,a)&&r.set("snapToLines",!1),r.alt(t,a,["auto"]),2===o.length&&r.alt("lineAlign",o[1],["start","middle","end"]);break;case"position":o=e.split(","),r.percent(t,o[0]),2===o.length&&r.alt("positionAlign",o[1],["start","middle","end"]);break;case"size":r.percent(t,e);break;case"align":r.alt(t,e,["start","middle","end","left","right"])}}),/:/,/\s/),e.region=r.get("region",null),e.vertical=r.get("vertical",""),e.line=r.get("line","auto"),e.lineAlign=r.get("lineAlign","start"),e.snapToLines=r.get("snapToLines",!0),e.size=r.get("size",100),e.align=r.get("align","middle"),e.position=r.get("position","auto"),e.positionAlign=r.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},e.align)}(t,e)}a.prototype=o(Error.prototype),a.prototype.constructor=a,a.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},u.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var r=0;r<n.length;++r)if(e===n[r]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e))>=0&&e<=100)&&(this.set(t,e),!0)}};var h={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},l={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},p={v:"title",lang:"lang"},v={rt:"ruby"};function d(t,e){function n(){if(!e)return null;var t,n=e.match(/^([^<]*)(<[^>]+>?)?/);return t=n[1]?n[1]:n[2],e=e.substr(t.length),t}function r(t){return h[t]}function i(t){for(;y=t.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)t=t.replace(y[0],r);return t}function o(t,e){return!v[e.localName]||v[e.localName]===t.localName}function a(e,n){var r=l[e];if(!r)return null;var i=t.document.createElement(r);i.localName=r;var o=p[e];return o&&n&&(i[o]=n.trim()),i}for(var u,c=t.document.createElement("div"),f=c,d=[];null!==(u=n());)if("<"!==u[0])f.appendChild(t.document.createTextNode(i(u)));else{if("/"===u[1]){d.length&&d[d.length-1]===u.substr(2).replace(">","")&&(d.pop(),f=f.parentNode);continue}var g,b=s(u.substr(1,u.length-2));if(b){g=t.document.createProcessingInstruction("timestamp",b),f.appendChild(g);continue}var y=u.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!y)continue;if(!(g=a(y[1],y[3])))continue;if(!o(f,g))continue;y[2]&&(g.className=y[2].substr(1).replace("."," ")),d.push(y[1]),f.appendChild(g),f=g}return c}var g=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function b(t){for(var e=0;e<g.length;e++){var n=g[e];if(t>=n[0]&&t<=n[1])return!0}return!1}function y(){}function m(t,e,n){var r="undefined"!=typeof navigator&&/MSIE\s8\.0/.test(navigator.userAgent),o="rgba(255, 255, 255, 1)",a="rgba(0, 0, 0, 0.8)",s="";void 0!==i&&(o=i.fontSet,a=i.backgroundSet,s=i.edgeSet),r&&(o="rgb(255, 255, 255)",a="rgb(0, 0, 0)"),y.call(this),this.cue=e,this.cueDiv=d(t,e.text);var u={color:o,backgroundColor:a,textShadow:s,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};r||(u.writingMode=""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",u.unicodeBidi="plaintext"),this.applyStyles(u,this.cueDiv),this.div=t.document.createElement("div"),u={textAlign:"middle"===e.align?"center":e.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},r||(u.direction=function(t){var e=[],n="";if(!t||!t.childNodes)return"ltr";function r(t,e){for(var n=e.childNodes.length-1;n>=0;n--)t.push(e.childNodes[n])}function i(t){if(!t||!t.length)return null;var e=t.pop(),n=e.textContent||e.innerText;if(n){var o=n.match(/^.*(\n|\r)/);return o?(t.length=0,o[0]):n}return"ruby"===e.tagName?i(t):e.childNodes?(r(t,e),i(t)):void 0}for(r(e,t);n=i(e);)for(var o=0;o<n.length;o++)if(b(n.charCodeAt(o)))return"rtl";return"ltr"}(this.cueDiv),u.writingMode=""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(u),this.div.appendChild(this.cueDiv);var c=0;switch(e.positionAlign){case"start":c=e.position;break;case"middle":c=e.position-e.size/2;break;case"end":c=e.position-e.size}""===e.vertical?this.applyStyles({left:this.formatStyle(c,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(c,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}function w(t){var e,n,r,i,o="undefined"!=typeof navigator&&/MSIE\s8\.0/.test(navigator.userAgent);if(t.div){n=t.div.offsetHeight,r=t.div.offsetWidth,i=t.div.offsetTop;var a=(a=t.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();t=t.div.getBoundingClientRect(),e=a?Math.max(a[0]&&a[0].height||0,t.height/a.length):0}this.left=t.left,this.right=t.right,this.top=t.top||i,this.height=t.height||n,this.bottom=t.bottom||i+(t.height||n),this.width=t.width||r,this.lineHeight=void 0!==e?e:t.lineHeight,o&&!this.lineHeight&&(this.lineHeight=13)}function T(t,e,n,r){var i=new w(e),o=e.cue,a=function(t){if("number"==typeof t.line&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,n=e.textTrackList,r=0,i=0;i<n.length&&n[i]!==e;i++)"showing"===n[i].mode&&r++;return-1*++r}(o),s=[];if(o.snapToLines){var u;switch(o.vertical){case"":s=["+y","-y"],u="height";break;case"rl":s=["+x","-x"],u="width";break;case"lr":s=["-x","+x"],u="width"}var c=i.lineHeight,f=c*Math.round(a),h=n[u]+c,l=s[0];Math.abs(f)>h&&(f=f<0?-1:1,f*=Math.ceil(h/c)*c),a<0&&(f+=""===o.vertical?n.height:n.width,s=s.reverse()),i.move(l,f)}else{var p=i.lineHeight/n.height*100;switch(o.lineAlign){case"middle":a-=p/2;break;case"end":a-=p}switch(o.vertical){case"":e.applyStyles({top:e.formatStyle(a,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(a,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(a,"%")})}s=["+y","-x","+x","-y"],i=new w(e)}var v=function(t,e){for(var i,o=new w(t),a=1,s=0;s<e.length;s++){for(;t.overlapsOppositeAxis(n,e[s])||t.within(n)&&t.overlapsAny(r);)t.move(e[s]);if(t.within(n))return t;var u=t.intersectPercentage(n);a>u&&(i=new w(t),a=u),t=new w(o)}return i||o}(i,s);e.move(v.toCSSCompatValues(n))}function S(){}y.prototype.applyStyles=function(t,e){for(var n in e=e||this.div,t)t.hasOwnProperty(n)&&(e.style[n]=t[n])},y.prototype.formatStyle=function(t,e){return 0===t?0:t+e},m.prototype=o(y.prototype),m.prototype.constructor=m,w.prototype.move=function(t,e){switch(e=void 0!==e?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e}},w.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},w.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},w.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},w.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},w.prototype.intersectPercentage=function(t){return Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left))*Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top))/(this.height*this.width)},w.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},w.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,n=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,r=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;return{left:(t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t).left,right:t.right,top:t.top||r,height:t.height||e,bottom:t.bottom||r+(t.height||e),width:t.width||n}},S.StringDecoder=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},S.convertCueToDOMTree=function(t,e){return t&&e?d(t,e):null};S.processCues=function(t,e,r){if(!t||!e||!r)return null;for(;r.firstChild;)r.removeChild(r.firstChild);var i=t.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin="1.5%",r.appendChild(i),function(t){for(var e=0;e<t.length;e++)if(t[e].hasBeenReset||!t[e].displayState)return!0;return!1}(e)){var o=[],a=w.getSimpleBoxPosition(i),s={font:Math.round(.05*a.height*100)/100*n+"px sans-serif"};!function(){for(var n,r,u=0;u<e.length;u++)r=e[u],n=new m(t,r,s),i.appendChild(n.div),T(0,n,a,o),r.displayState=n.div,o.push(w.getSimpleBoxPosition(n))}()}else for(var u=0;u<e.length;u++)i.appendChild(e[u].displayState)},S.Parser=function(t,e){this.window=t,this.state="INITIAL",this.buffer="",this.decoder=e||new TextDecoder("utf8"),this.regionList=[]},S.Parser.prototype={reportOrThrowError:function(t){if(!(t instanceof a))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(t){var e=this;function n(){for(var t=e.buffer,n=0;n<t.length&&"\r"!==t[n]&&"\n"!==t[n];)++n;var r=t.substr(0,n);return"\r"===t[n]&&++n,"\n"===t[n]&&++n,e.buffer=t.substr(n),r}function r(t){c(t,(function(t,n){switch(t){case"Region":!function(t){var n=new u;if(c(t,(function(t,e){switch(t){case"id":n.set(t,e);break;case"width":n.percent(t,e);break;case"lines":n.integer(t,e);break;case"regionanchor":case"viewportanchor":var r=e.split(",");if(2!==r.length)break;var i=new u;if(i.percent("x",r[0]),i.percent("y",r[1]),!i.has("x")||!i.has("y"))break;n.set(t+"X",i.get("x")),n.set(t+"Y",i.get("y"));break;case"scroll":n.alt(t,e,["up"])}}),/=/,/\s/),n.has("id")){var r=new e.window.VTTRegion;r.width=n.get("width",100),r.lines=n.get("lines",3),r.regionAnchorX=n.get("regionanchorX",0),r.regionAnchorY=n.get("regionanchorY",100),r.viewportAnchorX=n.get("viewportanchorX",0),r.viewportAnchorY=n.get("viewportanchorY",100),r.scroll=n.get("scroll",""),e.onregion&&e.onregion(r),e.regionList.push({id:n.get("id"),region:r})}}(n)}}),/:/)}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var i;if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;var o=(i=n()).match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new a(a.Errors.BadSignature);e.state="HEADER"}for(var s=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(s?s=!1:i=n(),e.state){case"HEADER":/:/.test(i)?r(i):i||(e.state="ID");continue;case"NOTE":i||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){e.state="NOTE";break}if(!i)continue;if(e.cue=new e.window.VTTCue(0,0,""),e.state="CUE",-1===i.indexOf("--\x3e")){e.cue.id=i;continue}case"CUE":try{f(i,e.cue,e.regionList)}catch(t){e.reportOrThrowError(t),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var h=-1!==i.indexOf("--\x3e");if(!i||h&&(s=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+="\n"),e.cue.text+=i;continue;case"BADCUE":i||(e.state="ID");continue}}}catch(t){e.reportOrThrowError(t),"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new a(a.Errors.BadSignature)}catch(t){this.reportOrThrowError(t)}return this.onflush&&this.onflush(),this}},t.WebVTT=S}(this)},function(t,e,n){var r;t.exports&&(this.VTTCue=this.VTTCue||n(4).VTTCue),(r=this).VTTCue.prototype.toJSON=function(){var t={},e=this;return Object.keys(this).forEach((function(n){"getCueAsHTML"!==n&&"hasBeenReset"!==n&&"displayState"!==n&&(t[n]=e[n])})),t},r.VTTCue.create=function(t){if(!t.hasOwnProperty("startTime")||!t.hasOwnProperty("endTime")||!t.hasOwnProperty("text"))throw new Error("You must at least have start time, end time, and text.");var e=new r.VTTCue(t.startTime,t.endTime,t.text);for(var n in t)e.hasOwnProperty(n)&&(e[n]=t[n]);return e},r.VTTCue.fromJSON=function(t){return this.create(JSON.parse(t))}},function(t,e){!function(t){var e="auto",n={"":!0,lr:!0,rl:!0},r={start:!0,middle:!0,end:!0,left:!0,right:!0};function i(t){return"string"==typeof t&&(!!r[t.toLowerCase()]&&t.toLowerCase())}function o(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function a(t,r,a){var s=this,u=/MSIE\s8\.0/.test(navigator.userAgent),c={};u?s=document.createElement("custom"):c.enumerable=!0,s.hasBeenReset=!1;var f="",h=!1,l=t,p=r,v=a,d=null,g="",b=!0,y="auto",m="start",w=50,T="middle",S=50,x="middle";if(Object.defineProperty(s,"id",o({},c,{get:function(){return f},set:function(t){f=""+t}})),Object.defineProperty(s,"pauseOnExit",o({},c,{get:function(){return h},set:function(t){h=!!t}})),Object.defineProperty(s,"startTime",o({},c,{get:function(){return l},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");l=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",o({},c,{get:function(){return p},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");p=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",o({},c,{get:function(){return v},set:function(t){v=""+t,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",o({},c,{get:function(){return d},set:function(t){d=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",o({},c,{get:function(){return g},set:function(t){var e=function(t){return"string"==typeof t&&(!!n[t.toLowerCase()]&&t.toLowerCase())}(t);if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");g=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",o({},c,{get:function(){return b},set:function(t){b=!!t,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",o({},c,{get:function(){return y},set:function(t){if("number"!=typeof t&&t!==e)throw new SyntaxError("An invalid number or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",o({},c,{get:function(){return m},set:function(t){var e=i(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");m=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",o({},c,{get:function(){return w},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");w=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",o({},c,{get:function(){return T},set:function(t){var e=i(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");T=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",o({},c,{get:function(){return S},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");S=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",o({},c,{get:function(){return x},set:function(t){var e=i(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");x=e,this.hasBeenReset=!0}})),s.displayState=void 0,u)return s}a.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},t.VTTCue=t.VTTCue||a}(this)},function(t,e,n){var r;t.exports&&(this.VTTRegion=n(6).VTTRegion),(r=this).VTTRegion.create=function(t){var e=new r.VTTRegion;for(var n in t)e.hasOwnProperty(n)&&(e[n]=t[n]);return e},r.VTTRegion.fromJSON=function(t){return this.create(JSON.parse(t))}},function(t,e){!function(t){var e={"":!0,up:!0};function n(t){return"number"==typeof t&&t>=0&&t<=100}t.VTTRegion=t.VTTRegion||function(){var t=100,r=3,i=0,o=100,a=0,s=100,u="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!n(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return r},set:function(t){if("number"!=typeof t)throw new TypeError("Lines must be set to a number.");r=t}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(t){if(!n(t))throw new Error("RegionAnchorX must be between 0 and 100.");o=t}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(t){if(!n(t))throw new Error("RegionAnchorY must be between 0 and 100.");i=t}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(t){if(!n(t))throw new Error("ViewportAnchorY must be between 0 and 100.");s=t}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(t){if(!n(t))throw new Error("ViewportAnchorX must be between 0 and 100.");a=t}},scroll:{enumerable:!0,get:function(){return u},set:function(t){var n=function(t){return"string"==typeof t&&(!!e[t.toLowerCase()]&&t.toLowerCase())}(t);if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");u=n}}})}}(this)},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.r(e);var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=this.getExistingFavicon();n?(this.originalHref=n.href,this.node=n):this.node=this.create()}var e,n,i;return e=t,(n=[{key:"getExistingFavicon",value:function(){return document.querySelector('link[rel="shortcut icon"]')}},{key:"create",value:function(){var t=document.createElement("link");return t.type="image/x-icon",t.rel="shortcut icon",document.getElementsByTagName("head")[0].appendChild(t),t}},{key:"update",value:function(t){this.href=t}},{key:"restoreDefault",value:function(){this.originalHref&&this.update(this.originalHref)}},{key:"href",set:function(t){this.node.href=t},get:function(){return this.node.href}},{key:"size",set:function(t){this.size_=t,this.node.sizes=t+"x"+t},get:function(){return this.size_}}])&&r(e.prototype,n),i&&r(e,i),t}();function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=document.createElement("canvas"),this.ctx_=this.canvas.getContext("2d")}var e,n,r;return e=t,(n=[{key:"node",get:function(){return this.canvas}},{key:"ctx",get:function(){return this.ctx_}},{key:"width",get:function(){return this.node.width},set:function(t){this.node.width=t}},{key:"height",get:function(){return this.node.width},set:function(t){this.node.height=t}}])&&o(e.prototype,n),r&&o(e,r),t}();function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.input=e,this.mode=n,this.favicon=new i,this.favicon.size=r,this.faviconCanvas=new a,this.videoEventListeners=[],this.enable()}var e,n,r;return e=t,(n=[{key:"update",value:function(){var t=this.mode.getFaviconFrame(this.input,this.faviconCanvas.node,this.faviconCanvas.ctx,this.favicon);t&&this.favicon.update(t)}},{key:"enable",value:function(){this.mode.registerUpdateEvent(this)}},{key:"disable",value:function(){this.unregisterVideoEvents(),this.mode.disable()}},{key:"registerVideoEvent",value:function(t,e){this.videoEventListeners.push({event:t,func:e}),this.input.video.addEventListener(t,e)}},{key:"unregisterVideoEvents",value:function(){for(var t=0;t<this.videoEventListeners.length;t++){var e=this.videoEventListeners[t];this.input.video.removeEventListener(e.event,e.func)}}}])&&s(e.prototype,n),r&&s(e,r),t}();function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var f=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fps=e}var e,n,r;return e=t,(n=[{key:"registerUpdateEvent",value:function(t){t.registerVideoEvent("loadedmetadata",this.loadedmetadataHandler.bind(t)),t.registerVideoEvent("pause",this.restoreOriginalFavicon.bind(t)),t.registerVideoEvent("ended",this.restoreOriginalFavicon.bind(t)),this.fps?this.interval=setInterval(t.update.bind(t),1e3/this.fps):t.registerVideoEvent("timeupdate",t.update.bind(t))}},{key:"restoreOriginalFavicon",value:function(){this.favicon.restoreDefault()}},{key:"loadedmetadataHandler",value:function(){var t=this.favicon.size,e=this.favicon.size;this.faviconCanvas.width=t,this.faviconCanvas.height=e}},{key:"disable",value:function(){clearTimeout(this.interval)}}])&&c(e.prototype,n),r&&c(e,r),t}();function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=p(this,v(e).call(this,t))).respectAspectRatio=n,r.videoInCanvasSettings={dx:0,dy:0,dWidth:0,dHeight:0},r}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,t),n=e,(r=[{key:"getFaviconFrame",value:function(t,e,n){return this.respectAspectRatio?n.drawImage(t.getSource(),this.videoInCanvasSettings.dx,this.videoInCanvasSettings.dy,this.videoInCanvasSettings.dWidth,this.videoInCanvasSettings.dHeight):n.drawImage(t.getSource(),0,0,e.width,e.height),e.toDataURL()}},{key:"getVideoInFaviconFit",value:function(t,e,n){var r=e/(t/n);return{width:n,height:r,offset:(n-r)/2}}},{key:"calculateAndSetVideoInCanvasProfile",value:function(t,e){var n,r=t.videoWidth,i=t.videoHeight;r>i?(n=this.getVideoInFaviconFit(r,i,e),this.videoInCanvasSettings.dx=0,this.videoInCanvasSettings.dy=n.offset,this.videoInCanvasSettings.dWidth=n.width,this.videoInCanvasSettings.dHeight=n.height):(n=this.getVideoInFaviconFit(i,r,e),this.videoInCanvasSettings.dx=n.offset,this.videoInCanvasSettings.dy=0,this.videoInCanvasSettings.dWidth=n.height,this.videoInCanvasSettings.dHeight=n.width)}},{key:"loadedmetadataHandler",value:function(){var t=0,e=0;this.mode.respectAspectRatio?(this.mode.calculateAndSetVideoInCanvasProfile(this.input.video,this.favicon.size),t=this.favicon.size,e=this.favicon.size):(t=this.input.video.videoWidth,e=this.input.video.videoHeight),this.faviconCanvas.width=t,this.faviconCanvas.height=e}}])&&l(n.prototype,r),i&&l(n,i),e}(f);function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var y=n(0),m=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"getAverageColor",value:function(e,n){for(var r=n.getImageData(0,0,e.width,e.height).data,i={r:0,g:0,b:0,a:0},o=r.length/4,a=0;a<r.length;a+=4)i.r=i.r+r[a],i.g=i.g+r[a+1],i.b=i.b+r[a+2],i.a=i.a+r[a+3];var s={r:i.r/o,g:i.g/o,b:i.b/o,a:i.a/o};return t.getRgbaCssString(s)}},{key:"createPixelArray",value:function(t,e){for(var n,r,i,o,a,s=t,u=[],c=0;c<e;c++)r=s[0+(n=4*c)],i=s[n+1],o=s[n+2],(void 0===(a=s[n+3])||a>=125)&&(r>250&&i>250&&o>250||u.push([r,i,o]));return u}},{key:"getDominantColor",value:function(e,n){var r=n.getImageData(0,0,e.width,e.height),i=e.width*e.height,o=t.createPixelArray(r.data,i),a=y(o,4),s=a?a.palette():null;return t.getRgbaCssStringByArray(s[0])}},{key:"getRgbaCssString",value:function(t){return"rgba("+t.r+","+t.g+","+t.b+","+t.a+")"}},{key:"getRgbaCssStringByArray",value:function(t){return"rgba("+t[0]+","+t[1]+","+t[2]+",255)"}}],(n=null)&&b(e.prototype,n),r&&b(e,r),t}();function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function S(t,e){return!e||"object"!==w(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var E=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=S(this,x(e).call(this,t))).colorType=n,r}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}(e,t),n=e,(r=[{key:"getFaviconFrame",value:function(t,e,n,r){var i=document.createElement("canvas");i.width=t.video.videoWidth,i.height=t.video.videoHeight;var o=i.getContext("2d");o.drawImage(t.getSource(),0,0,i.width,i.height);var a=this.getColor(i,o);return n.clearRect(0,0,e.width,e.height),this.drawObject(a,n,r.size),e.toDataURL()}},{key:"getColor",value:function(t,e){switch(this.colorType){case"average":return m.getAverageColor(t,e);case"dominant":return m.getDominantColor(t,e)}}},{key:"drawObject",value:function(t,e,n){this.drawPlayObject(t,e,n)}},{key:"drawPlayObject",value:function(t,e,n){e.fillStyle=t,e.beginPath(),e.moveTo(0,0),e.lineTo(0,n),e.lineTo(n,n/2),e.fill()}}])&&T(n.prototype,r),i&&T(n,i),e}(f);function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function P(t,e){return!e||"object"!==O(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function A(t,e){return(A=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var I=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=P(this,j(e).call(this,t))).colorType=n,r}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A(t,e)}(e,t),n=e,(r=[{key:"setFavicon",value:function(t){var e=this,n=document.createElement("img");n.addEventListener("load",function(){var t=document.createElement("canvas");t.width=n.naturalWidth,t.height=n.naturalWidth;var r=t.getContext("2d");r.drawImage(n,0,0),e.faviconCanvasCtx=r,e.faviconCanvas=t}.bind(this)),n.src=t.href}},{key:"getFaviconFrame",value:function(t,e,n,r){this.faviconCanvasCtx||this.setFavicon(r);var i=document.createElement("canvas");i.width=t.video.videoWidth,i.height=t.video.videoHeight;var o=i.getContext("2d");o.drawImage(t.getSource(),0,0,i.width,i.height);var a=this.getColor(i,o);return this.faviconCanvasCtx?(this.faviconCanvasCtx.globalCompositeOperation="source-in",this.faviconCanvasCtx.fillStyle=a,this.faviconCanvasCtx.fillRect(0,0,this.faviconCanvas.width,this.faviconCanvas.height),this.faviconCanvasCtx.fill(),this.faviconCanvas.toDataURL()):null}},{key:"getColor",value:function(t,e){switch(this.colorType){case"average":return m.getAverageColor(t,e);case"dominant":return m.getDominantColor(t,e)}}}])&&k(n.prototype,r),i&&k(n,i),e}(f);function R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var _=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.video=e}var e,n,r;return e=t,(n=[{key:"getSource",value:function(){return this.video}}])&&R(e.prototype,n),r&&R(e,r),t}();function V(t){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function B(t,e){return!e||"object"!==V(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function L(t){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function z(t,e){return(z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var D=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=B(this,L(e).call(this,t))).webVTTUrl=n,r.parseWebVTT(n),r}var r,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&z(t,e)}(e,t),r=e,(i=[{key:"parseWebVTT",value:function(t){var e=n(1),r=new e.WebVTT.Parser(window,e.WebVTT.StringDecoder());r.oncue=function(t){};var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var t=i.responseText;r.parse(t)}},i.open("GET",t,!0),i.send()}}])&&M(r.prototype,i),o&&M(r,o),e}(_);window.Favideo=u,window.VideoMode=g,window.PlayIconMode=E,window.RecolorMode=I,window.VideoInput=_,window.WebVTTInput=D}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3F1YW50aXplL3F1YW50aXplLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy92dHQuanMvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy92dHQuanMvbGliL3Z0dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnR0LmpzL2xpYi92dHRjdWUtZXh0ZW5kZWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Z0dC5qcy9saWIvdnR0Y3VlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy92dHQuanMvbGliL3Z0dHJlZ2lvbi1leHRlbmRlZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnR0LmpzL2xpYi92dHRyZWdpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1V0aWwvRmF2aWNvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVXRpbC9DYW52YXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0ZhdmlkZW8vRmF2aWRlby5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvRmF2aWRlby9GYXZpZGVvTW9kZS9GYXZpZGVvTW9kZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvRmF2aWRlby9GYXZpZGVvTW9kZS9WaWRlb01vZGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1V0aWwvQ29sb3IuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0ZhdmlkZW8vRmF2aWRlb01vZGUvUGxheUljb25Nb2RlLmpzIiwid2VicGFjazovLy8uL3NyYy9GYXZpZGVvL0ZhdmlkZW9Nb2RlL1JlY29sb3JNb2RlLmpzIiwid2VicGFjazovLy8uL3NyYy9GYXZpZGVvL0ZhdmlkZW9JbnB1dC9WaWRlb0lucHV0LmpzIiwid2VicGFjazovLy8uL3NyYy9GYXZpZGVvL0ZhdmlkZW9JbnB1dC9XZWJWVFRJbnB1dC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJwdiIsIm1hcCIsImFycmF5IiwiZiIsImluZGV4Iiwic2xpY2UiLCJuYXR1cmFsT3JkZXIiLCJhIiwiYiIsInN1bSIsInJlZHVjZSIsIm1heCIsIk1hdGgiLCJhcHBseSIsIk1NQ1EiLCJzaWdiaXRzIiwicnNoaWZ0IiwibWF4SXRlcmF0aW9ucyIsImZyYWN0QnlQb3B1bGF0aW9ucyIsImdldENvbG9ySW5kZXgiLCJnIiwiUFF1ZXVlIiwiY29tcGFyYXRvciIsImNvbnRlbnRzIiwic29ydGVkIiwic29ydCIsInB1c2giLCJwZWVrIiwidW5kZWZpbmVkIiwibGVuZ3RoIiwicG9wIiwic2l6ZSIsImRlYnVnIiwiVkJveCIsInIxIiwicjIiLCJnMSIsImcyIiwiYjEiLCJiMiIsImhpc3RvIiwidGhpcyIsIkNNYXAiLCJ2Ym94ZXMiLCJ2Ym94IiwiY291bnQiLCJ2b2x1bWUiLCJtZWRpYW5DdXRBcHBseSIsInJ3IiwiZ3ciLCJidyIsIm1heHciLCJjb3B5IiwiaiIsImsiLCJ0b3RhbCIsInBhcnRpYWxzdW0iLCJsb29rYWhlYWRzdW0iLCJmb3JFYWNoIiwiZG9DdXQiLCJjb2xvciIsImxlZnQiLCJyaWdodCIsInZib3gxIiwidmJveDIiLCJkMiIsImRpbTEiLCJkaW0yIiwiY291bnQyIiwibWluIiwiZm9yY2UiLCJfdm9sdW1lIiwiX2NvdW50X3NldCIsIm5waXgiLCJfY291bnQiLCJhdmciLCJfYXZnIiwiaHZhbCIsIm50b3QiLCJtdWx0IiwicnN1bSIsImdzdW0iLCJic3VtIiwiY29udGFpbnMiLCJwaXhlbCIsInJ2YWwiLCJndmFsIiwiYnZhbCIsInBhbGV0dGUiLCJ2YiIsIm5lYXJlc3QiLCJkMSIsInBDb2xvciIsInNxcnQiLCJwb3ciLCJmb3JjZWJ3IiwibG93ZXN0IiwiaWR4IiwiaGlnaGVzdCIsInF1YW50aXplIiwicGl4ZWxzIiwibWF4Y29sb3JzIiwiQXJyYXkiLCJnZXRIaXN0byIsIm5Db2xvcnMiLCJybWluIiwicm1heCIsImdtaW4iLCJnbWF4IiwiYm1pbiIsImJtYXgiLCJ2Ym94RnJvbVBpeGVscyIsInBxIiwiaXRlciIsImxoIiwidGFyZ2V0IiwibmNvbG9ycyIsIm5pdGVycyIsInBxMiIsImNtYXAiLCJXZWJWVFQiLCJWVFRDdWUiLCJWVFRSZWdpb24iLCJnbG9iYWwiLCJtYWtlQ29sb3JTZXQiLCJvcGFjaXR5IiwicGFyc2VJbnQiLCJzdWJzdHJpbmciLCJqb2luIiwiZm9udFNjYWxlIiwib2JzZXJ2ZSIsInN1YmplY3QiLCJ0b3BpYyIsImRhdGEiLCJmb250Q29sb3IiLCJTZXJ2aWNlcyIsInByZWZzIiwiZ2V0Q2hhclByZWYiLCJmb250T3BhY2l0eSIsImdldEludFByZWYiLCJXZWJWVFRTZXQiLCJmb250U2V0IiwiYmFja2dyb3VuZENvbG9yIiwiYmFja2dyb3VuZE9wYWNpdHkiLCJiYWNrZ3JvdW5kU2V0IiwiZWRnZVR5cGUiLCJlZGdlQ29sb3IiLCJlZGdlU2V0IiwicHJlZiIsImFkZE9ic2VydmVyIiwiX29iakNyZWF0ZSIsIkYiLCJhcmd1bWVudHMiLCJFcnJvciIsIlBhcnNpbmdFcnJvciIsImVycm9yRGF0YSIsIm1lc3NhZ2UiLCJjb2RlIiwicGFyc2VUaW1lU3RhbXAiLCJpbnB1dCIsImNvbXB1dGVTZWNvbmRzIiwiaCIsIm1hdGNoIiwicmVwbGFjZSIsIlNldHRpbmdzIiwidmFsdWVzIiwicGFyc2VPcHRpb25zIiwiY2FsbGJhY2siLCJrZXlWYWx1ZURlbGltIiwiZ3JvdXBEZWxpbSIsImdyb3VwcyIsInNwbGl0Iiwia3YiLCJwYXJzZUN1ZSIsImN1ZSIsInJlZ2lvbkxpc3QiLCJvSW5wdXQiLCJjb25zdW1lVGltZVN0YW1wIiwidHMiLCJFcnJvcnMiLCJCYWRUaW1lU3RhbXAiLCJza2lwV2hpdGVzcGFjZSIsInN0YXJ0VGltZSIsInN1YnN0ciIsImVuZFRpbWUiLCJzZXR0aW5ncyIsInYiLCJpZCIsInNldCIsInJlZ2lvbiIsImFsdCIsInZhbHMiLCJ2YWxzMCIsImludGVnZXIiLCJwZXJjZW50IiwidmVydGljYWwiLCJsaW5lIiwibGluZUFsaWduIiwic25hcFRvTGluZXMiLCJhbGlnbiIsInBvc2l0aW9uIiwicG9zaXRpb25BbGlnbiIsInN0YXJ0IiwibWlkZGxlIiwiZW5kIiwiY29uc3VtZUN1ZVNldHRpbmdzIiwiY29uc3RydWN0b3IiLCJCYWRTaWduYXR1cmUiLCJkZmx0IiwiZGVmYXVsdEtleSIsImhhcyIsInRlc3QiLCJwYXJzZUZsb2F0IiwiRVNDQVBFIiwiVEFHX05BTUUiLCJ1IiwicnVieSIsInJ0IiwibGFuZyIsIlRBR19BTk5PVEFUSU9OIiwiTkVFRFNfUEFSRU5UIiwicGFyc2VDb250ZW50Iiwid2luZG93IiwibmV4dFRva2VuIiwicmVzdWx0IiwidW5lc2NhcGUxIiwiZSIsInVuZXNjYXBlIiwic2hvdWxkQWRkIiwiY3VycmVudCIsImVsZW1lbnQiLCJsb2NhbE5hbWUiLCJjcmVhdGVFbGVtZW50IiwidHlwZSIsImFubm90YXRpb24iLCJ0YWdOYW1lIiwiZG9jdW1lbnQiLCJ0cmltIiwicm9vdERpdiIsInRhZ1N0YWNrIiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsInBhcmVudE5vZGUiLCJub2RlIiwiY3JlYXRlUHJvY2Vzc2luZ0luc3RydWN0aW9uIiwiY2xhc3NOYW1lIiwic3Ryb25nUlRMUmFuZ2VzIiwiaXNTdHJvbmdSVExDaGFyIiwiY2hhckNvZGUiLCJjdXJyZW50UmFuZ2UiLCJTdHlsZUJveCIsIkN1ZVN0eWxlQm94Iiwic3R5bGVPcHRpb25zIiwiaXNJRTgiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJ0ZXh0U2hhZG93IiwiY3VlRGl2IiwidGV4dCIsInN0eWxlcyIsInRvcCIsImJvdHRvbSIsImRpc3BsYXkiLCJ3cml0aW5nTW9kZSIsInVuaWNvZGVCaWRpIiwiYXBwbHlTdHlsZXMiLCJkaXYiLCJ0ZXh0QWxpZ24iLCJmb250Iiwid2hpdGVTcGFjZSIsImRpcmVjdGlvbiIsIm5vZGVTdGFjayIsImNoaWxkTm9kZXMiLCJwdXNoTm9kZXMiLCJuZXh0VGV4dE5vZGUiLCJ0ZXh0Q29udGVudCIsImlubmVyVGV4dCIsImNoYXJDb2RlQXQiLCJkZXRlcm1pbmVCaWRpIiwic3R5bGVzdW5pY29kZUJpZGkiLCJ0ZXh0UG9zIiwiZm9ybWF0U3R5bGUiLCJ3aWR0aCIsImhlaWdodCIsIm1vdmUiLCJib3giLCJCb3hQb3NpdGlvbiIsIm9iaiIsIm9mZnNldEhlaWdodCIsIm9mZnNldFdpZHRoIiwib2Zmc2V0VG9wIiwicmVjdHMiLCJnZXRDbGllbnRSZWN0cyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImxpbmVIZWlnaHQiLCJtb3ZlQm94VG9MaW5lUG9zaXRpb24iLCJzdHlsZUJveCIsImNvbnRhaW5lckJveCIsImJveFBvc2l0aW9ucyIsImJveFBvc2l0aW9uIiwibGluZVBvcyIsInRyYWNrIiwidGV4dFRyYWNrTGlzdCIsIm1lZGlhRWxlbWVudCIsInRyYWNrTGlzdCIsImNvbXB1dGVMaW5lUG9zIiwiYXhpcyIsInN0ZXAiLCJyb3VuZCIsIm1heFBvc2l0aW9uIiwiaW5pdGlhbEF4aXMiLCJhYnMiLCJjZWlsIiwicmV2ZXJzZSIsImNhbGN1bGF0ZWRQZXJjZW50YWdlIiwiYmVzdFBvc2l0aW9uIiwic3BlY2lmaWVkUG9zaXRpb24iLCJwZXJjZW50YWdlIiwib3ZlcmxhcHNPcHBvc2l0ZUF4aXMiLCJ3aXRoaW4iLCJvdmVybGFwc0FueSIsImludGVyc2VjdFBlcmNlbnRhZ2UiLCJmaW5kQmVzdFBvc2l0aW9uIiwidG9DU1NDb21wYXRWYWx1ZXMiLCJwcm9wIiwic3R5bGUiLCJ2YWwiLCJ1bml0IiwidG9Nb3ZlIiwib3ZlcmxhcHMiLCJib3hlcyIsImNvbnRhaW5lciIsInJlZmVyZW5jZSIsImdldFNpbXBsZUJveFBvc2l0aW9uIiwiU3RyaW5nRGVjb2RlciIsImRlY29kZSIsImRlY29kZVVSSUNvbXBvbmVudCIsImVuY29kZVVSSUNvbXBvbmVudCIsImNvbnZlcnRDdWVUb0RPTVRyZWUiLCJjdWV0ZXh0IiwicHJvY2Vzc0N1ZXMiLCJjdWVzIiwib3ZlcmxheSIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsInBhZGRlZE92ZXJsYXkiLCJtYXJnaW4iLCJoYXNCZWVuUmVzZXQiLCJkaXNwbGF5U3RhdGUiLCJzaG91bGRDb21wdXRlIiwiUGFyc2VyIiwiZGVjb2RlciIsInN0YXRlIiwiYnVmZmVyIiwiVGV4dERlY29kZXIiLCJyZXBvcnRPclRocm93RXJyb3IiLCJvbnBhcnNpbmdlcnJvciIsInBhcnNlIiwic2VsZiIsImNvbGxlY3ROZXh0TGluZSIsInBvcyIsInBhcnNlSGVhZGVyIiwieHkiLCJhbmNob3IiLCJsaW5lcyIsInJlZ2lvbkFuY2hvclgiLCJyZWdpb25BbmNob3JZIiwidmlld3BvcnRBbmNob3JYIiwidmlld3BvcnRBbmNob3JZIiwic2Nyb2xsIiwib25yZWdpb24iLCJwYXJzZVJlZ2lvbiIsInN0cmVhbSIsImFscmVhZHlDb2xsZWN0ZWRMaW5lIiwiaW5kZXhPZiIsImhhc1N1YnN0cmluZyIsIm9uY3VlIiwiZmx1c2giLCJvbmZsdXNoIiwicm9vdCIsInRvSlNPTiIsImtleXMiLCJvcHRpb25zIiwiZnJvbUpTT04iLCJqc29uIiwiSlNPTiIsImF1dG9LZXl3b3JkIiwiZGlyZWN0aW9uU2V0dGluZyIsImFsaWduU2V0dGluZyIsImZpbmRBbGlnblNldHRpbmciLCJ0b0xvd2VyQ2FzZSIsImV4dGVuZCIsImNvYmoiLCJiYXNlT2JqIiwiX2lkIiwiX3BhdXNlT25FeGl0IiwiX3N0YXJ0VGltZSIsIl9lbmRUaW1lIiwiX3RleHQiLCJfcmVnaW9uIiwiX3ZlcnRpY2FsIiwiX3NuYXBUb0xpbmVzIiwiX2xpbmUiLCJfbGluZUFsaWduIiwiX3Bvc2l0aW9uIiwiX3Bvc2l0aW9uQWxpZ24iLCJfc2l6ZSIsIl9hbGlnbiIsIlR5cGVFcnJvciIsInNldHRpbmciLCJmaW5kRGlyZWN0aW9uU2V0dGluZyIsIlN5bnRheEVycm9yIiwiZ2V0Q3VlQXNIVE1MIiwic2Nyb2xsU2V0dGluZyIsImlzVmFsaWRQZXJjZW50VmFsdWUiLCJfd2lkdGgiLCJfbGluZXMiLCJfcmVnaW9uQW5jaG9yWCIsIl9yZWdpb25BbmNob3JZIiwiX3ZpZXdwb3J0QW5jaG9yWCIsIl92aWV3cG9ydEFuY2hvclkiLCJfc2Nyb2xsIiwiZGVmaW5lUHJvcGVydGllcyIsImZpbmRTY3JvbGxTZXR0aW5nIiwiRmF2aWNvbiIsImZhdmljb24iLCJleGlzdGluZ0Zhdmljb24iLCJnZXRFeGlzdGluZ0Zhdmljb24iLCJvcmlnaW5hbEhyZWYiLCJocmVmIiwicXVlcnlTZWxlY3RvciIsImxpbmsiLCJyZWwiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInVybCIsInVwZGF0ZSIsInNpemVfIiwic2l6ZXMiLCJDYW52YXMiLCJjYW52YXMiLCJjdHhfIiwiZ2V0Q29udGV4dCIsIkZhdmlkZW8iLCJmYXZpY29uU2l6ZSIsImZhdmljb25DYW52YXMiLCJ2aWRlb0V2ZW50TGlzdGVuZXJzIiwiZW5hYmxlIiwiZnJhbWVVcmwiLCJnZXRGYXZpY29uRnJhbWUiLCJjdHgiLCJyZWdpc3RlclVwZGF0ZUV2ZW50IiwidW5yZWdpc3RlclZpZGVvRXZlbnRzIiwiZGlzYWJsZSIsImV2ZW50IiwiZnVuYyIsInZpZGVvIiwiYWRkRXZlbnRMaXN0ZW5lciIsInZlbCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJGYXZpZGVvTW9kZSIsImZwcyIsImZhdmlkZW8iLCJyZWdpc3RlclZpZGVvRXZlbnQiLCJsb2FkZWRtZXRhZGF0YUhhbmRsZXIiLCJyZXN0b3JlT3JpZ2luYWxGYXZpY29uIiwiaW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsInJlc3RvcmVEZWZhdWx0IiwiY2FudmFzV2lkdGgiLCJjYW52YXNIZWlnaHQiLCJjbGVhclRpbWVvdXQiLCJWaWRlb01vZGUiLCJyZXNwZWN0QXNwZWN0UmF0aW8iLCJ2aWRlb0luQ2FudmFzU2V0dGluZ3MiLCJkeCIsImR5IiwiZFdpZHRoIiwiZEhlaWdodCIsImNhbnZhc0N0eCIsImRyYXdJbWFnZSIsImdldFNvdXJjZSIsInRvRGF0YVVSTCIsImZsIiwiYXZfaCIsIm9mZnNldCIsInZpZGVvRml0Iiwidl93IiwidmlkZW9XaWR0aCIsInZfaCIsInZpZGVvSGVpZ2h0IiwiZ2V0VmlkZW9JbkZhdmljb25GaXQiLCJjYWxjdWxhdGVBbmRTZXRWaWRlb0luQ2FudmFzUHJvZmlsZSIsInJlcXVpcmUiLCJDb2xvciIsImltYWdlRGF0YSIsImdldEltYWdlRGF0YSIsInRvdGFsUmdiYSIsIm5iT2ZQaXhlbHMiLCJhdmdSZ2JhIiwiZ2V0UmdiYUNzc1N0cmluZyIsImltZ0RhdGEiLCJwaXhlbENvdW50IiwicGl4ZWxBcnJheSIsImNyZWF0ZVBpeGVsQXJyYXkiLCJnZXRSZ2JhQ3NzU3RyaW5nQnlBcnJheSIsInJnYmEiLCJhcnIiLCJQbGF5SWNvbk1vZGUiLCJjb2xvclR5cGUiLCJjYW52YXMyIiwiY2FudmFzQ3R4MiIsInBpeGVsQ29sb3IiLCJnZXRDb2xvciIsImNsZWFyUmVjdCIsImRyYXdPYmplY3QiLCJnZXRBdmVyYWdlQ29sb3IiLCJnZXREb21pbmFudENvbG9yIiwiZHJhd1BsYXlPYmplY3QiLCJmaWxsU3R5bGUiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJmaWxsIiwiUmVjb2xvck1vZGUiLCJpbWciLCJuYXR1cmFsV2lkdGgiLCJjb250ZXh0IiwiZmF2aWNvbkNhbnZhc0N0eCIsInNyYyIsInNldEZhdmljb24iLCJnbG9iYWxDb21wb3NpdGVPcGVyYXRpb24iLCJmaWxsUmVjdCIsIlZpZGVvSW5wdXQiLCJXZWJWVFRJbnB1dCIsIndlYlZUVFVybCIsInBhcnNlV2ViVlRUIiwid2ViVlRUVVJMIiwidnR0anMiLCJwYXJzZXIiLCJ4aHR0cCIsIlhNTEh0dHBSZXF1ZXN0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsImJvZHkiLCJyZXNwb25zZVRleHQiLCJvcGVuIiwic2VuZCJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUXJCLEVBQW9CcUIsSUFDL0IsRUFBUEUsRUFBVSxPQUFPRixFQUNwQixHQUFXLEVBQVBFLEdBQThCLGlCQUFWRixHQUFzQkEsR0FBU0EsRUFBTUcsV0FB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eEUsQ0FBQyxLQUFPLE1BQVEsQ0FBQyxLQUFPLE1BQVEsQ0FBQyxLQUFPLE1BQVEsQ0FBQyxLQUFPLE1BQVEsQ0FBQyxLQUFPLE1BQ3hFLENBQUMsS0FBTyxNQUFRLENBQUMsS0FBTyxNQUFRLENBQUMsS0FBTyxNQUFRLENBQUMsS0FBTyxNQUFRLENBQUMsS0FBTyxNQUN4RSxDQUFDLEtBQU8sTUFBUSxDQUFDLEtBQU8sTUFBUSxDQUFDLEtBQU8sTUFBUSxDQUFDLEtBQU8sTUFBUSxDQUFDLEtBQU8sTUFDeEUsQ0FBQyxLQUFPLE1BQVEsQ0FBQyxLQUFPLE1BQVEsQ0FBQyxLQUFPLE1BQVEsQ0FBQyxLQUFRLE1BQ3pELENBQUMsTUFBUSxPQUFTLENBQUMsTUFBUSxPQUFTLENBQUMsTUFBUSxPQUFTLENBQUMsTUFBUSxPQUMvRCxDQUFDLE1BQVEsT0FBUyxDQUFDLE1BQVEsT0FBUyxDQUFDLE1BQVEsT0FBUyxDQUFDLE1BQVEsT0FDL0QsQ0FBQyxNQUFRLE9BQVMsQ0FBQyxNQUFRLE9BQVMsQ0FBQyxNQUFRLE9BQVMsQ0FBQyxNQUFRLE9BQy9ELENBQUMsTUFBUSxPQUFTLENBQUMsTUFBUSxPQUFTLENBQUMsTUFBUyxPQUFVLENBQUMsTUFBUyxPQUNsRSxDQUFDLE1BQVMsT0FBVSxDQUFDLE1BQVMsT0FBVSxDQUFDLE1BQVMsT0FBVSxDQUFDLE1BQVMsT0FDdEUsQ0FBQyxNQUFTLE9BQVUsQ0FBQyxNQUFTLE9BQVUsQ0FBQyxNQUFTLE9BQVUsQ0FBQyxNQUFTLE9BQ3RFLENBQUMsTUFBUyxPQUFVLENBQUMsTUFBUyxPQUFVLENBQUMsTUFBUyxPQUFVLENBQUMsTUFBUyxPQUN0RSxDQUFDLE1BQVMsT0FBVSxDQUFDLE1BQVMsT0FBVSxDQUFDLE1BQVMsT0FBVSxDQUFDLE1BQVMsT0FDdEUsQ0FBQyxNQUFTLE9BQVUsQ0FBQyxNQUFTLE9BQVUsQ0FBQyxNQUFTLE9BQVUsQ0FBQyxNQUFTLE9BQ3RFLENBQUMsTUFBUyxPQUFVLENBQUMsTUFBUyxPQUFVLENBQUMsT0FBUyxRQUFVLENBQUMsT0FBUyxRQUN0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R0FBaUNmLEdDS2pDdFQsT0FBTzROLFFBQVVBLEVBQ2pCNU4sT0FBT3lQLFVBQVlBLEVBQ25CelAsT0FBTzZSLGFBQWVBLEVBQ3RCN1IsT0FBTzZTLFlBQWNBLEVBQ3JCN1MsT0FBT3NULFdBQWFBLEVBQ3BCdFQsT0FBT3VULFlBQWNBIiwiZmlsZSI6ImZhdmljb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNyk7XG4iLCIvKlxuICogcXVhbnRpemUuanMgQ29weXJpZ2h0IDIwMDggTmljayBSYWJpbm93aXR6XG4gKiBQb3J0ZWQgdG8gbm9kZS5qcyBieSBPbGl2aWVyIExlc25pY2tpXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2U6IGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gKi9cblxuLy8gZmlsbCBvdXQgYSBjb3VwbGUgcHJvdG92aXMgZGVwZW5kZW5jaWVzXG4vKlxuICogQmxvY2sgYmVsb3cgY29waWVkIGZyb20gUHJvdG92aXM6IGh0dHA6Ly9tYm9zdG9jay5naXRodWIuY29tL3Byb3RvdmlzL1xuICogQ29weXJpZ2h0IDIwMTAgU3RhbmZvcmQgVmlzdWFsaXphdGlvbiBHcm91cFxuICogTGljZW5zZWQgdW5kZXIgdGhlIEJTRCBMaWNlbnNlOiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL2JzZC1saWNlbnNlLnBocFxuICovXG5pZiAoIXB2KSB7XG4gICAgdmFyIHB2ID0ge1xuICAgICAgICBtYXA6IGZ1bmN0aW9uKGFycmF5LCBmKSB7XG4gICAgICAgICAgICB2YXIgbyA9IHt9O1xuICAgICAgICAgICAgcmV0dXJuIGYgPyBhcnJheS5tYXAoZnVuY3Rpb24oZCwgaSkge1xuICAgICAgICAgICAgICAgIG8uaW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmLmNhbGwobywgZCk7XG4gICAgICAgICAgICB9KSA6IGFycmF5LnNsaWNlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIG5hdHVyYWxPcmRlcjogZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIChhIDwgYikgPyAtMSA6ICgoYSA+IGIpID8gMSA6IDApO1xuICAgICAgICB9LFxuICAgICAgICBzdW06IGZ1bmN0aW9uKGFycmF5LCBmKSB7XG4gICAgICAgICAgICB2YXIgbyA9IHt9O1xuICAgICAgICAgICAgcmV0dXJuIGFycmF5LnJlZHVjZShmID8gZnVuY3Rpb24ocCwgZCwgaSkge1xuICAgICAgICAgICAgICAgIG8uaW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIHJldHVybiBwICsgZi5jYWxsKG8sIGQpO1xuICAgICAgICAgICAgfSA6IGZ1bmN0aW9uKHAsIGQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcCArIGQ7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfSxcbiAgICAgICAgbWF4OiBmdW5jdGlvbihhcnJheSwgZikge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4LmFwcGx5KG51bGwsIGYgPyBwdi5tYXAoYXJyYXksIGYpIDogYXJyYXkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEJhc2ljIEphdmFzY3JpcHQgcG9ydCBvZiB0aGUgTU1DUSAobW9kaWZpZWQgbWVkaWFuIGN1dCBxdWFudGl6YXRpb24pXG4gKiBhbGdvcml0aG0gZnJvbSB0aGUgTGVwdG9uaWNhIGxpYnJhcnkgKGh0dHA6Ly93d3cubGVwdG9uaWNhLmNvbS8pLlxuICogUmV0dXJucyBhIGNvbG9yIG1hcCB5b3UgY2FuIHVzZSB0byBtYXAgb3JpZ2luYWwgcGl4ZWxzIHRvIHRoZSByZWR1Y2VkXG4gKiBwYWxldHRlLiBTdGlsbCBhIHdvcmsgaW4gcHJvZ3Jlc3MuXG4gKiBcbiAqIEBhdXRob3IgTmljayBSYWJpbm93aXR6XG4gKiBAZXhhbXBsZVxuIFxuLy8gYXJyYXkgb2YgcGl4ZWxzIGFzIFtSLEcsQl0gYXJyYXlzXG52YXIgbXlQaXhlbHMgPSBbWzE5MCwxOTcsMTkwXSwgWzIwMiwyMDQsMjAwXSwgWzIwNywyMTQsMjEwXSwgWzIxMSwyMTQsMjExXSwgWzIwNSwyMDcsMjA3XVxuICAgICAgICAgICAgICAgIC8vIGV0Y1xuICAgICAgICAgICAgICAgIF07XG52YXIgbWF4Q29sb3JzID0gNDtcbiBcbnZhciBjbWFwID0gTU1DUS5xdWFudGl6ZShteVBpeGVscywgbWF4Q29sb3JzKTtcbnZhciBuZXdQYWxldHRlID0gY21hcC5wYWxldHRlKCk7XG52YXIgbmV3UGl4ZWxzID0gbXlQaXhlbHMubWFwKGZ1bmN0aW9uKHApIHsgXG4gICAgcmV0dXJuIGNtYXAubWFwKHApOyBcbn0pO1xuIFxuICovXG52YXIgTU1DUSA9IChmdW5jdGlvbigpIHtcbiAgICAvLyBwcml2YXRlIGNvbnN0YW50c1xuICAgIHZhciBzaWdiaXRzID0gNSxcbiAgICAgICAgcnNoaWZ0ID0gOCAtIHNpZ2JpdHMsXG4gICAgICAgIG1heEl0ZXJhdGlvbnMgPSAxMDAwLFxuICAgICAgICBmcmFjdEJ5UG9wdWxhdGlvbnMgPSAwLjc1O1xuXG4gICAgLy8gZ2V0IHJlZHVjZWQtc3BhY2UgY29sb3IgaW5kZXggZm9yIGEgcGl4ZWxcblxuICAgIGZ1bmN0aW9uIGdldENvbG9ySW5kZXgociwgZywgYikge1xuICAgICAgICByZXR1cm4gKHIgPDwgKDIgKiBzaWdiaXRzKSkgKyAoZyA8PCBzaWdiaXRzKSArIGI7XG4gICAgfVxuXG4gICAgLy8gU2ltcGxlIHByaW9yaXR5IHF1ZXVlXG5cbiAgICBmdW5jdGlvbiBQUXVldWUoY29tcGFyYXRvcikge1xuICAgICAgICB2YXIgY29udGVudHMgPSBbXSxcbiAgICAgICAgICAgIHNvcnRlZCA9IGZhbHNlO1xuXG4gICAgICAgIGZ1bmN0aW9uIHNvcnQoKSB7XG4gICAgICAgICAgICBjb250ZW50cy5zb3J0KGNvbXBhcmF0b3IpO1xuICAgICAgICAgICAgc29ydGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwdXNoOiBmdW5jdGlvbihvKSB7XG4gICAgICAgICAgICAgICAgY29udGVudHMucHVzaChvKTtcbiAgICAgICAgICAgICAgICBzb3J0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwZWVrOiBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICAgICAgICAgIGlmICghc29ydGVkKSBzb3J0KCk7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSB1bmRlZmluZWQpIGluZGV4ID0gY29udGVudHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGVudHNbaW5kZXhdO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBvcDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzb3J0ZWQpIHNvcnQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGVudHMucG9wKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2l6ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtYXA6IGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGVudHMubWFwKGYpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlYnVnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNvcnRlZCkgc29ydCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb250ZW50cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyAzZCBjb2xvciBzcGFjZSBib3hcblxuICAgIGZ1bmN0aW9uIFZCb3gocjEsIHIyLCBnMSwgZzIsIGIxLCBiMiwgaGlzdG8pIHtcbiAgICAgICAgdmFyIHZib3ggPSB0aGlzO1xuICAgICAgICB2Ym94LnIxID0gcjE7XG4gICAgICAgIHZib3gucjIgPSByMjtcbiAgICAgICAgdmJveC5nMSA9IGcxO1xuICAgICAgICB2Ym94LmcyID0gZzI7XG4gICAgICAgIHZib3guYjEgPSBiMTtcbiAgICAgICAgdmJveC5iMiA9IGIyO1xuICAgICAgICB2Ym94Lmhpc3RvID0gaGlzdG87XG4gICAgfVxuICAgIFZCb3gucHJvdG90eXBlID0ge1xuICAgICAgICB2b2x1bWU6IGZ1bmN0aW9uKGZvcmNlKSB7XG4gICAgICAgICAgICB2YXIgdmJveCA9IHRoaXM7XG4gICAgICAgICAgICBpZiAoIXZib3guX3ZvbHVtZSB8fCBmb3JjZSkge1xuICAgICAgICAgICAgICAgIHZib3guX3ZvbHVtZSA9ICgodmJveC5yMiAtIHZib3gucjEgKyAxKSAqICh2Ym94LmcyIC0gdmJveC5nMSArIDEpICogKHZib3guYjIgLSB2Ym94LmIxICsgMSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZib3guX3ZvbHVtZTtcbiAgICAgICAgfSxcbiAgICAgICAgY291bnQ6IGZ1bmN0aW9uKGZvcmNlKSB7XG4gICAgICAgICAgICB2YXIgdmJveCA9IHRoaXMsXG4gICAgICAgICAgICAgICAgaGlzdG8gPSB2Ym94Lmhpc3RvO1xuICAgICAgICAgICAgaWYgKCF2Ym94Ll9jb3VudF9zZXQgfHwgZm9yY2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgbnBpeCA9IDAsXG4gICAgICAgICAgICAgICAgICAgIGksIGosIGssIGluZGV4O1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IHZib3gucjE7IGkgPD0gdmJveC5yMjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IHZib3guZzE7IGogPD0gdmJveC5nMjsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGsgPSB2Ym94LmIxOyBrIDw9IHZib3guYjI7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gZ2V0Q29sb3JJbmRleChpLCBqLCBrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBucGl4ICs9IChoaXN0b1tpbmRleF0gfHwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmJveC5fY291bnQgPSBucGl4O1xuICAgICAgICAgICAgICAgIHZib3guX2NvdW50X3NldCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmJveC5fY291bnQ7XG4gICAgICAgIH0sXG4gICAgICAgIGNvcHk6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHZib3ggPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBWQm94KHZib3gucjEsIHZib3gucjIsIHZib3guZzEsIHZib3guZzIsIHZib3guYjEsIHZib3guYjIsIHZib3guaGlzdG8pO1xuICAgICAgICB9LFxuICAgICAgICBhdmc6IGZ1bmN0aW9uKGZvcmNlKSB7XG4gICAgICAgICAgICB2YXIgdmJveCA9IHRoaXMsXG4gICAgICAgICAgICAgICAgaGlzdG8gPSB2Ym94Lmhpc3RvO1xuICAgICAgICAgICAgaWYgKCF2Ym94Ll9hdmcgfHwgZm9yY2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgbnRvdCA9IDAsXG4gICAgICAgICAgICAgICAgICAgIG11bHQgPSAxIDw8ICg4IC0gc2lnYml0cyksXG4gICAgICAgICAgICAgICAgICAgIHJzdW0gPSAwLFxuICAgICAgICAgICAgICAgICAgICBnc3VtID0gMCxcbiAgICAgICAgICAgICAgICAgICAgYnN1bSA9IDAsXG4gICAgICAgICAgICAgICAgICAgIGh2YWwsXG4gICAgICAgICAgICAgICAgICAgIGksIGosIGssIGhpc3RvaW5kZXg7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gdmJveC5yMTsgaSA8PSB2Ym94LnIyOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gdmJveC5nMTsgaiA8PSB2Ym94LmcyOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoayA9IHZib3guYjE7IGsgPD0gdmJveC5iMjsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlzdG9pbmRleCA9IGdldENvbG9ySW5kZXgoaSwgaiwgayk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHZhbCA9IGhpc3RvW2hpc3RvaW5kZXhdIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbnRvdCArPSBodmFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJzdW0gKz0gKGh2YWwgKiAoaSArIDAuNSkgKiBtdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnc3VtICs9IChodmFsICogKGogKyAwLjUpICogbXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnN1bSArPSAoaHZhbCAqIChrICsgMC41KSAqIG11bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChudG90KSB7XG4gICAgICAgICAgICAgICAgICAgIHZib3guX2F2ZyA9IFt+fihyc3VtIC8gbnRvdCksIH5+IChnc3VtIC8gbnRvdCksIH5+IChic3VtIC8gbnRvdCldO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2VtcHR5IGJveCcpO1xuICAgICAgICAgICAgICAgICAgICB2Ym94Ll9hdmcgPSBbfn4obXVsdCAqICh2Ym94LnIxICsgdmJveC5yMiArIDEpIC8gMiksIH5+IChtdWx0ICogKHZib3guZzEgKyB2Ym94LmcyICsgMSkgLyAyKSwgfn4gKG11bHQgKiAodmJveC5iMSArIHZib3guYjIgKyAxKSAvIDIpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmJveC5fYXZnO1xuICAgICAgICB9LFxuICAgICAgICBjb250YWluczogZnVuY3Rpb24ocGl4ZWwpIHtcbiAgICAgICAgICAgIHZhciB2Ym94ID0gdGhpcyxcbiAgICAgICAgICAgICAgICBydmFsID0gcGl4ZWxbMF0gPj4gcnNoaWZ0O1xuICAgICAgICAgICAgZ3ZhbCA9IHBpeGVsWzFdID4+IHJzaGlmdDtcbiAgICAgICAgICAgIGJ2YWwgPSBwaXhlbFsyXSA+PiByc2hpZnQ7XG4gICAgICAgICAgICByZXR1cm4gKHJ2YWwgPj0gdmJveC5yMSAmJiBydmFsIDw9IHZib3gucjIgJiZcbiAgICAgICAgICAgICAgICBndmFsID49IHZib3guZzEgJiYgZ3ZhbCA8PSB2Ym94LmcyICYmXG4gICAgICAgICAgICAgICAgYnZhbCA+PSB2Ym94LmIxICYmIGJ2YWwgPD0gdmJveC5iMik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gQ29sb3IgbWFwXG5cbiAgICBmdW5jdGlvbiBDTWFwKCkge1xuICAgICAgICB0aGlzLnZib3hlcyA9IG5ldyBQUXVldWUoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIHB2Lm5hdHVyYWxPcmRlcihcbiAgICAgICAgICAgICAgICBhLnZib3guY291bnQoKSAqIGEudmJveC52b2x1bWUoKSxcbiAgICAgICAgICAgICAgICBiLnZib3guY291bnQoKSAqIGIudmJveC52b2x1bWUoKVxuICAgICAgICAgICAgKVxuICAgICAgICB9KTs7XG4gICAgfVxuICAgIENNYXAucHJvdG90eXBlID0ge1xuICAgICAgICBwdXNoOiBmdW5jdGlvbih2Ym94KSB7XG4gICAgICAgICAgICB0aGlzLnZib3hlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICB2Ym94OiB2Ym94LFxuICAgICAgICAgICAgICAgIGNvbG9yOiB2Ym94LmF2ZygpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgcGFsZXR0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52Ym94ZXMubWFwKGZ1bmN0aW9uKHZiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZiLmNvbG9yXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2l6ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52Ym94ZXMuc2l6ZSgpO1xuICAgICAgICB9LFxuICAgICAgICBtYXA6IGZ1bmN0aW9uKGNvbG9yKSB7XG4gICAgICAgICAgICB2YXIgdmJveGVzID0gdGhpcy52Ym94ZXM7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZib3hlcy5zaXplKCk7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICh2Ym94ZXMucGVlayhpKS52Ym94LmNvbnRhaW5zKGNvbG9yKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmJveGVzLnBlZWsoaSkuY29sb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubmVhcmVzdChjb2xvcik7XG4gICAgICAgIH0sXG4gICAgICAgIG5lYXJlc3Q6IGZ1bmN0aW9uKGNvbG9yKSB7XG4gICAgICAgICAgICB2YXIgdmJveGVzID0gdGhpcy52Ym94ZXMsXG4gICAgICAgICAgICAgICAgZDEsIGQyLCBwQ29sb3I7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZib3hlcy5zaXplKCk7IGkrKykge1xuICAgICAgICAgICAgICAgIGQyID0gTWF0aC5zcXJ0KFxuICAgICAgICAgICAgICAgICAgICBNYXRoLnBvdyhjb2xvclswXSAtIHZib3hlcy5wZWVrKGkpLmNvbG9yWzBdLCAyKSArXG4gICAgICAgICAgICAgICAgICAgIE1hdGgucG93KGNvbG9yWzFdIC0gdmJveGVzLnBlZWsoaSkuY29sb3JbMV0sIDIpICtcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5wb3coY29sb3JbMl0gLSB2Ym94ZXMucGVlayhpKS5jb2xvclsyXSwgMilcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGlmIChkMiA8IGQxIHx8IGQxID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZDEgPSBkMjtcbiAgICAgICAgICAgICAgICAgICAgcENvbG9yID0gdmJveGVzLnBlZWsoaSkuY29sb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHBDb2xvcjtcbiAgICAgICAgfSxcbiAgICAgICAgZm9yY2VidzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBYWFg6IHdvbid0ICB3b3JrIHlldFxuICAgICAgICAgICAgdmFyIHZib3hlcyA9IHRoaXMudmJveGVzO1xuICAgICAgICAgICAgdmJveGVzLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBwdi5uYXR1cmFsT3JkZXIocHYuc3VtKGEuY29sb3IpLCBwdi5zdW0oYi5jb2xvcikpXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gZm9yY2UgZGFya2VzdCBjb2xvciB0byBibGFjayBpZiBldmVyeXRoaW5nIDwgNVxuICAgICAgICAgICAgdmFyIGxvd2VzdCA9IHZib3hlc1swXS5jb2xvcjtcbiAgICAgICAgICAgIGlmIChsb3dlc3RbMF0gPCA1ICYmIGxvd2VzdFsxXSA8IDUgJiYgbG93ZXN0WzJdIDwgNSlcbiAgICAgICAgICAgICAgICB2Ym94ZXNbMF0uY29sb3IgPSBbMCwgMCwgMF07XG5cbiAgICAgICAgICAgIC8vIGZvcmNlIGxpZ2h0ZXN0IGNvbG9yIHRvIHdoaXRlIGlmIGV2ZXJ5dGhpbmcgPiAyNTFcbiAgICAgICAgICAgIHZhciBpZHggPSB2Ym94ZXMubGVuZ3RoIC0gMSxcbiAgICAgICAgICAgICAgICBoaWdoZXN0ID0gdmJveGVzW2lkeF0uY29sb3I7XG4gICAgICAgICAgICBpZiAoaGlnaGVzdFswXSA+IDI1MSAmJiBoaWdoZXN0WzFdID4gMjUxICYmIGhpZ2hlc3RbMl0gPiAyNTEpXG4gICAgICAgICAgICAgICAgdmJveGVzW2lkeF0uY29sb3IgPSBbMjU1LCAyNTUsIDI1NV07XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gaGlzdG8gKDEtZCBhcnJheSwgZ2l2aW5nIHRoZSBudW1iZXIgb2YgcGl4ZWxzIGluXG4gICAgLy8gZWFjaCBxdWFudGl6ZWQgcmVnaW9uIG9mIGNvbG9yIHNwYWNlKSwgb3IgbnVsbCBvbiBlcnJvclxuXG4gICAgZnVuY3Rpb24gZ2V0SGlzdG8ocGl4ZWxzKSB7XG4gICAgICAgIHZhciBoaXN0b3NpemUgPSAxIDw8ICgzICogc2lnYml0cyksXG4gICAgICAgICAgICBoaXN0byA9IG5ldyBBcnJheShoaXN0b3NpemUpLFxuICAgICAgICAgICAgaW5kZXgsIHJ2YWwsIGd2YWwsIGJ2YWw7XG4gICAgICAgIHBpeGVscy5mb3JFYWNoKGZ1bmN0aW9uKHBpeGVsKSB7XG4gICAgICAgICAgICBydmFsID0gcGl4ZWxbMF0gPj4gcnNoaWZ0O1xuICAgICAgICAgICAgZ3ZhbCA9IHBpeGVsWzFdID4+IHJzaGlmdDtcbiAgICAgICAgICAgIGJ2YWwgPSBwaXhlbFsyXSA+PiByc2hpZnQ7XG4gICAgICAgICAgICBpbmRleCA9IGdldENvbG9ySW5kZXgocnZhbCwgZ3ZhbCwgYnZhbCk7XG4gICAgICAgICAgICBoaXN0b1tpbmRleF0gPSAoaGlzdG9baW5kZXhdIHx8IDApICsgMTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBoaXN0bztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2Ym94RnJvbVBpeGVscyhwaXhlbHMsIGhpc3RvKSB7XG4gICAgICAgIHZhciBybWluID0gMTAwMDAwMCxcbiAgICAgICAgICAgIHJtYXggPSAwLFxuICAgICAgICAgICAgZ21pbiA9IDEwMDAwMDAsXG4gICAgICAgICAgICBnbWF4ID0gMCxcbiAgICAgICAgICAgIGJtaW4gPSAxMDAwMDAwLFxuICAgICAgICAgICAgYm1heCA9IDAsXG4gICAgICAgICAgICBydmFsLCBndmFsLCBidmFsO1xuICAgICAgICAvLyBmaW5kIG1pbi9tYXhcbiAgICAgICAgcGl4ZWxzLmZvckVhY2goZnVuY3Rpb24ocGl4ZWwpIHtcbiAgICAgICAgICAgIHJ2YWwgPSBwaXhlbFswXSA+PiByc2hpZnQ7XG4gICAgICAgICAgICBndmFsID0gcGl4ZWxbMV0gPj4gcnNoaWZ0O1xuICAgICAgICAgICAgYnZhbCA9IHBpeGVsWzJdID4+IHJzaGlmdDtcbiAgICAgICAgICAgIGlmIChydmFsIDwgcm1pbikgcm1pbiA9IHJ2YWw7XG4gICAgICAgICAgICBlbHNlIGlmIChydmFsID4gcm1heCkgcm1heCA9IHJ2YWw7XG4gICAgICAgICAgICBpZiAoZ3ZhbCA8IGdtaW4pIGdtaW4gPSBndmFsO1xuICAgICAgICAgICAgZWxzZSBpZiAoZ3ZhbCA+IGdtYXgpIGdtYXggPSBndmFsO1xuICAgICAgICAgICAgaWYgKGJ2YWwgPCBibWluKSBibWluID0gYnZhbDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGJ2YWwgPiBibWF4KSBibWF4ID0gYnZhbDtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXcgVkJveChybWluLCBybWF4LCBnbWluLCBnbWF4LCBibWluLCBibWF4LCBoaXN0byk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWVkaWFuQ3V0QXBwbHkoaGlzdG8sIHZib3gpIHtcbiAgICAgICAgaWYgKCF2Ym94LmNvdW50KCkpIHJldHVybjtcblxuICAgICAgICB2YXIgcncgPSB2Ym94LnIyIC0gdmJveC5yMSArIDEsXG4gICAgICAgICAgICBndyA9IHZib3guZzIgLSB2Ym94LmcxICsgMSxcbiAgICAgICAgICAgIGJ3ID0gdmJveC5iMiAtIHZib3guYjEgKyAxLFxuICAgICAgICAgICAgbWF4dyA9IHB2Lm1heChbcncsIGd3LCBid10pO1xuICAgICAgICAvLyBvbmx5IG9uZSBwaXhlbCwgbm8gc3BsaXRcbiAgICAgICAgaWYgKHZib3guY291bnQoKSA9PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gW3Zib3guY29weSgpXVxuICAgICAgICB9XG4gICAgICAgIC8qIEZpbmQgdGhlIHBhcnRpYWwgc3VtIGFycmF5cyBhbG9uZyB0aGUgc2VsZWN0ZWQgYXhpcy4gKi9cbiAgICAgICAgdmFyIHRvdGFsID0gMCxcbiAgICAgICAgICAgIHBhcnRpYWxzdW0gPSBbXSxcbiAgICAgICAgICAgIGxvb2thaGVhZHN1bSA9IFtdLFxuICAgICAgICAgICAgaSwgaiwgaywgc3VtLCBpbmRleDtcbiAgICAgICAgaWYgKG1heHcgPT0gcncpIHtcbiAgICAgICAgICAgIGZvciAoaSA9IHZib3gucjE7IGkgPD0gdmJveC5yMjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgc3VtID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKGogPSB2Ym94LmcxOyBqIDw9IHZib3guZzI7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGsgPSB2Ym94LmIxOyBrIDw9IHZib3guYjI7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBnZXRDb2xvckluZGV4KGksIGosIGspO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VtICs9IChoaXN0b1tpbmRleF0gfHwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdG90YWwgKz0gc3VtO1xuICAgICAgICAgICAgICAgIHBhcnRpYWxzdW1baV0gPSB0b3RhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChtYXh3ID09IGd3KSB7XG4gICAgICAgICAgICBmb3IgKGkgPSB2Ym94LmcxOyBpIDw9IHZib3guZzI7IGkrKykge1xuICAgICAgICAgICAgICAgIHN1bSA9IDA7XG4gICAgICAgICAgICAgICAgZm9yIChqID0gdmJveC5yMTsgaiA8PSB2Ym94LnIyOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChrID0gdmJveC5iMTsgayA8PSB2Ym94LmIyOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gZ2V0Q29sb3JJbmRleChqLCBpLCBrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1bSArPSAoaGlzdG9baW5kZXhdIHx8IDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRvdGFsICs9IHN1bTtcbiAgICAgICAgICAgICAgICBwYXJ0aWFsc3VtW2ldID0gdG90YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7IC8qIG1heHcgPT0gYncgKi9cbiAgICAgICAgICAgIGZvciAoaSA9IHZib3guYjE7IGkgPD0gdmJveC5iMjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgc3VtID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKGogPSB2Ym94LnIxOyBqIDw9IHZib3gucjI7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGsgPSB2Ym94LmcxOyBrIDw9IHZib3guZzI7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBnZXRDb2xvckluZGV4KGosIGssIGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VtICs9IChoaXN0b1tpbmRleF0gfHwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdG90YWwgKz0gc3VtO1xuICAgICAgICAgICAgICAgIHBhcnRpYWxzdW1baV0gPSB0b3RhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwYXJ0aWFsc3VtLmZvckVhY2goZnVuY3Rpb24oZCwgaSkge1xuICAgICAgICAgICAgbG9va2FoZWFkc3VtW2ldID0gdG90YWwgLSBkXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZ1bmN0aW9uIGRvQ3V0KGNvbG9yKSB7XG4gICAgICAgICAgICB2YXIgZGltMSA9IGNvbG9yICsgJzEnLFxuICAgICAgICAgICAgICAgIGRpbTIgPSBjb2xvciArICcyJyxcbiAgICAgICAgICAgICAgICBsZWZ0LCByaWdodCwgdmJveDEsIHZib3gyLCBkMiwgY291bnQyID0gMDtcbiAgICAgICAgICAgIGZvciAoaSA9IHZib3hbZGltMV07IGkgPD0gdmJveFtkaW0yXTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnRpYWxzdW1baV0gPiB0b3RhbCAvIDIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmJveDEgPSB2Ym94LmNvcHkoKTtcbiAgICAgICAgICAgICAgICAgICAgdmJveDIgPSB2Ym94LmNvcHkoKTtcbiAgICAgICAgICAgICAgICAgICAgbGVmdCA9IGkgLSB2Ym94W2RpbTFdO1xuICAgICAgICAgICAgICAgICAgICByaWdodCA9IHZib3hbZGltMl0gLSBpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGVmdCA8PSByaWdodClcbiAgICAgICAgICAgICAgICAgICAgICAgIGQyID0gTWF0aC5taW4odmJveFtkaW0yXSAtIDEsIH5+IChpICsgcmlnaHQgLyAyKSk7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgZDIgPSBNYXRoLm1heCh2Ym94W2RpbTFdLCB+fiAoaSAtIDEgLSBsZWZ0IC8gMikpO1xuICAgICAgICAgICAgICAgICAgICAvLyBhdm9pZCAwLWNvdW50IGJveGVzXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICghcGFydGlhbHN1bVtkMl0pIGQyKys7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50MiA9IGxvb2thaGVhZHN1bVtkMl07XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICghY291bnQyICYmIHBhcnRpYWxzdW1bZDIgLSAxXSkgY291bnQyID0gbG9va2FoZWFkc3VtWy0tZDJdO1xuICAgICAgICAgICAgICAgICAgICAvLyBzZXQgZGltZW5zaW9uc1xuICAgICAgICAgICAgICAgICAgICB2Ym94MVtkaW0yXSA9IGQyO1xuICAgICAgICAgICAgICAgICAgICB2Ym94MltkaW0xXSA9IHZib3gxW2RpbTJdICsgMTtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3Zib3ggY291bnRzOicsIHZib3guY291bnQoKSwgdmJveDEuY291bnQoKSwgdmJveDIuY291bnQoKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbdmJveDEsIHZib3gyXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgICAgICAvLyBkZXRlcm1pbmUgdGhlIGN1dCBwbGFuZXNcbiAgICAgICAgcmV0dXJuIG1heHcgPT0gcncgPyBkb0N1dCgncicpIDpcbiAgICAgICAgICAgIG1heHcgPT0gZ3cgPyBkb0N1dCgnZycpIDpcbiAgICAgICAgICAgIGRvQ3V0KCdiJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcXVhbnRpemUocGl4ZWxzLCBtYXhjb2xvcnMpIHtcbiAgICAgICAgLy8gc2hvcnQtY2lyY3VpdFxuICAgICAgICBpZiAoIXBpeGVscy5sZW5ndGggfHwgbWF4Y29sb3JzIDwgMiB8fCBtYXhjb2xvcnMgPiAyNTYpIHtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCd3cm9uZyBudW1iZXIgb2YgbWF4Y29sb3JzJyk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBYWFg6IGNoZWNrIGNvbG9yIGNvbnRlbnQgYW5kIGNvbnZlcnQgdG8gZ3JheXNjYWxlIGlmIGluc3VmZmljaWVudFxuXG4gICAgICAgIHZhciBoaXN0byA9IGdldEhpc3RvKHBpeGVscyksXG4gICAgICAgICAgICBoaXN0b3NpemUgPSAxIDw8ICgzICogc2lnYml0cyk7XG5cbiAgICAgICAgLy8gY2hlY2sgdGhhdCB3ZSBhcmVuJ3QgYmVsb3cgbWF4Y29sb3JzIGFscmVhZHlcbiAgICAgICAgdmFyIG5Db2xvcnMgPSAwO1xuICAgICAgICBoaXN0by5mb3JFYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbkNvbG9ycysrXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAobkNvbG9ycyA8PSBtYXhjb2xvcnMpIHtcbiAgICAgICAgICAgIC8vIFhYWDogZ2VuZXJhdGUgdGhlIG5ldyBjb2xvcnMgZnJvbSB0aGUgaGlzdG8gYW5kIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IHRoZSBiZWdpbm5pbmcgdmJveCBmcm9tIHRoZSBjb2xvcnNcbiAgICAgICAgdmFyIHZib3ggPSB2Ym94RnJvbVBpeGVscyhwaXhlbHMsIGhpc3RvKSxcbiAgICAgICAgICAgIHBxID0gbmV3IFBRdWV1ZShmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHB2Lm5hdHVyYWxPcmRlcihhLmNvdW50KCksIGIuY291bnQoKSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICBwcS5wdXNoKHZib3gpO1xuXG4gICAgICAgIC8vIGlubmVyIGZ1bmN0aW9uIHRvIGRvIHRoZSBpdGVyYXRpb25cblxuICAgICAgICBmdW5jdGlvbiBpdGVyKGxoLCB0YXJnZXQpIHtcbiAgICAgICAgICAgIHZhciBuY29sb3JzID0gMSxcbiAgICAgICAgICAgICAgICBuaXRlcnMgPSAwLFxuICAgICAgICAgICAgICAgIHZib3g7XG4gICAgICAgICAgICB3aGlsZSAobml0ZXJzIDwgbWF4SXRlcmF0aW9ucykge1xuICAgICAgICAgICAgICAgIHZib3ggPSBsaC5wb3AoKTtcbiAgICAgICAgICAgICAgICBpZiAoIXZib3guY291bnQoKSkgeyAvKiBqdXN0IHB1dCBpdCBiYWNrICovXG4gICAgICAgICAgICAgICAgICAgIGxoLnB1c2godmJveCk7XG4gICAgICAgICAgICAgICAgICAgIG5pdGVycysrO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZG8gdGhlIGN1dFxuICAgICAgICAgICAgICAgIHZhciB2Ym94ZXMgPSBtZWRpYW5DdXRBcHBseShoaXN0bywgdmJveCksXG4gICAgICAgICAgICAgICAgICAgIHZib3gxID0gdmJveGVzWzBdLFxuICAgICAgICAgICAgICAgICAgICB2Ym94MiA9IHZib3hlc1sxXTtcblxuICAgICAgICAgICAgICAgIGlmICghdmJveDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJ2Ym94MSBub3QgZGVmaW5lZDsgc2hvdWxkbid0IGhhcHBlbiFcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGgucHVzaCh2Ym94MSk7XG4gICAgICAgICAgICAgICAgaWYgKHZib3gyKSB7IC8qIHZib3gyIGNhbiBiZSBudWxsICovXG4gICAgICAgICAgICAgICAgICAgIGxoLnB1c2godmJveDIpO1xuICAgICAgICAgICAgICAgICAgICBuY29sb3JzKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChuY29sb3JzID49IHRhcmdldCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGlmIChuaXRlcnMrKyA+IG1heEl0ZXJhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJpbmZpbml0ZSBsb29wOyBwZXJoYXBzIHRvbyBmZXcgcGl4ZWxzIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZpcnN0IHNldCBvZiBjb2xvcnMsIHNvcnRlZCBieSBwb3B1bGF0aW9uXG4gICAgICAgIGl0ZXIocHEsIGZyYWN0QnlQb3B1bGF0aW9ucyAqIG1heGNvbG9ycyk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHBxLnNpemUoKSwgcHEuZGVidWcoKS5sZW5ndGgsIHBxLmRlYnVnKCkuc2xpY2UoKSk7XG5cbiAgICAgICAgLy8gUmUtc29ydCBieSB0aGUgcHJvZHVjdCBvZiBwaXhlbCBvY2N1cGFuY3kgdGltZXMgdGhlIHNpemUgaW4gY29sb3Igc3BhY2UuXG4gICAgICAgIHZhciBwcTIgPSBuZXcgUFF1ZXVlKGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBwdi5uYXR1cmFsT3JkZXIoYS5jb3VudCgpICogYS52b2x1bWUoKSwgYi5jb3VudCgpICogYi52b2x1bWUoKSlcbiAgICAgICAgfSk7XG4gICAgICAgIHdoaWxlIChwcS5zaXplKCkpIHtcbiAgICAgICAgICAgIHBxMi5wdXNoKHBxLnBvcCgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5leHQgc2V0IC0gZ2VuZXJhdGUgdGhlIG1lZGlhbiBjdXRzIHVzaW5nIHRoZSAobnBpeCAqIHZvbCkgc29ydGluZy5cbiAgICAgICAgaXRlcihwcTIsIG1heGNvbG9ycyAtIHBxMi5zaXplKCkpO1xuXG4gICAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgYWN0dWFsIGNvbG9yc1xuICAgICAgICB2YXIgY21hcCA9IG5ldyBDTWFwKCk7XG4gICAgICAgIHdoaWxlIChwcTIuc2l6ZSgpKSB7XG4gICAgICAgICAgICBjbWFwLnB1c2gocHEyLnBvcCgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjbWFwO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHF1YW50aXplOiBxdWFudGl6ZVxuICAgIH1cbn0pKCk7XG5cbm1vZHVsZS5leHBvcnRzID0gTU1DUS5xdWFudGl6ZVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMyB2dHQuanMgQ29udHJpYnV0b3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vLyBEZWZhdWx0IGV4cG9ydHMgZm9yIE5vZGUuIEV4cG9ydCB0aGUgZXh0ZW5kZWQgdmVyc2lvbnMgb2YgVlRUQ3VlIGFuZFxuLy8gVlRUUmVnaW9uIGluIE5vZGUgc2luY2Ugd2UgbGlrZWx5IHdhbnQgdGhlIGNhcGFiaWxpdHkgdG8gY29udmVydCBiYWNrIGFuZFxuLy8gZm9ydGggYmV0d2VlbiBKU09OLiBJZiB3ZSBkb24ndCB0aGVuIGl0J3Mgbm90IHRoYXQgYmlnIG9mIGEgZGVhbCBzaW5jZSB3ZSdyZVxuLy8gb2ZmIGJyb3dzZXIuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgV2ViVlRUOiByZXF1aXJlKFwiLi92dHQuanNcIikuV2ViVlRULFxuICBWVFRDdWU6IHJlcXVpcmUoXCIuL3Z0dGN1ZS1leHRlbmRlZC5qc1wiKS5WVFRDdWUsXG4gIFZUVFJlZ2lvbjogcmVxdWlyZShcIi4vdnR0cmVnaW9uLWV4dGVuZGVkLmpzXCIpLlZUVFJlZ2lvblxufTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMgdnR0LmpzIENvbnRyaWJ1dG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyogLSotIE1vZGU6IEphdmE7IHRhYi13aWR0aDogMjsgaW5kZW50LXRhYnMtbW9kZTogbmlsOyBjLWJhc2ljLW9mZnNldDogMiAtKi0gKi9cbi8qIHZpbTogc2V0IHNoaWZ0d2lkdGg9MiB0YWJzdG9wPTIgYXV0b2luZGVudCBjaW5kZW50IGV4cGFuZHRhYjogKi9cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuICBmdW5jdGlvbiBtYWtlQ29sb3JTZXQoY29sb3IsIG9wYWNpdHkpIHtcbiAgICBpZihvcGFjaXR5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG9wYWNpdHkgPSAxO1xuICAgIH1cbiAgICByZXR1cm4gXCJyZ2JhKFwiICsgW3BhcnNlSW50KGNvbG9yLnN1YnN0cmluZygwLCAyKSwgMTYpLFxuICAgICAgICAgICAgICAgICAgICAgIHBhcnNlSW50KGNvbG9yLnN1YnN0cmluZygyLCA0KSwgMTYpLFxuICAgICAgICAgICAgICAgICAgICAgIHBhcnNlSW50KGNvbG9yLnN1YnN0cmluZyg0LCA2KSwgMTYpLFxuICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHldLmpvaW4oXCIsXCIpICsgXCIpXCI7XG4gIH1cblxuICB2YXIgV2ViVlRUUHJlZnMgPSBbJ3dlYnZ0dC5mb250LmNvbG9yJywgJ3dlYnZ0dC5mb250Lm9wYWNpdHknLCAnd2VidnR0LmZvbnQuc2NhbGUnLFxuICAgICAgICAgICAgICAgICAgICAgJ3dlYnZ0dC5iZy5jb2xvcicsICd3ZWJ2dHQuYmcub3BhY2l0eScsXG4gICAgICAgICAgICAgICAgICAgICAnd2VidnR0LmVkZ2UuY29sb3InLCAnd2VidnR0LmVkZ2UudHlwZSddO1xuXG4gIHZhciBmb250U2NhbGUgPSAxO1xuXG4gIGZ1bmN0aW9uIG9ic2VydmUoc3ViamVjdCwgdG9waWMsIGRhdGEpIHtcbiAgICBzd2l0Y2ggKGRhdGEpIHtcbiAgICAgIGNhc2UgXCJ3ZWJ2dHQuZm9udC5jb2xvclwiOlxuICAgICAgY2FzZSBcIndlYnZ0dC5mb250Lm9wYWNpdHlcIjpcbiAgICAgICAgdmFyIGZvbnRDb2xvciA9IFNlcnZpY2VzLnByZWZzLmdldENoYXJQcmVmKFwid2VidnR0LmZvbnQuY29sb3JcIik7XG4gICAgICAgIHZhciBmb250T3BhY2l0eSA9IFNlcnZpY2VzLnByZWZzLmdldEludFByZWYoXCJ3ZWJ2dHQuZm9udC5vcGFjaXR5XCIpIC8gMTAwO1xuICAgICAgICBXZWJWVFRTZXQuZm9udFNldCA9IG1ha2VDb2xvclNldChmb250Q29sb3IsIGZvbnRPcGFjaXR5KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwid2VidnR0LmZvbnQuc2NhbGVcIjpcbiAgICAgICAgZm9udFNjYWxlID0gU2VydmljZXMucHJlZnMuZ2V0SW50UHJlZihcIndlYnZ0dC5mb250LnNjYWxlXCIpIC8gMTAwO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ3ZWJ2dHQuYmcuY29sb3JcIjpcbiAgICAgIGNhc2UgXCJ3ZWJ2dHQuYmcub3BhY2l0eVwiOlxuICAgICAgICB2YXIgYmFja2dyb3VuZENvbG9yID0gU2VydmljZXMucHJlZnMuZ2V0Q2hhclByZWYoXCJ3ZWJ2dHQuYmcuY29sb3JcIik7XG4gICAgICAgIHZhciBiYWNrZ3JvdW5kT3BhY2l0eSA9IFNlcnZpY2VzLnByZWZzLmdldEludFByZWYoXCJ3ZWJ2dHQuYmcub3BhY2l0eVwiKSAvIDEwMDtcbiAgICAgICAgV2ViVlRUU2V0LmJhY2tncm91bmRTZXQgPSBtYWtlQ29sb3JTZXQoYmFja2dyb3VuZENvbG9yLCBiYWNrZ3JvdW5kT3BhY2l0eSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIndlYnZ0dC5lZGdlLmNvbG9yXCI6XG4gICAgICBjYXNlIFwid2VidnR0LmVkZ2UudHlwZVwiOlxuICAgICAgICB2YXIgZWRnZVR5cGVMaXN0ID0gW1wiXCIsIFwiMHB4IDBweCBcIiwgXCI0cHggNHB4IDRweCBcIiwgXCItMnB4IC0ycHggXCIsIFwiMnB4IDJweCBcIl07XG4gICAgICAgIHZhciBlZGdlVHlwZSA9IFNlcnZpY2VzLnByZWZzLmdldEludFByZWYoXCJ3ZWJ2dHQuZWRnZS50eXBlXCIpO1xuICAgICAgICB2YXIgZWRnZUNvbG9yID0gU2VydmljZXMucHJlZnMuZ2V0Q2hhclByZWYoXCJ3ZWJ2dHQuZWRnZS5jb2xvclwiKTtcbiAgICAgICAgV2ViVlRUU2V0LmVkZ2VTZXQgPSBlZGdlVHlwZUxpc3RbZWRnZVR5cGVdICsgbWFrZUNvbG9yU2V0KGVkZ2VDb2xvcik7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGlmKHR5cGVvZiBTZXJ2aWNlcyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBXZWJWVFRTZXQgPSB7fTtcbiAgICBXZWJWVFRQcmVmcy5mb3JFYWNoKGZ1bmN0aW9uIChwcmVmKSB7XG4gICAgICBvYnNlcnZlKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBwcmVmKTtcbiAgICAgIFNlcnZpY2VzLnByZWZzLmFkZE9ic2VydmVyKHByZWYsIG9ic2VydmUsIGZhbHNlKTtcbiAgICB9KTtcbiAgfVxuXG4gIHZhciBfb2JqQ3JlYXRlID0gT2JqZWN0LmNyZWF0ZSB8fCAoZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gRigpIHt9XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG8pIHtcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignT2JqZWN0LmNyZWF0ZSBzaGltIG9ubHkgYWNjZXB0cyBvbmUgcGFyYW1ldGVyLicpO1xuICAgICAgfVxuICAgICAgRi5wcm90b3R5cGUgPSBvO1xuICAgICAgcmV0dXJuIG5ldyBGKCk7XG4gICAgfTtcbiAgfSkoKTtcblxuICAvLyBDcmVhdGVzIGEgbmV3IFBhcnNlckVycm9yIG9iamVjdCBmcm9tIGFuIGVycm9yRGF0YSBvYmplY3QuIFRoZSBlcnJvckRhdGFcbiAgLy8gb2JqZWN0IHNob3VsZCBoYXZlIGRlZmF1bHQgY29kZSBhbmQgbWVzc2FnZSBwcm9wZXJ0aWVzLiBUaGUgZGVmYXVsdCBtZXNzYWdlXG4gIC8vIHByb3BlcnR5IGNhbiBiZSBvdmVycmlkZW4gYnkgcGFzc2luZyBpbiBhIG1lc3NhZ2UgcGFyYW1ldGVyLlxuICAvLyBTZWUgUGFyc2luZ0Vycm9yLkVycm9ycyBiZWxvdyBmb3IgYWNjZXB0YWJsZSBlcnJvcnMuXG4gIGZ1bmN0aW9uIFBhcnNpbmdFcnJvcihlcnJvckRhdGEsIG1lc3NhZ2UpIHtcbiAgICB0aGlzLm5hbWUgPSBcIlBhcnNpbmdFcnJvclwiO1xuICAgIHRoaXMuY29kZSA9IGVycm9yRGF0YS5jb2RlO1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2UgfHwgZXJyb3JEYXRhLm1lc3NhZ2U7XG4gIH1cbiAgUGFyc2luZ0Vycm9yLnByb3RvdHlwZSA9IF9vYmpDcmVhdGUoRXJyb3IucHJvdG90eXBlKTtcbiAgUGFyc2luZ0Vycm9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFBhcnNpbmdFcnJvcjtcblxuICAvLyBQYXJzaW5nRXJyb3IgbWV0YWRhdGEgZm9yIGFjY2VwdGFibGUgUGFyc2luZ0Vycm9ycy5cbiAgUGFyc2luZ0Vycm9yLkVycm9ycyA9IHtcbiAgICBCYWRTaWduYXR1cmU6IHtcbiAgICAgIGNvZGU6IDAsXG4gICAgICBtZXNzYWdlOiBcIk1hbGZvcm1lZCBXZWJWVFQgc2lnbmF0dXJlLlwiXG4gICAgfSxcbiAgICBCYWRUaW1lU3RhbXA6IHtcbiAgICAgIGNvZGU6IDEsXG4gICAgICBtZXNzYWdlOiBcIk1hbGZvcm1lZCB0aW1lIHN0YW1wLlwiXG4gICAgfVxuICB9O1xuXG4gIC8vIFRyeSB0byBwYXJzZSBpbnB1dCBhcyBhIHRpbWUgc3RhbXAuXG4gIGZ1bmN0aW9uIHBhcnNlVGltZVN0YW1wKGlucHV0KSB7XG5cbiAgICBmdW5jdGlvbiBjb21wdXRlU2Vjb25kcyhoLCBtLCBzLCBmKSB7XG4gICAgICByZXR1cm4gKGggfCAwKSAqIDM2MDAgKyAobSB8IDApICogNjAgKyAocyB8IDApICsgKGYgfCAwKSAvIDEwMDA7XG4gICAgfVxuXG4gICAgdmFyIG0gPSBpbnB1dC5tYXRjaCgvXihcXGQrKTooXFxkezJ9KSg6XFxkezJ9KT9cXC4oXFxkezN9KS8pO1xuICAgIGlmICghbSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKG1bM10pIHtcbiAgICAgIC8vIFRpbWVzdGFtcCB0YWtlcyB0aGUgZm9ybSBvZiBbaG91cnNdOlttaW51dGVzXTpbc2Vjb25kc10uW21pbGxpc2Vjb25kc11cbiAgICAgIHJldHVybiBjb21wdXRlU2Vjb25kcyhtWzFdLCBtWzJdLCBtWzNdLnJlcGxhY2UoXCI6XCIsIFwiXCIpLCBtWzRdKTtcbiAgICB9IGVsc2UgaWYgKG1bMV0gPiA1OSkge1xuICAgICAgLy8gVGltZXN0YW1wIHRha2VzIHRoZSBmb3JtIG9mIFtob3Vyc106W21pbnV0ZXNdLlttaWxsaXNlY29uZHNdXG4gICAgICAvLyBGaXJzdCBwb3NpdGlvbiBpcyBob3VycyBhcyBpdCdzIG92ZXIgNTkuXG4gICAgICByZXR1cm4gY29tcHV0ZVNlY29uZHMobVsxXSwgbVsyXSwgMCwgIG1bNF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaW1lc3RhbXAgdGFrZXMgdGhlIGZvcm0gb2YgW21pbnV0ZXNdOltzZWNvbmRzXS5bbWlsbGlzZWNvbmRzXVxuICAgICAgcmV0dXJuIGNvbXB1dGVTZWNvbmRzKDAsIG1bMV0sIG1bMl0sIG1bNF0pO1xuICAgIH1cbiAgfVxuXG4gIC8vIEEgc2V0dGluZ3Mgb2JqZWN0IGhvbGRzIGtleS92YWx1ZSBwYWlycyBhbmQgd2lsbCBpZ25vcmUgYW55dGhpbmcgYnV0IHRoZSBmaXJzdFxuICAvLyBhc3NpZ25tZW50IHRvIGEgc3BlY2lmaWMga2V5LlxuICBmdW5jdGlvbiBTZXR0aW5ncygpIHtcbiAgICB0aGlzLnZhbHVlcyA9IF9vYmpDcmVhdGUobnVsbCk7XG4gIH1cblxuICBTZXR0aW5ncy5wcm90b3R5cGUgPSB7XG4gICAgLy8gT25seSBhY2NlcHQgdGhlIGZpcnN0IGFzc2lnbm1lbnQgdG8gYW55IGtleS5cbiAgICBzZXQ6IGZ1bmN0aW9uKGssIHYpIHtcbiAgICAgIGlmICghdGhpcy5nZXQoaykgJiYgdiAhPT0gXCJcIikge1xuICAgICAgICB0aGlzLnZhbHVlc1trXSA9IHY7XG4gICAgICB9XG4gICAgfSxcbiAgICAvLyBSZXR1cm4gdGhlIHZhbHVlIGZvciBhIGtleSwgb3IgYSBkZWZhdWx0IHZhbHVlLlxuICAgIC8vIElmICdkZWZhdWx0S2V5JyBpcyBwYXNzZWQgdGhlbiAnZGZsdCcgaXMgYXNzdW1lZCB0byBiZSBhbiBvYmplY3Qgd2l0aFxuICAgIC8vIGEgbnVtYmVyIG9mIHBvc3NpYmxlIGRlZmF1bHQgdmFsdWVzIGFzIHByb3BlcnRpZXMgd2hlcmUgJ2RlZmF1bHRLZXknIGlzXG4gICAgLy8gdGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdGhhdCB3aWxsIGJlIGNob3Nlbjsgb3RoZXJ3aXNlIGl0J3MgYXNzdW1lZCB0byBiZVxuICAgIC8vIGEgc2luZ2xlIHZhbHVlLlxuICAgIGdldDogZnVuY3Rpb24oaywgZGZsdCwgZGVmYXVsdEtleSkge1xuICAgICAgaWYgKGRlZmF1bHRLZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFzKGspID8gdGhpcy52YWx1ZXNba10gOiBkZmx0W2RlZmF1bHRLZXldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuaGFzKGspID8gdGhpcy52YWx1ZXNba10gOiBkZmx0O1xuICAgIH0sXG4gICAgLy8gQ2hlY2sgd2hldGhlciB3ZSBoYXZlIGEgdmFsdWUgZm9yIGEga2V5LlxuICAgIGhhczogZnVuY3Rpb24oaykge1xuICAgICAgcmV0dXJuIGsgaW4gdGhpcy52YWx1ZXM7XG4gICAgfSxcbiAgICAvLyBBY2NlcHQgYSBzZXR0aW5nIGlmIGl0cyBvbmUgb2YgdGhlIGdpdmVuIGFsdGVybmF0aXZlcy5cbiAgICBhbHQ6IGZ1bmN0aW9uKGssIHYsIGEpIHtcbiAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgYS5sZW5ndGg7ICsrbikge1xuICAgICAgICBpZiAodiA9PT0gYVtuXSkge1xuICAgICAgICAgIHRoaXMuc2V0KGssIHYpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICAvLyBBY2NlcHQgYSBzZXR0aW5nIGlmIGl0cyBhIHZhbGlkIChzaWduZWQpIGludGVnZXIuXG4gICAgaW50ZWdlcjogZnVuY3Rpb24oaywgdikge1xuICAgICAgaWYgKC9eLT9cXGQrJC8udGVzdCh2KSkgeyAvLyBpbnRlZ2VyXG4gICAgICAgIHRoaXMuc2V0KGssIHBhcnNlSW50KHYsIDEwKSk7XG4gICAgICB9XG4gICAgfSxcbiAgICAvLyBBY2NlcHQgYSBzZXR0aW5nIGlmIGl0cyBhIHZhbGlkIHBlcmNlbnRhZ2UuXG4gICAgcGVyY2VudDogZnVuY3Rpb24oaywgdikge1xuICAgICAgdmFyIG07XG4gICAgICBpZiAoKG0gPSB2Lm1hdGNoKC9eKFtcXGRdezEsM30pKFxcLltcXGRdKik/JSQvKSkpIHtcbiAgICAgICAgdiA9IHBhcnNlRmxvYXQodik7XG4gICAgICAgIGlmICh2ID49IDAgJiYgdiA8PSAxMDApIHtcbiAgICAgICAgICB0aGlzLnNldChrLCB2KTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gcGFyc2UgaW5wdXQgaW50byBncm91cHMgc2VwYXJhdGVkIGJ5ICdncm91cERlbGltJywgYW5kXG4gIC8vIGludGVycHJldGUgZWFjaCBncm91cCBhcyBhIGtleS92YWx1ZSBwYWlyIHNlcGFyYXRlZCBieSAna2V5VmFsdWVEZWxpbScuXG4gIGZ1bmN0aW9uIHBhcnNlT3B0aW9ucyhpbnB1dCwgY2FsbGJhY2ssIGtleVZhbHVlRGVsaW0sIGdyb3VwRGVsaW0pIHtcbiAgICB2YXIgZ3JvdXBzID0gZ3JvdXBEZWxpbSA/IGlucHV0LnNwbGl0KGdyb3VwRGVsaW0pIDogW2lucHV0XTtcbiAgICBmb3IgKHZhciBpIGluIGdyb3Vwcykge1xuICAgICAgaWYgKHR5cGVvZiBncm91cHNbaV0gIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB2YXIga3YgPSBncm91cHNbaV0uc3BsaXQoa2V5VmFsdWVEZWxpbSk7XG4gICAgICBpZiAoa3YubGVuZ3RoICE9PSAyKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdmFyIGsgPSBrdlswXTtcbiAgICAgIHZhciB2ID0ga3ZbMV07XG4gICAgICBjYWxsYmFjayhrLCB2KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZUN1ZShpbnB1dCwgY3VlLCByZWdpb25MaXN0KSB7XG4gICAgLy8gUmVtZW1iZXIgdGhlIG9yaWdpbmFsIGlucHV0IGlmIHdlIG5lZWQgdG8gdGhyb3cgYW4gZXJyb3IuXG4gICAgdmFyIG9JbnB1dCA9IGlucHV0O1xuICAgIC8vIDQuMSBXZWJWVFQgdGltZXN0YW1wXG4gICAgZnVuY3Rpb24gY29uc3VtZVRpbWVTdGFtcCgpIHtcbiAgICAgIHZhciB0cyA9IHBhcnNlVGltZVN0YW1wKGlucHV0KTtcbiAgICAgIGlmICh0cyA9PT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgUGFyc2luZ0Vycm9yKFBhcnNpbmdFcnJvci5FcnJvcnMuQmFkVGltZVN0YW1wLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJNYWxmb3JtZWQgdGltZXN0YW1wOiBcIiArIG9JbnB1dCk7XG4gICAgICB9XG4gICAgICAvLyBSZW1vdmUgdGltZSBzdGFtcCBmcm9tIGlucHV0LlxuICAgICAgaW5wdXQgPSBpbnB1dC5yZXBsYWNlKC9eW15cXHNhLXpBLVotXSsvLCBcIlwiKTtcbiAgICAgIHJldHVybiB0cztcbiAgICB9XG5cbiAgICAvLyA0LjQuMiBXZWJWVFQgY3VlIHNldHRpbmdzXG4gICAgZnVuY3Rpb24gY29uc3VtZUN1ZVNldHRpbmdzKGlucHV0LCBjdWUpIHtcbiAgICAgIHZhciBzZXR0aW5ncyA9IG5ldyBTZXR0aW5ncygpO1xuXG4gICAgICBwYXJzZU9wdGlvbnMoaW5wdXQsIGZ1bmN0aW9uIChrLCB2KSB7XG4gICAgICAgIHN3aXRjaCAoaykge1xuICAgICAgICBjYXNlIFwicmVnaW9uXCI6XG4gICAgICAgICAgLy8gRmluZCB0aGUgbGFzdCByZWdpb24gd2UgcGFyc2VkIHdpdGggdGhlIHNhbWUgcmVnaW9uIGlkLlxuICAgICAgICAgIGZvciAodmFyIGkgPSByZWdpb25MaXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBpZiAocmVnaW9uTGlzdFtpXS5pZCA9PT0gdikge1xuICAgICAgICAgICAgICBzZXR0aW5ncy5zZXQoaywgcmVnaW9uTGlzdFtpXS5yZWdpb24pO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ2ZXJ0aWNhbFwiOlxuICAgICAgICAgIHNldHRpbmdzLmFsdChrLCB2LCBbXCJybFwiLCBcImxyXCJdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImxpbmVcIjpcbiAgICAgICAgICB2YXIgdmFscyA9IHYuc3BsaXQoXCIsXCIpLFxuICAgICAgICAgICAgICB2YWxzMCA9IHZhbHNbMF07XG4gICAgICAgICAgc2V0dGluZ3MuaW50ZWdlcihrLCB2YWxzMCk7XG4gICAgICAgICAgc2V0dGluZ3MucGVyY2VudChrLCB2YWxzMCkgPyBzZXR0aW5ncy5zZXQoXCJzbmFwVG9MaW5lc1wiLCBmYWxzZSkgOiBudWxsO1xuICAgICAgICAgIHNldHRpbmdzLmFsdChrLCB2YWxzMCwgW1wiYXV0b1wiXSk7XG4gICAgICAgICAgaWYgKHZhbHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICBzZXR0aW5ncy5hbHQoXCJsaW5lQWxpZ25cIiwgdmFsc1sxXSwgW1wic3RhcnRcIiwgXCJtaWRkbGVcIiwgXCJlbmRcIl0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInBvc2l0aW9uXCI6XG4gICAgICAgICAgdmFscyA9IHYuc3BsaXQoXCIsXCIpO1xuICAgICAgICAgIHNldHRpbmdzLnBlcmNlbnQoaywgdmFsc1swXSk7XG4gICAgICAgICAgaWYgKHZhbHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICBzZXR0aW5ncy5hbHQoXCJwb3NpdGlvbkFsaWduXCIsIHZhbHNbMV0sIFtcInN0YXJ0XCIsIFwibWlkZGxlXCIsIFwiZW5kXCJdKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJzaXplXCI6XG4gICAgICAgICAgc2V0dGluZ3MucGVyY2VudChrLCB2KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImFsaWduXCI6XG4gICAgICAgICAgc2V0dGluZ3MuYWx0KGssIHYsIFtcInN0YXJ0XCIsIFwibWlkZGxlXCIsIFwiZW5kXCIsIFwibGVmdFwiLCBcInJpZ2h0XCJdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSwgLzovLCAvXFxzLyk7XG5cbiAgICAgIC8vIEFwcGx5IGRlZmF1bHQgdmFsdWVzIGZvciBhbnkgbWlzc2luZyBmaWVsZHMuXG4gICAgICBjdWUucmVnaW9uID0gc2V0dGluZ3MuZ2V0KFwicmVnaW9uXCIsIG51bGwpO1xuICAgICAgY3VlLnZlcnRpY2FsID0gc2V0dGluZ3MuZ2V0KFwidmVydGljYWxcIiwgXCJcIik7XG4gICAgICBjdWUubGluZSA9IHNldHRpbmdzLmdldChcImxpbmVcIiwgXCJhdXRvXCIpO1xuICAgICAgY3VlLmxpbmVBbGlnbiA9IHNldHRpbmdzLmdldChcImxpbmVBbGlnblwiLCBcInN0YXJ0XCIpO1xuICAgICAgY3VlLnNuYXBUb0xpbmVzID0gc2V0dGluZ3MuZ2V0KFwic25hcFRvTGluZXNcIiwgdHJ1ZSk7XG4gICAgICBjdWUuc2l6ZSA9IHNldHRpbmdzLmdldChcInNpemVcIiwgMTAwKTtcbiAgICAgIGN1ZS5hbGlnbiA9IHNldHRpbmdzLmdldChcImFsaWduXCIsIFwibWlkZGxlXCIpO1xuICAgICAgY3VlLnBvc2l0aW9uID0gc2V0dGluZ3MuZ2V0KFwicG9zaXRpb25cIiwgXCJhdXRvXCIpO1xuICAgICAgY3VlLnBvc2l0aW9uQWxpZ24gPSBzZXR0aW5ncy5nZXQoXCJwb3NpdGlvbkFsaWduXCIsIHtcbiAgICAgICAgc3RhcnQ6IFwic3RhcnRcIixcbiAgICAgICAgbGVmdDogXCJzdGFydFwiLFxuICAgICAgICBtaWRkbGU6IFwibWlkZGxlXCIsXG4gICAgICAgIGVuZDogXCJlbmRcIixcbiAgICAgICAgcmlnaHQ6IFwiZW5kXCJcbiAgICAgIH0sIGN1ZS5hbGlnbik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2tpcFdoaXRlc3BhY2UoKSB7XG4gICAgICBpbnB1dCA9IGlucHV0LnJlcGxhY2UoL15cXHMrLywgXCJcIik7XG4gICAgfVxuXG4gICAgLy8gNC4xIFdlYlZUVCBjdWUgdGltaW5ncy5cbiAgICBza2lwV2hpdGVzcGFjZSgpO1xuICAgIGN1ZS5zdGFydFRpbWUgPSBjb25zdW1lVGltZVN0YW1wKCk7ICAgLy8gKDEpIGNvbGxlY3QgY3VlIHN0YXJ0IHRpbWVcbiAgICBza2lwV2hpdGVzcGFjZSgpO1xuICAgIGlmIChpbnB1dC5zdWJzdHIoMCwgMykgIT09IFwiLS0+XCIpIHsgICAgIC8vICgzKSBuZXh0IGNoYXJhY3RlcnMgbXVzdCBtYXRjaCBcIi0tPlwiXG4gICAgICB0aHJvdyBuZXcgUGFyc2luZ0Vycm9yKFBhcnNpbmdFcnJvci5FcnJvcnMuQmFkVGltZVN0YW1wLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIk1hbGZvcm1lZCB0aW1lIHN0YW1wICh0aW1lIHN0YW1wcyBtdXN0IGJlIHNlcGFyYXRlZCBieSAnLS0+Jyk6IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb0lucHV0KTtcbiAgICB9XG4gICAgaW5wdXQgPSBpbnB1dC5zdWJzdHIoMyk7XG4gICAgc2tpcFdoaXRlc3BhY2UoKTtcbiAgICBjdWUuZW5kVGltZSA9IGNvbnN1bWVUaW1lU3RhbXAoKTsgICAgIC8vICg1KSBjb2xsZWN0IGN1ZSBlbmQgdGltZVxuXG4gICAgLy8gNC4xIFdlYlZUVCBjdWUgc2V0dGluZ3MgbGlzdC5cbiAgICBza2lwV2hpdGVzcGFjZSgpO1xuICAgIGNvbnN1bWVDdWVTZXR0aW5ncyhpbnB1dCwgY3VlKTtcbiAgfVxuXG4gIHZhciBFU0NBUEUgPSB7XG4gICAgXCImYW1wO1wiOiBcIiZcIixcbiAgICBcIiZsdDtcIjogXCI8XCIsXG4gICAgXCImZ3Q7XCI6IFwiPlwiLFxuICAgIFwiJmxybTtcIjogXCJcXHUyMDBlXCIsXG4gICAgXCImcmxtO1wiOiBcIlxcdTIwMGZcIixcbiAgICBcIiZuYnNwO1wiOiBcIlxcdTAwYTBcIlxuICB9O1xuXG4gIHZhciBUQUdfTkFNRSA9IHtcbiAgICBjOiBcInNwYW5cIixcbiAgICBpOiBcImlcIixcbiAgICBiOiBcImJcIixcbiAgICB1OiBcInVcIixcbiAgICBydWJ5OiBcInJ1YnlcIixcbiAgICBydDogXCJydFwiLFxuICAgIHY6IFwic3BhblwiLFxuICAgIGxhbmc6IFwic3BhblwiXG4gIH07XG5cbiAgdmFyIFRBR19BTk5PVEFUSU9OID0ge1xuICAgIHY6IFwidGl0bGVcIixcbiAgICBsYW5nOiBcImxhbmdcIlxuICB9O1xuXG4gIHZhciBORUVEU19QQVJFTlQgPSB7XG4gICAgcnQ6IFwicnVieVwiXG4gIH07XG5cbiAgLy8gUGFyc2UgY29udGVudCBpbnRvIGEgZG9jdW1lbnQgZnJhZ21lbnQuXG4gIGZ1bmN0aW9uIHBhcnNlQ29udGVudCh3aW5kb3csIGlucHV0KSB7XG4gICAgZnVuY3Rpb24gbmV4dFRva2VuKCkge1xuICAgICAgLy8gQ2hlY2sgZm9yIGVuZC1vZi1zdHJpbmcuXG4gICAgICBpZiAoIWlucHV0KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICAvLyBDb25zdW1lICduJyBjaGFyYWN0ZXJzIGZyb20gdGhlIGlucHV0LlxuICAgICAgZnVuY3Rpb24gY29uc3VtZShyZXN1bHQpIHtcbiAgICAgICAgaW5wdXQgPSBpbnB1dC5zdWJzdHIocmVzdWx0Lmxlbmd0aCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIHZhciBtID0gaW5wdXQubWF0Y2goL14oW148XSopKDxbXj5dKz4/KT8vKTtcbiAgICAgIC8vIElmIHRoZXJlIGlzIHNvbWUgdGV4dCBiZWZvcmUgdGhlIG5leHQgdGFnLCByZXR1cm4gaXQsIG90aGVyd2lzZSByZXR1cm5cbiAgICAgIC8vIHRoZSB0YWcuXG4gICAgICByZXR1cm4gY29uc3VtZShtWzFdID8gbVsxXSA6IG1bMl0pO1xuICAgIH1cblxuICAgIC8vIFVuZXNjYXBlIGEgc3RyaW5nICdzJy5cbiAgICBmdW5jdGlvbiB1bmVzY2FwZTEoZSkge1xuICAgICAgcmV0dXJuIEVTQ0FQRVtlXTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdW5lc2NhcGUocykge1xuICAgICAgd2hpbGUgKChtID0gcy5tYXRjaCgvJihhbXB8bHR8Z3R8bHJtfHJsbXxuYnNwKTsvKSkpIHtcbiAgICAgICAgcyA9IHMucmVwbGFjZShtWzBdLCB1bmVzY2FwZTEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2hvdWxkQWRkKGN1cnJlbnQsIGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiAhTkVFRFNfUEFSRU5UW2VsZW1lbnQubG9jYWxOYW1lXSB8fFxuICAgICAgICAgICAgIE5FRURTX1BBUkVOVFtlbGVtZW50LmxvY2FsTmFtZV0gPT09IGN1cnJlbnQubG9jYWxOYW1lO1xuICAgIH1cblxuICAgIC8vIENyZWF0ZSBhbiBlbGVtZW50IGZvciB0aGlzIHRhZy5cbiAgICBmdW5jdGlvbiBjcmVhdGVFbGVtZW50KHR5cGUsIGFubm90YXRpb24pIHtcbiAgICAgIHZhciB0YWdOYW1lID0gVEFHX05BTUVbdHlwZV07XG4gICAgICBpZiAoIXRhZ05hbWUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICB2YXIgZWxlbWVudCA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xuICAgICAgZWxlbWVudC5sb2NhbE5hbWUgPSB0YWdOYW1lO1xuICAgICAgdmFyIG5hbWUgPSBUQUdfQU5OT1RBVElPTlt0eXBlXTtcbiAgICAgIGlmIChuYW1lICYmIGFubm90YXRpb24pIHtcbiAgICAgICAgZWxlbWVudFtuYW1lXSA9IGFubm90YXRpb24udHJpbSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgdmFyIHJvb3REaXYgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcbiAgICAgICAgY3VycmVudCA9IHJvb3REaXYsXG4gICAgICAgIHQsXG4gICAgICAgIHRhZ1N0YWNrID0gW107XG5cbiAgICB3aGlsZSAoKHQgPSBuZXh0VG9rZW4oKSkgIT09IG51bGwpIHtcbiAgICAgIGlmICh0WzBdID09PSAnPCcpIHtcbiAgICAgICAgaWYgKHRbMV0gPT09IFwiL1wiKSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGNsb3NpbmcgdGFnIG1hdGNoZXMsIG1vdmUgYmFjayB1cCB0byB0aGUgcGFyZW50IG5vZGUuXG4gICAgICAgICAgaWYgKHRhZ1N0YWNrLmxlbmd0aCAmJlxuICAgICAgICAgICAgICB0YWdTdGFja1t0YWdTdGFjay5sZW5ndGggLSAxXSA9PT0gdC5zdWJzdHIoMikucmVwbGFjZShcIj5cIiwgXCJcIikpIHtcbiAgICAgICAgICAgIHRhZ1N0YWNrLnBvcCgpO1xuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50Tm9kZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gT3RoZXJ3aXNlIGp1c3QgaWdub3JlIHRoZSBlbmQgdGFnLlxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0cyA9IHBhcnNlVGltZVN0YW1wKHQuc3Vic3RyKDEsIHQubGVuZ3RoIC0gMikpO1xuICAgICAgICB2YXIgbm9kZTtcbiAgICAgICAgaWYgKHRzKSB7XG4gICAgICAgICAgLy8gVGltZXN0YW1wcyBhcmUgbGVhZCBub2RlcyBhcyB3ZWxsLlxuICAgICAgICAgIG5vZGUgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlUHJvY2Vzc2luZ0luc3RydWN0aW9uKFwidGltZXN0YW1wXCIsIHRzKTtcbiAgICAgICAgICBjdXJyZW50LmFwcGVuZENoaWxkKG5vZGUpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtID0gdC5tYXRjaCgvXjwoW14uXFxzLzAtOT5dKykoXFwuW15cXHNcXFxcPl0rKT8oW14+XFxcXF0rKT8oXFxcXD8pPj8kLyk7XG4gICAgICAgIC8vIElmIHdlIGNhbid0IHBhcnNlIHRoZSB0YWcsIHNraXAgdG8gdGhlIG5leHQgdGFnLlxuICAgICAgICBpZiAoIW0pIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUcnkgdG8gY29uc3RydWN0IGFuIGVsZW1lbnQsIGFuZCBpZ25vcmUgdGhlIHRhZyBpZiB3ZSBjb3VsZG4ndC5cbiAgICAgICAgbm9kZSA9IGNyZWF0ZUVsZW1lbnQobVsxXSwgbVszXSk7XG4gICAgICAgIGlmICghbm9kZSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIERldGVybWluZSBpZiB0aGUgdGFnIHNob3VsZCBiZSBhZGRlZCBiYXNlZCBvbiB0aGUgY29udGV4dCBvZiB3aGVyZSBpdFxuICAgICAgICAvLyBpcyBwbGFjZWQgaW4gdGhlIGN1ZXRleHQuXG4gICAgICAgIGlmICghc2hvdWxkQWRkKGN1cnJlbnQsIG5vZGUpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2V0IHRoZSBjbGFzcyBsaXN0IChhcyBhIGxpc3Qgb2YgY2xhc3Nlcywgc2VwYXJhdGVkIGJ5IHNwYWNlKS5cbiAgICAgICAgaWYgKG1bMl0pIHtcbiAgICAgICAgICBub2RlLmNsYXNzTmFtZSA9IG1bMl0uc3Vic3RyKDEpLnJlcGxhY2UoJy4nLCAnICcpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFwcGVuZCB0aGUgbm9kZSB0byB0aGUgY3VycmVudCBub2RlLCBhbmQgZW50ZXIgdGhlIHNjb3BlIG9mIHRoZSBuZXdcbiAgICAgICAgLy8gbm9kZS5cbiAgICAgICAgdGFnU3RhY2sucHVzaChtWzFdKTtcbiAgICAgICAgY3VycmVudC5hcHBlbmRDaGlsZChub2RlKTtcbiAgICAgICAgY3VycmVudCA9IG5vZGU7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBUZXh0IG5vZGVzIGFyZSBsZWFmIG5vZGVzLlxuICAgICAgY3VycmVudC5hcHBlbmRDaGlsZCh3aW5kb3cuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodW5lc2NhcGUodCkpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcm9vdERpdjtcbiAgfVxuXG4gIC8vIFRoaXMgaXMgYSBsaXN0IG9mIGFsbCB0aGUgVW5pY29kZSBjaGFyYWN0ZXJzIHRoYXQgaGF2ZSBhIHN0cm9uZ1xuICAvLyByaWdodC10by1sZWZ0IGNhdGVnb3J5LiBXaGF0IHRoaXMgbWVhbnMgaXMgdGhhdCB0aGVzZSBjaGFyYWN0ZXJzIGFyZVxuICAvLyB3cml0dGVuIHJpZ2h0LXRvLWxlZnQgZm9yIHN1cmUuIEl0IHdhcyBnZW5lcmF0ZWQgYnkgcHVsbGluZyBhbGwgdGhlIHN0cm9uZ1xuICAvLyByaWdodC10by1sZWZ0IGNoYXJhY3RlcnMgb3V0IG9mIHRoZSBVbmljb2RlIGRhdGEgdGFibGUuIFRoYXQgdGFibGUgY2FuXG4gIC8vIGZvdW5kIGF0OiBodHRwOi8vd3d3LnVuaWNvZGUub3JnL1B1YmxpYy9VTklEQVRBL1VuaWNvZGVEYXRhLnR4dFxuICB2YXIgc3Ryb25nUlRMUmFuZ2VzID0gW1sweDViZSwgMHg1YmVdLCBbMHg1YzAsIDB4NWMwXSwgWzB4NWMzLCAweDVjM10sIFsweDVjNiwgMHg1YzZdLFxuICAgWzB4NWQwLCAweDVlYV0sIFsweDVmMCwgMHg1ZjRdLCBbMHg2MDgsIDB4NjA4XSwgWzB4NjBiLCAweDYwYl0sIFsweDYwZCwgMHg2MGRdLFxuICAgWzB4NjFiLCAweDYxYl0sIFsweDYxZSwgMHg2NGFdLCBbMHg2NmQsIDB4NjZmXSwgWzB4NjcxLCAweDZkNV0sIFsweDZlNSwgMHg2ZTZdLFxuICAgWzB4NmVlLCAweDZlZl0sIFsweDZmYSwgMHg3MGRdLCBbMHg3MGYsIDB4NzEwXSwgWzB4NzEyLCAweDcyZl0sIFsweDc0ZCwgMHg3YTVdLFxuICAgWzB4N2IxLCAweDdiMV0sIFsweDdjMCwgMHg3ZWFdLCBbMHg3ZjQsIDB4N2Y1XSwgWzB4N2ZhLCAweDdmYV0sIFsweDgwMCwgMHg4MTVdLFxuICAgWzB4ODFhLCAweDgxYV0sIFsweDgyNCwgMHg4MjRdLCBbMHg4MjgsIDB4ODI4XSwgWzB4ODMwLCAweDgzZV0sIFsweDg0MCwgMHg4NThdLFxuICAgWzB4ODVlLCAweDg1ZV0sIFsweDhhMCwgMHg4YTBdLCBbMHg4YTIsIDB4OGFjXSwgWzB4MjAwZiwgMHgyMDBmXSxcbiAgIFsweGZiMWQsIDB4ZmIxZF0sIFsweGZiMWYsIDB4ZmIyOF0sIFsweGZiMmEsIDB4ZmIzNl0sIFsweGZiMzgsIDB4ZmIzY10sXG4gICBbMHhmYjNlLCAweGZiM2VdLCBbMHhmYjQwLCAweGZiNDFdLCBbMHhmYjQzLCAweGZiNDRdLCBbMHhmYjQ2LCAweGZiYzFdLFxuICAgWzB4ZmJkMywgMHhmZDNkXSwgWzB4ZmQ1MCwgMHhmZDhmXSwgWzB4ZmQ5MiwgMHhmZGM3XSwgWzB4ZmRmMCwgMHhmZGZjXSxcbiAgIFsweGZlNzAsIDB4ZmU3NF0sIFsweGZlNzYsIDB4ZmVmY10sIFsweDEwODAwLCAweDEwODA1XSwgWzB4MTA4MDgsIDB4MTA4MDhdLFxuICAgWzB4MTA4MGEsIDB4MTA4MzVdLCBbMHgxMDgzNywgMHgxMDgzOF0sIFsweDEwODNjLCAweDEwODNjXSwgWzB4MTA4M2YsIDB4MTA4NTVdLFxuICAgWzB4MTA4NTcsIDB4MTA4NWZdLCBbMHgxMDkwMCwgMHgxMDkxYl0sIFsweDEwOTIwLCAweDEwOTM5XSwgWzB4MTA5M2YsIDB4MTA5M2ZdLFxuICAgWzB4MTA5ODAsIDB4MTA5YjddLCBbMHgxMDliZSwgMHgxMDliZl0sIFsweDEwYTAwLCAweDEwYTAwXSwgWzB4MTBhMTAsIDB4MTBhMTNdLFxuICAgWzB4MTBhMTUsIDB4MTBhMTddLCBbMHgxMGExOSwgMHgxMGEzM10sIFsweDEwYTQwLCAweDEwYTQ3XSwgWzB4MTBhNTAsIDB4MTBhNThdLFxuICAgWzB4MTBhNjAsIDB4MTBhN2ZdLCBbMHgxMGIwMCwgMHgxMGIzNV0sIFsweDEwYjQwLCAweDEwYjU1XSwgWzB4MTBiNTgsIDB4MTBiNzJdLFxuICAgWzB4MTBiNzgsIDB4MTBiN2ZdLCBbMHgxMGMwMCwgMHgxMGM0OF0sIFsweDFlZTAwLCAweDFlZTAzXSwgWzB4MWVlMDUsIDB4MWVlMWZdLFxuICAgWzB4MWVlMjEsIDB4MWVlMjJdLCBbMHgxZWUyNCwgMHgxZWUyNF0sIFsweDFlZTI3LCAweDFlZTI3XSwgWzB4MWVlMjksIDB4MWVlMzJdLFxuICAgWzB4MWVlMzQsIDB4MWVlMzddLCBbMHgxZWUzOSwgMHgxZWUzOV0sIFsweDFlZTNiLCAweDFlZTNiXSwgWzB4MWVlNDIsIDB4MWVlNDJdLFxuICAgWzB4MWVlNDcsIDB4MWVlNDddLCBbMHgxZWU0OSwgMHgxZWU0OV0sIFsweDFlZTRiLCAweDFlZTRiXSwgWzB4MWVlNGQsIDB4MWVlNGZdLFxuICAgWzB4MWVlNTEsIDB4MWVlNTJdLCBbMHgxZWU1NCwgMHgxZWU1NF0sIFsweDFlZTU3LCAweDFlZTU3XSwgWzB4MWVlNTksIDB4MWVlNTldLFxuICAgWzB4MWVlNWIsIDB4MWVlNWJdLCBbMHgxZWU1ZCwgMHgxZWU1ZF0sIFsweDFlZTVmLCAweDFlZTVmXSwgWzB4MWVlNjEsIDB4MWVlNjJdLFxuICAgWzB4MWVlNjQsIDB4MWVlNjRdLCBbMHgxZWU2NywgMHgxZWU2YV0sIFsweDFlZTZjLCAweDFlZTcyXSwgWzB4MWVlNzQsIDB4MWVlNzddLFxuICAgWzB4MWVlNzksIDB4MWVlN2NdLCBbMHgxZWU3ZSwgMHgxZWU3ZV0sIFsweDFlZTgwLCAweDFlZTg5XSwgWzB4MWVlOGIsIDB4MWVlOWJdLFxuICAgWzB4MWVlYTEsIDB4MWVlYTNdLCBbMHgxZWVhNSwgMHgxZWVhOV0sIFsweDFlZWFiLCAweDFlZWJiXSwgWzB4MTBmZmZkLCAweDEwZmZmZF1dO1xuXG4gIGZ1bmN0aW9uIGlzU3Ryb25nUlRMQ2hhcihjaGFyQ29kZSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3Ryb25nUlRMUmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgY3VycmVudFJhbmdlID0gc3Ryb25nUlRMUmFuZ2VzW2ldO1xuICAgICAgaWYgKGNoYXJDb2RlID49IGN1cnJlbnRSYW5nZVswXSAmJiBjaGFyQ29kZSA8PSBjdXJyZW50UmFuZ2VbMV0pIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gZGV0ZXJtaW5lQmlkaShjdWVEaXYpIHtcbiAgICB2YXIgbm9kZVN0YWNrID0gW10sXG4gICAgICAgIHRleHQgPSBcIlwiLFxuICAgICAgICBjaGFyQ29kZTtcblxuICAgIGlmICghY3VlRGl2IHx8ICFjdWVEaXYuY2hpbGROb2Rlcykge1xuICAgICAgcmV0dXJuIFwibHRyXCI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHVzaE5vZGVzKG5vZGVTdGFjaywgbm9kZSkge1xuICAgICAgZm9yICh2YXIgaSA9IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBub2RlU3RhY2sucHVzaChub2RlLmNoaWxkTm9kZXNbaV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG5leHRUZXh0Tm9kZShub2RlU3RhY2spIHtcbiAgICAgIGlmICghbm9kZVN0YWNrIHx8ICFub2RlU3RhY2subGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgbm9kZSA9IG5vZGVTdGFjay5wb3AoKSxcbiAgICAgICAgICB0ZXh0ID0gbm9kZS50ZXh0Q29udGVudCB8fCBub2RlLmlubmVyVGV4dDtcbiAgICAgIGlmICh0ZXh0KSB7XG4gICAgICAgIC8vIFRPRE86IFRoaXMgc2hvdWxkIG1hdGNoIGFsbCB1bmljb2RlIHR5cGUgQiBjaGFyYWN0ZXJzIChwYXJhZ3JhcGhcbiAgICAgICAgLy8gc2VwYXJhdG9yIGNoYXJhY3RlcnMpLiBTZWUgaXNzdWUgIzExNS5cbiAgICAgICAgdmFyIG0gPSB0ZXh0Lm1hdGNoKC9eLiooXFxufFxccikvKTtcbiAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICBub2RlU3RhY2subGVuZ3RoID0gMDtcbiAgICAgICAgICByZXR1cm4gbVswXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlLnRhZ05hbWUgPT09IFwicnVieVwiKSB7XG4gICAgICAgIHJldHVybiBuZXh0VGV4dE5vZGUobm9kZVN0YWNrKTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlLmNoaWxkTm9kZXMpIHtcbiAgICAgICAgcHVzaE5vZGVzKG5vZGVTdGFjaywgbm9kZSk7XG4gICAgICAgIHJldHVybiBuZXh0VGV4dE5vZGUobm9kZVN0YWNrKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwdXNoTm9kZXMobm9kZVN0YWNrLCBjdWVEaXYpO1xuICAgIHdoaWxlICgodGV4dCA9IG5leHRUZXh0Tm9kZShub2RlU3RhY2spKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNoYXJDb2RlID0gdGV4dC5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBpZiAoaXNTdHJvbmdSVExDaGFyKGNoYXJDb2RlKSkge1xuICAgICAgICAgIHJldHVybiBcInJ0bFwiO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBcImx0clwiO1xuICB9XG5cbiAgZnVuY3Rpb24gY29tcHV0ZUxpbmVQb3MoY3VlKSB7XG4gICAgaWYgKHR5cGVvZiBjdWUubGluZSA9PT0gXCJudW1iZXJcIiAmJlxuICAgICAgICAoY3VlLnNuYXBUb0xpbmVzIHx8IChjdWUubGluZSA+PSAwICYmIGN1ZS5saW5lIDw9IDEwMCkpKSB7XG4gICAgICByZXR1cm4gY3VlLmxpbmU7XG4gICAgfVxuICAgIGlmICghY3VlLnRyYWNrIHx8ICFjdWUudHJhY2sudGV4dFRyYWNrTGlzdCB8fFxuICAgICAgICAhY3VlLnRyYWNrLnRleHRUcmFja0xpc3QubWVkaWFFbGVtZW50KSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIHZhciB0cmFjayA9IGN1ZS50cmFjayxcbiAgICAgICAgdHJhY2tMaXN0ID0gdHJhY2sudGV4dFRyYWNrTGlzdCxcbiAgICAgICAgY291bnQgPSAwO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJhY2tMaXN0Lmxlbmd0aCAmJiB0cmFja0xpc3RbaV0gIT09IHRyYWNrOyBpKyspIHtcbiAgICAgIGlmICh0cmFja0xpc3RbaV0ubW9kZSA9PT0gXCJzaG93aW5nXCIpIHtcbiAgICAgICAgY291bnQrKztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICsrY291bnQgKiAtMTtcbiAgfVxuXG4gIGZ1bmN0aW9uIFN0eWxlQm94KCkge1xuICB9XG5cbiAgLy8gQXBwbHkgc3R5bGVzIHRvIGEgZGl2LiBJZiB0aGVyZSBpcyBubyBkaXYgcGFzc2VkIHRoZW4gaXQgZGVmYXVsdHMgdG8gdGhlXG4gIC8vIGRpdiBvbiAndGhpcycuXG4gIFN0eWxlQm94LnByb3RvdHlwZS5hcHBseVN0eWxlcyA9IGZ1bmN0aW9uKHN0eWxlcywgZGl2KSB7XG4gICAgZGl2ID0gZGl2IHx8IHRoaXMuZGl2O1xuICAgIGZvciAodmFyIHByb3AgaW4gc3R5bGVzKSB7XG4gICAgICBpZiAoc3R5bGVzLmhhc093blByb3BlcnR5KHByb3ApKSB7XG4gICAgICAgIGRpdi5zdHlsZVtwcm9wXSA9IHN0eWxlc1twcm9wXTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgU3R5bGVCb3gucHJvdG90eXBlLmZvcm1hdFN0eWxlID0gZnVuY3Rpb24odmFsLCB1bml0KSB7XG4gICAgcmV0dXJuIHZhbCA9PT0gMCA/IDAgOiB2YWwgKyB1bml0O1xuICB9O1xuXG4gIC8vIENvbnN0cnVjdHMgdGhlIGNvbXB1dGVkIGRpc3BsYXkgc3RhdGUgb2YgdGhlIGN1ZSAoYSBkaXYpLiBQbGFjZXMgdGhlIGRpdlxuICAvLyBpbnRvIHRoZSBvdmVybGF5IHdoaWNoIHNob3VsZCBiZSBhIGJsb2NrIGxldmVsIGVsZW1lbnQgKHVzdWFsbHkgYSBkaXYpLlxuICBmdW5jdGlvbiBDdWVTdHlsZUJveCh3aW5kb3csIGN1ZSwgc3R5bGVPcHRpb25zKSB7XG4gICAgdmFyIGlzSUU4ID0gKHR5cGVvZiBuYXZpZ2F0b3IgIT09IFwidW5kZWZpbmVkXCIpICYmXG4gICAgICAoL01TSUVcXHM4XFwuMC8pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgdmFyIGNvbG9yID0gXCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDEpXCI7XG4gICAgdmFyIGJhY2tncm91bmRDb2xvciA9IFwicmdiYSgwLCAwLCAwLCAwLjgpXCI7XG4gICAgdmFyIHRleHRTaGFkb3cgPSBcIlwiO1xuXG4gICAgaWYodHlwZW9mIFdlYlZUVFNldCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgY29sb3IgPSBXZWJWVFRTZXQuZm9udFNldDtcbiAgICAgIGJhY2tncm91bmRDb2xvciA9IFdlYlZUVFNldC5iYWNrZ3JvdW5kU2V0O1xuICAgICAgdGV4dFNoYWRvdyA9IFdlYlZUVFNldC5lZGdlU2V0O1xuICAgIH1cblxuICAgIGlmIChpc0lFOCkge1xuICAgICAgY29sb3IgPSBcInJnYigyNTUsIDI1NSwgMjU1KVwiO1xuICAgICAgYmFja2dyb3VuZENvbG9yID0gXCJyZ2IoMCwgMCwgMClcIjtcbiAgICB9XG5cbiAgICBTdHlsZUJveC5jYWxsKHRoaXMpO1xuICAgIHRoaXMuY3VlID0gY3VlO1xuXG4gICAgLy8gUGFyc2Ugb3VyIGN1ZSdzIHRleHQgaW50byBhIERPTSB0cmVlIHJvb3RlZCBhdCAnY3VlRGl2Jy4gVGhpcyBkaXYgd2lsbFxuICAgIC8vIGhhdmUgaW5saW5lIHBvc2l0aW9uaW5nIGFuZCB3aWxsIGZ1bmN0aW9uIGFzIHRoZSBjdWUgYmFja2dyb3VuZCBib3guXG4gICAgdGhpcy5jdWVEaXYgPSBwYXJzZUNvbnRlbnQod2luZG93LCBjdWUudGV4dCk7XG4gICAgdmFyIHN0eWxlcyA9IHtcbiAgICAgIGNvbG9yOiBjb2xvcixcbiAgICAgIGJhY2tncm91bmRDb2xvcjogYmFja2dyb3VuZENvbG9yLFxuICAgICAgdGV4dFNoYWRvdzogdGV4dFNoYWRvdyxcbiAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICBsZWZ0OiAwLFxuICAgICAgcmlnaHQ6IDAsXG4gICAgICB0b3A6IDAsXG4gICAgICBib3R0b206IDAsXG4gICAgICBkaXNwbGF5OiBcImlubGluZVwiXG4gICAgfTtcblxuICAgIGlmICghaXNJRTgpIHtcbiAgICAgIHN0eWxlcy53cml0aW5nTW9kZSA9IGN1ZS52ZXJ0aWNhbCA9PT0gXCJcIiA/IFwiaG9yaXpvbnRhbC10YlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogY3VlLnZlcnRpY2FsID09PSBcImxyXCIgPyBcInZlcnRpY2FsLWxyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcInZlcnRpY2FsLXJsXCI7XG4gICAgICBzdHlsZXMudW5pY29kZUJpZGkgPSBcInBsYWludGV4dFwiO1xuICAgIH1cbiAgICB0aGlzLmFwcGx5U3R5bGVzKHN0eWxlcywgdGhpcy5jdWVEaXYpO1xuXG4gICAgLy8gQ3JlYXRlIGFuIGFic29sdXRlbHkgcG9zaXRpb25lZCBkaXYgdGhhdCB3aWxsIGJlIHVzZWQgdG8gcG9zaXRpb24gdGhlIGN1ZVxuICAgIC8vIGRpdi4gTm90ZSwgYWxsIFdlYlZUVCBjdWUtc2V0dGluZyBhbGlnbm1lbnRzIGFyZSBlcXVpdmFsZW50IHRvIHRoZSBDU1NcbiAgICAvLyBtaXJyb3JzIG9mIHRoZW0gZXhjZXB0IFwibWlkZGxlXCIgd2hpY2ggaXMgXCJjZW50ZXJcIiBpbiBDU1MuXG4gICAgdGhpcy5kaXYgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBzdHlsZXMgPSB7XG4gICAgICB0ZXh0QWxpZ246IGN1ZS5hbGlnbiA9PT0gXCJtaWRkbGVcIiA/IFwiY2VudGVyXCIgOiBjdWUuYWxpZ24sXG4gICAgICBmb250OiBzdHlsZU9wdGlvbnMuZm9udCxcbiAgICAgIHdoaXRlU3BhY2U6IFwicHJlLWxpbmVcIixcbiAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCJcbiAgICB9O1xuXG4gICAgaWYgKCFpc0lFOCkge1xuICAgICAgc3R5bGVzLmRpcmVjdGlvbiA9IGRldGVybWluZUJpZGkodGhpcy5jdWVEaXYpO1xuICAgICAgc3R5bGVzLndyaXRpbmdNb2RlID0gY3VlLnZlcnRpY2FsID09PSBcIlwiID8gXCJob3Jpem9udGFsLXRiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjdWUudmVydGljYWwgPT09IFwibHJcIiA/IFwidmVydGljYWwtbHJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwidmVydGljYWwtcmxcIi5cbiAgICAgIHN0eWxlc3VuaWNvZGVCaWRpID0gIFwicGxhaW50ZXh0XCI7XG4gICAgfVxuXG4gICAgdGhpcy5hcHBseVN0eWxlcyhzdHlsZXMpO1xuXG4gICAgdGhpcy5kaXYuYXBwZW5kQ2hpbGQodGhpcy5jdWVEaXYpO1xuXG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBkaXN0YW5jZSBmcm9tIHRoZSByZWZlcmVuY2UgZWRnZSBvZiB0aGUgdmlld3BvcnQgdG8gdGhlIHRleHRcbiAgICAvLyBwb3NpdGlvbiBvZiB0aGUgY3VlIGJveC4gVGhlIHJlZmVyZW5jZSBlZGdlIHdpbGwgYmUgcmVzb2x2ZWQgbGF0ZXIgd2hlblxuICAgIC8vIHRoZSBib3ggb3JpZW50YXRpb24gc3R5bGVzIGFyZSBhcHBsaWVkLlxuICAgIHZhciB0ZXh0UG9zID0gMDtcbiAgICBzd2l0Y2ggKGN1ZS5wb3NpdGlvbkFsaWduKSB7XG4gICAgY2FzZSBcInN0YXJ0XCI6XG4gICAgICB0ZXh0UG9zID0gY3VlLnBvc2l0aW9uO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIm1pZGRsZVwiOlxuICAgICAgdGV4dFBvcyA9IGN1ZS5wb3NpdGlvbiAtIChjdWUuc2l6ZSAvIDIpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImVuZFwiOlxuICAgICAgdGV4dFBvcyA9IGN1ZS5wb3NpdGlvbiAtIGN1ZS5zaXplO1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgLy8gSG9yaXpvbnRhbCBib3ggb3JpZW50YXRpb247IHRleHRQb3MgaXMgdGhlIGRpc3RhbmNlIGZyb20gdGhlIGxlZnQgZWRnZSBvZiB0aGVcbiAgICAvLyBhcmVhIHRvIHRoZSBsZWZ0IGVkZ2Ugb2YgdGhlIGJveCBhbmQgY3VlLnNpemUgaXMgdGhlIGRpc3RhbmNlIGV4dGVuZGluZyB0b1xuICAgIC8vIHRoZSByaWdodCBmcm9tIHRoZXJlLlxuICAgIGlmIChjdWUudmVydGljYWwgPT09IFwiXCIpIHtcbiAgICAgIHRoaXMuYXBwbHlTdHlsZXMoe1xuICAgICAgICBsZWZ0OiAgdGhpcy5mb3JtYXRTdHlsZSh0ZXh0UG9zLCBcIiVcIiksXG4gICAgICAgIHdpZHRoOiB0aGlzLmZvcm1hdFN0eWxlKGN1ZS5zaXplLCBcIiVcIilcbiAgICAgIH0pO1xuICAgIC8vIFZlcnRpY2FsIGJveCBvcmllbnRhdGlvbjsgdGV4dFBvcyBpcyB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgdG9wIGVkZ2Ugb2YgdGhlXG4gICAgLy8gYXJlYSB0byB0aGUgdG9wIGVkZ2Ugb2YgdGhlIGJveCBhbmQgY3VlLnNpemUgaXMgdGhlIGhlaWdodCBleHRlbmRpbmdcbiAgICAvLyBkb3dud2FyZHMgZnJvbSB0aGVyZS5cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hcHBseVN0eWxlcyh7XG4gICAgICAgIHRvcDogdGhpcy5mb3JtYXRTdHlsZSh0ZXh0UG9zLCBcIiVcIiksXG4gICAgICAgIGhlaWdodDogdGhpcy5mb3JtYXRTdHlsZShjdWUuc2l6ZSwgXCIlXCIpXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLm1vdmUgPSBmdW5jdGlvbihib3gpIHtcbiAgICAgIHRoaXMuYXBwbHlTdHlsZXMoe1xuICAgICAgICB0b3A6IHRoaXMuZm9ybWF0U3R5bGUoYm94LnRvcCwgXCJweFwiKSxcbiAgICAgICAgYm90dG9tOiB0aGlzLmZvcm1hdFN0eWxlKGJveC5ib3R0b20sIFwicHhcIiksXG4gICAgICAgIGxlZnQ6IHRoaXMuZm9ybWF0U3R5bGUoYm94LmxlZnQsIFwicHhcIiksXG4gICAgICAgIHJpZ2h0OiB0aGlzLmZvcm1hdFN0eWxlKGJveC5yaWdodCwgXCJweFwiKSxcbiAgICAgICAgaGVpZ2h0OiB0aGlzLmZvcm1hdFN0eWxlKGJveC5oZWlnaHQsIFwicHhcIiksXG4gICAgICAgIHdpZHRoOiB0aGlzLmZvcm1hdFN0eWxlKGJveC53aWR0aCwgXCJweFwiKVxuICAgICAgfSk7XG4gICAgfTtcbiAgfVxuICBDdWVTdHlsZUJveC5wcm90b3R5cGUgPSBfb2JqQ3JlYXRlKFN0eWxlQm94LnByb3RvdHlwZSk7XG4gIEN1ZVN0eWxlQm94LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEN1ZVN0eWxlQm94O1xuXG4gIC8vIFJlcHJlc2VudHMgdGhlIGNvLW9yZGluYXRlcyBvZiBhbiBFbGVtZW50IGluIGEgd2F5IHRoYXQgd2UgY2FuIGVhc2lseVxuICAvLyBjb21wdXRlIHRoaW5ncyB3aXRoIHN1Y2ggYXMgaWYgaXQgb3ZlcmxhcHMgb3IgaW50ZXJzZWN0cyB3aXRoIGFub3RoZXIgRWxlbWVudC5cbiAgLy8gQ2FuIGluaXRpYWxpemUgaXQgd2l0aCBlaXRoZXIgYSBTdHlsZUJveCBvciBhbm90aGVyIEJveFBvc2l0aW9uLlxuICBmdW5jdGlvbiBCb3hQb3NpdGlvbihvYmopIHtcbiAgICB2YXIgaXNJRTggPSAodHlwZW9mIG5hdmlnYXRvciAhPT0gXCJ1bmRlZmluZWRcIikgJiZcbiAgICAgICgvTVNJRVxcczhcXC4wLykudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcblxuICAgIC8vIEVpdGhlciBhIEJveFBvc2l0aW9uIHdhcyBwYXNzZWQgaW4gYW5kIHdlIG5lZWQgdG8gY29weSBpdCwgb3IgYSBTdHlsZUJveFxuICAgIC8vIHdhcyBwYXNzZWQgaW4gYW5kIHdlIG5lZWQgdG8gY29weSB0aGUgcmVzdWx0cyBvZiAnZ2V0Qm91bmRpbmdDbGllbnRSZWN0J1xuICAgIC8vIGFzIHRoZSBvYmplY3QgcmV0dXJuZWQgaXMgcmVhZG9ubHkuIEFsbCBjby1vcmRpbmF0ZSB2YWx1ZXMgYXJlIGluIHJlZmVyZW5jZVxuICAgIC8vIHRvIHRoZSB2aWV3cG9ydCBvcmlnaW4gKHRvcCBsZWZ0KS5cbiAgICB2YXIgbGgsIGhlaWdodCwgd2lkdGgsIHRvcDtcbiAgICBpZiAob2JqLmRpdikge1xuICAgICAgaGVpZ2h0ID0gb2JqLmRpdi5vZmZzZXRIZWlnaHQ7XG4gICAgICB3aWR0aCA9IG9iai5kaXYub2Zmc2V0V2lkdGg7XG4gICAgICB0b3AgPSBvYmouZGl2Lm9mZnNldFRvcDtcblxuICAgICAgdmFyIHJlY3RzID0gKHJlY3RzID0gb2JqLmRpdi5jaGlsZE5vZGVzKSAmJiAocmVjdHMgPSByZWN0c1swXSkgJiZcbiAgICAgICAgICAgICAgICAgIHJlY3RzLmdldENsaWVudFJlY3RzICYmIHJlY3RzLmdldENsaWVudFJlY3RzKCk7XG4gICAgICBvYmogPSBvYmouZGl2LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgLy8gSW4gY2VydGFpbiBjYXNlcyB0aGUgb3V0dGVyIGRpdiB3aWxsIGJlIHNsaWdodGx5IGxhcmdlciB0aGVuIHRoZSBzdW0gb2ZcbiAgICAgIC8vIHRoZSBpbm5lciBkaXYncyBsaW5lcy4gVGhpcyBjb3VsZCBiZSBkdWUgdG8gYm9sZCB0ZXh0LCBldGMsIG9uIHNvbWUgcGxhdGZvcm1zLlxuICAgICAgLy8gSW4gdGhpcyBjYXNlIHdlIHNob3VsZCBnZXQgdGhlIGF2ZXJhZ2UgbGluZSBoZWlnaHQgYW5kIHVzZSB0aGF0LiBUaGlzIHdpbGxcbiAgICAgIC8vIHJlc3VsdCBpbiB0aGUgZGVzaXJlZCBiZWhhdmlvdXIuXG4gICAgICBsaCA9IHJlY3RzID8gTWF0aC5tYXgoKHJlY3RzWzBdICYmIHJlY3RzWzBdLmhlaWdodCkgfHwgMCwgb2JqLmhlaWdodCAvIHJlY3RzLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgOiAwO1xuXG4gICAgfVxuICAgIHRoaXMubGVmdCA9IG9iai5sZWZ0O1xuICAgIHRoaXMucmlnaHQgPSBvYmoucmlnaHQ7XG4gICAgdGhpcy50b3AgPSBvYmoudG9wIHx8IHRvcDtcbiAgICB0aGlzLmhlaWdodCA9IG9iai5oZWlnaHQgfHwgaGVpZ2h0O1xuICAgIHRoaXMuYm90dG9tID0gb2JqLmJvdHRvbSB8fCAodG9wICsgKG9iai5oZWlnaHQgfHwgaGVpZ2h0KSk7XG4gICAgdGhpcy53aWR0aCA9IG9iai53aWR0aCB8fCB3aWR0aDtcbiAgICB0aGlzLmxpbmVIZWlnaHQgPSBsaCAhPT0gdW5kZWZpbmVkID8gbGggOiBvYmoubGluZUhlaWdodDtcblxuICAgIGlmIChpc0lFOCAmJiAhdGhpcy5saW5lSGVpZ2h0KSB7XG4gICAgICB0aGlzLmxpbmVIZWlnaHQgPSAxMztcbiAgICB9XG4gIH1cblxuICAvLyBNb3ZlIHRoZSBib3ggYWxvbmcgYSBwYXJ0aWN1bGFyIGF4aXMuIE9wdGlvbmFsbHkgcGFzcyBpbiBhbiBhbW91bnQgdG8gbW92ZVxuICAvLyB0aGUgYm94LiBJZiBubyBhbW91bnQgaXMgcGFzc2VkIHRoZW4gdGhlIGRlZmF1bHQgaXMgdGhlIGxpbmUgaGVpZ2h0IG9mIHRoZVxuICAvLyBib3guXG4gIEJveFBvc2l0aW9uLnByb3RvdHlwZS5tb3ZlID0gZnVuY3Rpb24oYXhpcywgdG9Nb3ZlKSB7XG4gICAgdG9Nb3ZlID0gdG9Nb3ZlICE9PSB1bmRlZmluZWQgPyB0b01vdmUgOiB0aGlzLmxpbmVIZWlnaHQ7XG4gICAgc3dpdGNoIChheGlzKSB7XG4gICAgY2FzZSBcIit4XCI6XG4gICAgICB0aGlzLmxlZnQgKz0gdG9Nb3ZlO1xuICAgICAgdGhpcy5yaWdodCArPSB0b01vdmU7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiLXhcIjpcbiAgICAgIHRoaXMubGVmdCAtPSB0b01vdmU7XG4gICAgICB0aGlzLnJpZ2h0IC09IHRvTW92ZTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCIreVwiOlxuICAgICAgdGhpcy50b3AgKz0gdG9Nb3ZlO1xuICAgICAgdGhpcy5ib3R0b20gKz0gdG9Nb3ZlO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIi15XCI6XG4gICAgICB0aGlzLnRvcCAtPSB0b01vdmU7XG4gICAgICB0aGlzLmJvdHRvbSAtPSB0b01vdmU7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH07XG5cbiAgLy8gQ2hlY2sgaWYgdGhpcyBib3ggb3ZlcmxhcHMgYW5vdGhlciBib3gsIGIyLlxuICBCb3hQb3NpdGlvbi5wcm90b3R5cGUub3ZlcmxhcHMgPSBmdW5jdGlvbihiMikge1xuICAgIHJldHVybiB0aGlzLmxlZnQgPCBiMi5yaWdodCAmJlxuICAgICAgICAgICB0aGlzLnJpZ2h0ID4gYjIubGVmdCAmJlxuICAgICAgICAgICB0aGlzLnRvcCA8IGIyLmJvdHRvbSAmJlxuICAgICAgICAgICB0aGlzLmJvdHRvbSA+IGIyLnRvcDtcbiAgfTtcblxuICAvLyBDaGVjayBpZiB0aGlzIGJveCBvdmVybGFwcyBhbnkgb3RoZXIgYm94ZXMgaW4gYm94ZXMuXG4gIEJveFBvc2l0aW9uLnByb3RvdHlwZS5vdmVybGFwc0FueSA9IGZ1bmN0aW9uKGJveGVzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib3hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMub3ZlcmxhcHMoYm94ZXNbaV0pKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgLy8gQ2hlY2sgaWYgdGhpcyBib3ggaXMgd2l0aGluIGFub3RoZXIgYm94LlxuICBCb3hQb3NpdGlvbi5wcm90b3R5cGUud2l0aGluID0gZnVuY3Rpb24oY29udGFpbmVyKSB7XG4gICAgcmV0dXJuIHRoaXMudG9wID49IGNvbnRhaW5lci50b3AgJiZcbiAgICAgICAgICAgdGhpcy5ib3R0b20gPD0gY29udGFpbmVyLmJvdHRvbSAmJlxuICAgICAgICAgICB0aGlzLmxlZnQgPj0gY29udGFpbmVyLmxlZnQgJiZcbiAgICAgICAgICAgdGhpcy5yaWdodCA8PSBjb250YWluZXIucmlnaHQ7XG4gIH07XG5cbiAgLy8gQ2hlY2sgaWYgdGhpcyBib3ggaXMgZW50aXJlbHkgd2l0aGluIHRoZSBjb250YWluZXIgb3IgaXQgaXMgb3ZlcmxhcHBpbmdcbiAgLy8gb24gdGhlIGVkZ2Ugb3Bwb3NpdGUgb2YgdGhlIGF4aXMgZGlyZWN0aW9uIHBhc3NlZC4gRm9yIGV4YW1wbGUsIGlmIFwiK3hcIiBpc1xuICAvLyBwYXNzZWQgYW5kIHRoZSBib3ggaXMgb3ZlcmxhcHBpbmcgb24gdGhlIGxlZnQgZWRnZSBvZiB0aGUgY29udGFpbmVyLCB0aGVuXG4gIC8vIHJldHVybiB0cnVlLlxuICBCb3hQb3NpdGlvbi5wcm90b3R5cGUub3ZlcmxhcHNPcHBvc2l0ZUF4aXMgPSBmdW5jdGlvbihjb250YWluZXIsIGF4aXMpIHtcbiAgICBzd2l0Y2ggKGF4aXMpIHtcbiAgICBjYXNlIFwiK3hcIjpcbiAgICAgIHJldHVybiB0aGlzLmxlZnQgPCBjb250YWluZXIubGVmdDtcbiAgICBjYXNlIFwiLXhcIjpcbiAgICAgIHJldHVybiB0aGlzLnJpZ2h0ID4gY29udGFpbmVyLnJpZ2h0O1xuICAgIGNhc2UgXCIreVwiOlxuICAgICAgcmV0dXJuIHRoaXMudG9wIDwgY29udGFpbmVyLnRvcDtcbiAgICBjYXNlIFwiLXlcIjpcbiAgICAgIHJldHVybiB0aGlzLmJvdHRvbSA+IGNvbnRhaW5lci5ib3R0b207XG4gICAgfVxuICB9O1xuXG4gIC8vIEZpbmQgdGhlIHBlcmNlbnRhZ2Ugb2YgdGhlIGFyZWEgdGhhdCB0aGlzIGJveCBpcyBvdmVybGFwcGluZyB3aXRoIGFub3RoZXJcbiAgLy8gYm94LlxuICBCb3hQb3NpdGlvbi5wcm90b3R5cGUuaW50ZXJzZWN0UGVyY2VudGFnZSA9IGZ1bmN0aW9uKGIyKSB7XG4gICAgdmFyIHggPSBNYXRoLm1heCgwLCBNYXRoLm1pbih0aGlzLnJpZ2h0LCBiMi5yaWdodCkgLSBNYXRoLm1heCh0aGlzLmxlZnQsIGIyLmxlZnQpKSxcbiAgICAgICAgeSA9IE1hdGgubWF4KDAsIE1hdGgubWluKHRoaXMuYm90dG9tLCBiMi5ib3R0b20pIC0gTWF0aC5tYXgodGhpcy50b3AsIGIyLnRvcCkpLFxuICAgICAgICBpbnRlcnNlY3RBcmVhID0geCAqIHk7XG4gICAgcmV0dXJuIGludGVyc2VjdEFyZWEgLyAodGhpcy5oZWlnaHQgKiB0aGlzLndpZHRoKTtcbiAgfTtcblxuICAvLyBDb252ZXJ0IHRoZSBwb3NpdGlvbnMgZnJvbSB0aGlzIGJveCB0byBDU1MgY29tcGF0aWJsZSBwb3NpdGlvbnMgdXNpbmdcbiAgLy8gdGhlIHJlZmVyZW5jZSBjb250YWluZXIncyBwb3NpdGlvbnMuIFRoaXMgaGFzIHRvIGJlIGRvbmUgYmVjYXVzZSB0aGlzXG4gIC8vIGJveCdzIHBvc2l0aW9ucyBhcmUgaW4gcmVmZXJlbmNlIHRvIHRoZSB2aWV3cG9ydCBvcmlnaW4sIHdoZXJlYXMsIENTU1xuICAvLyB2YWx1ZXMgYXJlIGluIHJlZmVyZWNuZSB0byB0aGVpciByZXNwZWN0aXZlIGVkZ2VzLlxuICBCb3hQb3NpdGlvbi5wcm90b3R5cGUudG9DU1NDb21wYXRWYWx1ZXMgPSBmdW5jdGlvbihyZWZlcmVuY2UpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdG9wOiB0aGlzLnRvcCAtIHJlZmVyZW5jZS50b3AsXG4gICAgICBib3R0b206IHJlZmVyZW5jZS5ib3R0b20gLSB0aGlzLmJvdHRvbSxcbiAgICAgIGxlZnQ6IHRoaXMubGVmdCAtIHJlZmVyZW5jZS5sZWZ0LFxuICAgICAgcmlnaHQ6IHJlZmVyZW5jZS5yaWdodCAtIHRoaXMucmlnaHQsXG4gICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxuICAgICAgd2lkdGg6IHRoaXMud2lkdGhcbiAgICB9O1xuICB9O1xuXG4gIC8vIEdldCBhbiBvYmplY3QgdGhhdCByZXByZXNlbnRzIHRoZSBib3gncyBwb3NpdGlvbiB3aXRob3V0IGFueXRoaW5nIGV4dHJhLlxuICAvLyBDYW4gcGFzcyBhIFN0eWxlQm94LCBIVE1MRWxlbWVudCwgb3IgYW5vdGhlciBCb3hQb3NpdG9uLlxuICBCb3hQb3NpdGlvbi5nZXRTaW1wbGVCb3hQb3NpdGlvbiA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBoZWlnaHQgPSBvYmouZGl2ID8gb2JqLmRpdi5vZmZzZXRIZWlnaHQgOiBvYmoudGFnTmFtZSA/IG9iai5vZmZzZXRIZWlnaHQgOiAwO1xuICAgIHZhciB3aWR0aCA9IG9iai5kaXYgPyBvYmouZGl2Lm9mZnNldFdpZHRoIDogb2JqLnRhZ05hbWUgPyBvYmoub2Zmc2V0V2lkdGggOiAwO1xuICAgIHZhciB0b3AgPSBvYmouZGl2ID8gb2JqLmRpdi5vZmZzZXRUb3AgOiBvYmoudGFnTmFtZSA/IG9iai5vZmZzZXRUb3AgOiAwO1xuXG4gICAgb2JqID0gb2JqLmRpdiA/IG9iai5kaXYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgOlxuICAgICAgICAgICAgICAgICAgb2JqLnRhZ05hbWUgPyBvYmouZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgOiBvYmo7XG4gICAgdmFyIHJldCA9IHtcbiAgICAgIGxlZnQ6IG9iai5sZWZ0LFxuICAgICAgcmlnaHQ6IG9iai5yaWdodCxcbiAgICAgIHRvcDogb2JqLnRvcCB8fCB0b3AsXG4gICAgICBoZWlnaHQ6IG9iai5oZWlnaHQgfHwgaGVpZ2h0LFxuICAgICAgYm90dG9tOiBvYmouYm90dG9tIHx8ICh0b3AgKyAob2JqLmhlaWdodCB8fCBoZWlnaHQpKSxcbiAgICAgIHdpZHRoOiBvYmoud2lkdGggfHwgd2lkdGhcbiAgICB9O1xuICAgIHJldHVybiByZXQ7XG4gIH07XG5cbiAgLy8gTW92ZSBhIFN0eWxlQm94IHRvIGl0cyBzcGVjaWZpZWQsIG9yIG5leHQgYmVzdCwgcG9zaXRpb24uIFRoZSBjb250YWluZXJCb3hcbiAgLy8gaXMgdGhlIGJveCB0aGF0IGNvbnRhaW5zIHRoZSBTdHlsZUJveCwgc3VjaCBhcyBhIGRpdi4gYm94UG9zaXRpb25zIGFyZVxuICAvLyBhIGxpc3Qgb2Ygb3RoZXIgYm94ZXMgdGhhdCB0aGUgc3R5bGVCb3ggY2FuJ3Qgb3ZlcmxhcCB3aXRoLlxuICBmdW5jdGlvbiBtb3ZlQm94VG9MaW5lUG9zaXRpb24od2luZG93LCBzdHlsZUJveCwgY29udGFpbmVyQm94LCBib3hQb3NpdGlvbnMpIHtcblxuICAgIC8vIEZpbmQgdGhlIGJlc3QgcG9zaXRpb24gZm9yIGEgY3VlIGJveCwgYiwgb24gdGhlIHZpZGVvLiBUaGUgYXhpcyBwYXJhbWV0ZXJcbiAgICAvLyBpcyBhIGxpc3Qgb2YgYXhpcywgdGhlIG9yZGVyIG9mIHdoaWNoLCBpdCB3aWxsIG1vdmUgdGhlIGJveCBhbG9uZy4gRm9yIGV4YW1wbGU6XG4gICAgLy8gUGFzc2luZyBbXCIreFwiLCBcIi14XCJdIHdpbGwgbW92ZSB0aGUgYm94IGZpcnN0IGFsb25nIHRoZSB4IGF4aXMgaW4gdGhlIHBvc2l0aXZlXG4gICAgLy8gZGlyZWN0aW9uLiBJZiBpdCBkb2Vzbid0IGZpbmQgYSBnb29kIHBvc2l0aW9uIGZvciBpdCB0aGVyZSBpdCB3aWxsIHRoZW4gbW92ZVxuICAgIC8vIGl0IGFsb25nIHRoZSB4IGF4aXMgaW4gdGhlIG5lZ2F0aXZlIGRpcmVjdGlvbi5cbiAgICBmdW5jdGlvbiBmaW5kQmVzdFBvc2l0aW9uKGIsIGF4aXMpIHtcbiAgICAgIHZhciBiZXN0UG9zaXRpb24sXG4gICAgICAgICAgc3BlY2lmaWVkUG9zaXRpb24gPSBuZXcgQm94UG9zaXRpb24oYiksXG4gICAgICAgICAgcGVyY2VudGFnZSA9IDE7IC8vIEhpZ2hlc3QgcG9zc2libGUgc28gdGhlIGZpcnN0IHRoaW5nIHdlIGdldCBpcyBiZXR0ZXIuXG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB3aGlsZSAoYi5vdmVybGFwc09wcG9zaXRlQXhpcyhjb250YWluZXJCb3gsIGF4aXNbaV0pIHx8XG4gICAgICAgICAgICAgICAoYi53aXRoaW4oY29udGFpbmVyQm94KSAmJiBiLm92ZXJsYXBzQW55KGJveFBvc2l0aW9ucykpKSB7XG4gICAgICAgICAgYi5tb3ZlKGF4aXNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlIGZvdW5kIGEgc3BvdCB3aGVyZSB3ZSBhcmVuJ3Qgb3ZlcmxhcHBpbmcgYW55dGhpbmcuIFRoaXMgaXMgb3VyXG4gICAgICAgIC8vIGJlc3QgcG9zaXRpb24uXG4gICAgICAgIGlmIChiLndpdGhpbihjb250YWluZXJCb3gpKSB7XG4gICAgICAgICAgcmV0dXJuIGI7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHAgPSBiLmludGVyc2VjdFBlcmNlbnRhZ2UoY29udGFpbmVyQm94KTtcbiAgICAgICAgLy8gSWYgd2UncmUgb3V0c2lkZSB0aGUgY29udGFpbmVyIGJveCBsZXNzIHRoZW4gd2Ugd2VyZSBvbiBvdXIgbGFzdCB0cnlcbiAgICAgICAgLy8gdGhlbiByZW1lbWJlciB0aGlzIHBvc2l0aW9uIGFzIHRoZSBiZXN0IHBvc2l0aW9uLlxuICAgICAgICBpZiAocGVyY2VudGFnZSA+IHApIHtcbiAgICAgICAgICBiZXN0UG9zaXRpb24gPSBuZXcgQm94UG9zaXRpb24oYik7XG4gICAgICAgICAgcGVyY2VudGFnZSA9IHA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVzZXQgdGhlIGJveCBwb3NpdGlvbiB0byB0aGUgc3BlY2lmaWVkIHBvc2l0aW9uLlxuICAgICAgICBiID0gbmV3IEJveFBvc2l0aW9uKHNwZWNpZmllZFBvc2l0aW9uKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiZXN0UG9zaXRpb24gfHwgc3BlY2lmaWVkUG9zaXRpb247XG4gICAgfVxuXG4gICAgdmFyIGJveFBvc2l0aW9uID0gbmV3IEJveFBvc2l0aW9uKHN0eWxlQm94KSxcbiAgICAgICAgY3VlID0gc3R5bGVCb3guY3VlLFxuICAgICAgICBsaW5lUG9zID0gY29tcHV0ZUxpbmVQb3MoY3VlKSxcbiAgICAgICAgYXhpcyA9IFtdO1xuXG4gICAgLy8gSWYgd2UgaGF2ZSBhIGxpbmUgbnVtYmVyIHRvIGFsaWduIHRoZSBjdWUgdG8uXG4gICAgaWYgKGN1ZS5zbmFwVG9MaW5lcykge1xuICAgICAgdmFyIHNpemU7XG4gICAgICBzd2l0Y2ggKGN1ZS52ZXJ0aWNhbCkge1xuICAgICAgY2FzZSBcIlwiOlxuICAgICAgICBheGlzID0gWyBcIit5XCIsIFwiLXlcIiBdO1xuICAgICAgICBzaXplID0gXCJoZWlnaHRcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicmxcIjpcbiAgICAgICAgYXhpcyA9IFsgXCIreFwiLCBcIi14XCIgXTtcbiAgICAgICAgc2l6ZSA9IFwid2lkdGhcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwibHJcIjpcbiAgICAgICAgYXhpcyA9IFsgXCIteFwiLCBcIit4XCIgXTtcbiAgICAgICAgc2l6ZSA9IFwid2lkdGhcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIHZhciBzdGVwID0gYm94UG9zaXRpb24ubGluZUhlaWdodCxcbiAgICAgICAgICBwb3NpdGlvbiA9IHN0ZXAgKiBNYXRoLnJvdW5kKGxpbmVQb3MpLFxuICAgICAgICAgIG1heFBvc2l0aW9uID0gY29udGFpbmVyQm94W3NpemVdICsgc3RlcCxcbiAgICAgICAgICBpbml0aWFsQXhpcyA9IGF4aXNbMF07XG5cbiAgICAgIC8vIElmIHRoZSBzcGVjaWZpZWQgaW50aWFsIHBvc2l0aW9uIGlzIGdyZWF0ZXIgdGhlbiB0aGUgbWF4IHBvc2l0aW9uIHRoZW5cbiAgICAgIC8vIGNsYW1wIHRoZSBib3ggdG8gdGhlIGFtb3VudCBvZiBzdGVwcyBpdCB3b3VsZCB0YWtlIGZvciB0aGUgYm94IHRvXG4gICAgICAvLyByZWFjaCB0aGUgbWF4IHBvc2l0aW9uLlxuICAgICAgaWYgKE1hdGguYWJzKHBvc2l0aW9uKSA+IG1heFBvc2l0aW9uKSB7XG4gICAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gPCAwID8gLTEgOiAxO1xuICAgICAgICBwb3NpdGlvbiAqPSBNYXRoLmNlaWwobWF4UG9zaXRpb24gLyBzdGVwKSAqIHN0ZXA7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIGNvbXB1dGVkIGxpbmUgcG9zaXRpb24gcmV0dXJucyBuZWdhdGl2ZSB0aGVuIGxpbmUgbnVtYmVycyBhcmVcbiAgICAgIC8vIHJlbGF0aXZlIHRvIHRoZSBib3R0b20gb2YgdGhlIHZpZGVvIGluc3RlYWQgb2YgdGhlIHRvcC4gVGhlcmVmb3JlLCB3ZVxuICAgICAgLy8gbmVlZCB0byBpbmNyZWFzZSBvdXIgaW5pdGlhbCBwb3NpdGlvbiBieSB0aGUgbGVuZ3RoIG9yIHdpZHRoIG9mIHRoZVxuICAgICAgLy8gdmlkZW8sIGRlcGVuZGluZyBvbiB0aGUgd3JpdGluZyBkaXJlY3Rpb24sIGFuZCByZXZlcnNlIG91ciBheGlzIGRpcmVjdGlvbnMuXG4gICAgICBpZiAobGluZVBvcyA8IDApIHtcbiAgICAgICAgcG9zaXRpb24gKz0gY3VlLnZlcnRpY2FsID09PSBcIlwiID8gY29udGFpbmVyQm94LmhlaWdodCA6IGNvbnRhaW5lckJveC53aWR0aDtcbiAgICAgICAgYXhpcyA9IGF4aXMucmV2ZXJzZSgpO1xuICAgICAgfVxuXG4gICAgICAvLyBNb3ZlIHRoZSBib3ggdG8gdGhlIHNwZWNpZmllZCBwb3NpdGlvbi4gVGhpcyBtYXkgbm90IGJlIGl0cyBiZXN0XG4gICAgICAvLyBwb3NpdGlvbi5cbiAgICAgIGJveFBvc2l0aW9uLm1vdmUoaW5pdGlhbEF4aXMsIHBvc2l0aW9uKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJZiB3ZSBoYXZlIGEgcGVyY2VudGFnZSBsaW5lIHZhbHVlIGZvciB0aGUgY3VlLlxuICAgICAgdmFyIGNhbGN1bGF0ZWRQZXJjZW50YWdlID0gKGJveFBvc2l0aW9uLmxpbmVIZWlnaHQgLyBjb250YWluZXJCb3guaGVpZ2h0KSAqIDEwMDtcblxuICAgICAgc3dpdGNoIChjdWUubGluZUFsaWduKSB7XG4gICAgICBjYXNlIFwibWlkZGxlXCI6XG4gICAgICAgIGxpbmVQb3MgLT0gKGNhbGN1bGF0ZWRQZXJjZW50YWdlIC8gMik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICBsaW5lUG9zIC09IGNhbGN1bGF0ZWRQZXJjZW50YWdlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgLy8gQXBwbHkgaW5pdGlhbCBsaW5lIHBvc2l0aW9uIHRvIHRoZSBjdWUgYm94LlxuICAgICAgc3dpdGNoIChjdWUudmVydGljYWwpIHtcbiAgICAgIGNhc2UgXCJcIjpcbiAgICAgICAgc3R5bGVCb3guYXBwbHlTdHlsZXMoe1xuICAgICAgICAgIHRvcDogc3R5bGVCb3guZm9ybWF0U3R5bGUobGluZVBvcywgXCIlXCIpXG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJybFwiOlxuICAgICAgICBzdHlsZUJveC5hcHBseVN0eWxlcyh7XG4gICAgICAgICAgbGVmdDogc3R5bGVCb3guZm9ybWF0U3R5bGUobGluZVBvcywgXCIlXCIpXG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJsclwiOlxuICAgICAgICBzdHlsZUJveC5hcHBseVN0eWxlcyh7XG4gICAgICAgICAgcmlnaHQ6IHN0eWxlQm94LmZvcm1hdFN0eWxlKGxpbmVQb3MsIFwiJVwiKVxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGF4aXMgPSBbIFwiK3lcIiwgXCIteFwiLCBcIit4XCIsIFwiLXlcIiBdO1xuXG4gICAgICAvLyBHZXQgdGhlIGJveCBwb3NpdGlvbiBhZ2FpbiBhZnRlciB3ZSd2ZSBhcHBsaWVkIHRoZSBzcGVjaWZpZWQgcG9zaXRpb25pbmdcbiAgICAgIC8vIHRvIGl0LlxuICAgICAgYm94UG9zaXRpb24gPSBuZXcgQm94UG9zaXRpb24oc3R5bGVCb3gpO1xuICAgIH1cblxuICAgIHZhciBiZXN0UG9zaXRpb24gPSBmaW5kQmVzdFBvc2l0aW9uKGJveFBvc2l0aW9uLCBheGlzKTtcbiAgICBzdHlsZUJveC5tb3ZlKGJlc3RQb3NpdGlvbi50b0NTU0NvbXBhdFZhbHVlcyhjb250YWluZXJCb3gpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIFdlYlZUVCgpIHtcbiAgICAvLyBOb3RoaW5nXG4gIH1cblxuICAvLyBIZWxwZXIgdG8gYWxsb3cgc3RyaW5ncyB0byBiZSBkZWNvZGVkIGluc3RlYWQgb2YgdGhlIGRlZmF1bHQgYmluYXJ5IHV0ZjggZGF0YS5cbiAgV2ViVlRULlN0cmluZ0RlY29kZXIgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZGVjb2RlOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycm9yIC0gZXhwZWN0ZWQgc3RyaW5nIGRhdGEuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoZW5jb2RlVVJJQ29tcG9uZW50KGRhdGEpKTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIFdlYlZUVC5jb252ZXJ0Q3VlVG9ET01UcmVlID0gZnVuY3Rpb24od2luZG93LCBjdWV0ZXh0KSB7XG4gICAgaWYgKCF3aW5kb3cgfHwgIWN1ZXRleHQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2VDb250ZW50KHdpbmRvdywgY3VldGV4dCk7XG4gIH07XG5cbiAgdmFyIEZPTlRfU0laRV9QRVJDRU5UID0gMC4wNTtcbiAgdmFyIEZPTlRfU1RZTEUgPSBcInNhbnMtc2VyaWZcIjtcbiAgdmFyIENVRV9CQUNLR1JPVU5EX1BBRERJTkcgPSBcIjEuNSVcIjtcblxuICAvLyBSdW5zIHRoZSBwcm9jZXNzaW5nIG1vZGVsIG92ZXIgdGhlIGN1ZXMgYW5kIHJlZ2lvbnMgcGFzc2VkIHRvIGl0LlxuICAvLyBAcGFyYW0gb3ZlcmxheSBBIGJsb2NrIGxldmVsIGVsZW1lbnQgKHVzdWFsbHkgYSBkaXYpIHRoYXQgdGhlIGNvbXB1dGVkIGN1ZXNcbiAgLy8gICAgICAgICAgICAgICAgYW5kIHJlZ2lvbnMgd2lsbCBiZSBwbGFjZWQgaW50by5cbiAgV2ViVlRULnByb2Nlc3NDdWVzID0gZnVuY3Rpb24od2luZG93LCBjdWVzLCBvdmVybGF5KSB7XG4gICAgaWYgKCF3aW5kb3cgfHwgIWN1ZXMgfHwgIW92ZXJsYXkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIFJlbW92ZSBhbGwgcHJldmlvdXMgY2hpbGRyZW4uXG4gICAgd2hpbGUgKG92ZXJsYXkuZmlyc3RDaGlsZCkge1xuICAgICAgb3ZlcmxheS5yZW1vdmVDaGlsZChvdmVybGF5LmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHZhciBwYWRkZWRPdmVybGF5ID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgcGFkZGVkT3ZlcmxheS5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICBwYWRkZWRPdmVybGF5LnN0eWxlLmxlZnQgPSBcIjBcIjtcbiAgICBwYWRkZWRPdmVybGF5LnN0eWxlLnJpZ2h0ID0gXCIwXCI7XG4gICAgcGFkZGVkT3ZlcmxheS5zdHlsZS50b3AgPSBcIjBcIjtcbiAgICBwYWRkZWRPdmVybGF5LnN0eWxlLmJvdHRvbSA9IFwiMFwiO1xuICAgIHBhZGRlZE92ZXJsYXkuc3R5bGUubWFyZ2luID0gQ1VFX0JBQ0tHUk9VTkRfUEFERElORztcbiAgICBvdmVybGF5LmFwcGVuZENoaWxkKHBhZGRlZE92ZXJsYXkpO1xuXG4gICAgLy8gRGV0ZXJtaW5lIGlmIHdlIG5lZWQgdG8gY29tcHV0ZSB0aGUgZGlzcGxheSBzdGF0ZXMgb2YgdGhlIGN1ZXMuIFRoaXMgY291bGRcbiAgICAvLyBiZSB0aGUgY2FzZSBpZiBhIGN1ZSdzIHN0YXRlIGhhcyBiZWVuIGNoYW5nZWQgc2luY2UgdGhlIGxhc3QgY29tcHV0YXRpb24gb3JcbiAgICAvLyBpZiBpdCBoYXMgbm90IGJlZW4gY29tcHV0ZWQgeWV0LlxuICAgIGZ1bmN0aW9uIHNob3VsZENvbXB1dGUoY3Vlcykge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChjdWVzW2ldLmhhc0JlZW5SZXNldCB8fCAhY3Vlc1tpXS5kaXNwbGF5U3RhdGUpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIFdlIGRvbid0IG5lZWQgdG8gcmVjb21wdXRlIHRoZSBjdWVzJyBkaXNwbGF5IHN0YXRlcy4gSnVzdCByZXVzZSB0aGVtLlxuICAgIGlmICghc2hvdWxkQ29tcHV0ZShjdWVzKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHBhZGRlZE92ZXJsYXkuYXBwZW5kQ2hpbGQoY3Vlc1tpXS5kaXNwbGF5U3RhdGUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBib3hQb3NpdGlvbnMgPSBbXSxcbiAgICAgICAgY29udGFpbmVyQm94ID0gQm94UG9zaXRpb24uZ2V0U2ltcGxlQm94UG9zaXRpb24ocGFkZGVkT3ZlcmxheSksXG4gICAgICAgIGZvbnRTaXplID0gTWF0aC5yb3VuZChjb250YWluZXJCb3guaGVpZ2h0ICogRk9OVF9TSVpFX1BFUkNFTlQgKiAxMDApIC8gMTAwO1xuICAgIHZhciBzdHlsZU9wdGlvbnMgPSB7XG4gICAgICBmb250OiAoZm9udFNpemUgKiBmb250U2NhbGUpICsgXCJweCBcIiArIEZPTlRfU1RZTEVcbiAgICB9O1xuXG4gICAgKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHN0eWxlQm94LCBjdWU7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3Vlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjdWUgPSBjdWVzW2ldO1xuXG4gICAgICAgIC8vIENvbXB1dGUgdGhlIGludGlhbCBwb3NpdGlvbiBhbmQgc3R5bGVzIG9mIHRoZSBjdWUgZGl2LlxuICAgICAgICBzdHlsZUJveCA9IG5ldyBDdWVTdHlsZUJveCh3aW5kb3csIGN1ZSwgc3R5bGVPcHRpb25zKTtcbiAgICAgICAgcGFkZGVkT3ZlcmxheS5hcHBlbmRDaGlsZChzdHlsZUJveC5kaXYpO1xuXG4gICAgICAgIC8vIE1vdmUgdGhlIGN1ZSBkaXYgdG8gaXQncyBjb3JyZWN0IGxpbmUgcG9zaXRpb24uXG4gICAgICAgIG1vdmVCb3hUb0xpbmVQb3NpdGlvbih3aW5kb3csIHN0eWxlQm94LCBjb250YWluZXJCb3gsIGJveFBvc2l0aW9ucyk7XG5cbiAgICAgICAgLy8gUmVtZW1iZXIgdGhlIGNvbXB1dGVkIGRpdiBzbyB0aGF0IHdlIGRvbid0IGhhdmUgdG8gcmVjb21wdXRlIGl0IGxhdGVyXG4gICAgICAgIC8vIGlmIHdlIGRvbid0IGhhdmUgdG9vLlxuICAgICAgICBjdWUuZGlzcGxheVN0YXRlID0gc3R5bGVCb3guZGl2O1xuXG4gICAgICAgIGJveFBvc2l0aW9ucy5wdXNoKEJveFBvc2l0aW9uLmdldFNpbXBsZUJveFBvc2l0aW9uKHN0eWxlQm94KSk7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgfTtcblxuICBXZWJWVFQuUGFyc2VyID0gZnVuY3Rpb24od2luZG93LCBkZWNvZGVyKSB7XG4gICAgdGhpcy53aW5kb3cgPSB3aW5kb3c7XG4gICAgdGhpcy5zdGF0ZSA9IFwiSU5JVElBTFwiO1xuICAgIHRoaXMuYnVmZmVyID0gXCJcIjtcbiAgICB0aGlzLmRlY29kZXIgPSBkZWNvZGVyIHx8IG5ldyBUZXh0RGVjb2RlcihcInV0ZjhcIik7XG4gICAgdGhpcy5yZWdpb25MaXN0ID0gW107XG4gIH07XG5cbiAgV2ViVlRULlBhcnNlci5wcm90b3R5cGUgPSB7XG4gICAgLy8gSWYgdGhlIGVycm9yIGlzIGEgUGFyc2luZ0Vycm9yIHRoZW4gcmVwb3J0IGl0IHRvIHRoZSBjb25zdW1lciBpZlxuICAgIC8vIHBvc3NpYmxlLiBJZiBpdCdzIG5vdCBhIFBhcnNpbmdFcnJvciB0aGVuIHRocm93IGl0IGxpa2Ugbm9ybWFsLlxuICAgIHJlcG9ydE9yVGhyb3dFcnJvcjogZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKGUgaW5zdGFuY2VvZiBQYXJzaW5nRXJyb3IpIHtcbiAgICAgICAgdGhpcy5vbnBhcnNpbmdlcnJvciAmJiB0aGlzLm9ucGFyc2luZ2Vycm9yKGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHBhcnNlOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAvLyBJZiB0aGVyZSBpcyBubyBkYXRhIHRoZW4gd2Ugd29uJ3QgZGVjb2RlIGl0LCBidXQgd2lsbCBqdXN0IHRyeSB0byBwYXJzZVxuICAgICAgLy8gd2hhdGV2ZXIgaXMgaW4gYnVmZmVyIGFscmVhZHkuIFRoaXMgbWF5IG9jY3VyIGluIGNpcmN1bXN0YW5jZXMsIGZvclxuICAgICAgLy8gZXhhbXBsZSB3aGVuIGZsdXNoKCkgaXMgY2FsbGVkLlxuICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgLy8gVHJ5IHRvIGRlY29kZSB0aGUgZGF0YSB0aGF0IHdlIHJlY2VpdmVkLlxuICAgICAgICBzZWxmLmJ1ZmZlciArPSBzZWxmLmRlY29kZXIuZGVjb2RlKGRhdGEsIHtzdHJlYW06IHRydWV9KTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY29sbGVjdE5leHRMaW5lKCkge1xuICAgICAgICB2YXIgYnVmZmVyID0gc2VsZi5idWZmZXI7XG4gICAgICAgIHZhciBwb3MgPSAwO1xuICAgICAgICB3aGlsZSAocG9zIDwgYnVmZmVyLmxlbmd0aCAmJiBidWZmZXJbcG9zXSAhPT0gJ1xccicgJiYgYnVmZmVyW3Bvc10gIT09ICdcXG4nKSB7XG4gICAgICAgICAgKytwb3M7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxpbmUgPSBidWZmZXIuc3Vic3RyKDAsIHBvcyk7XG4gICAgICAgIC8vIEFkdmFuY2UgdGhlIGJ1ZmZlciBlYXJseSBpbiBjYXNlIHdlIGZhaWwgYmVsb3cuXG4gICAgICAgIGlmIChidWZmZXJbcG9zXSA9PT0gJ1xccicpIHtcbiAgICAgICAgICArK3BvcztcbiAgICAgICAgfVxuICAgICAgICBpZiAoYnVmZmVyW3Bvc10gPT09ICdcXG4nKSB7XG4gICAgICAgICAgKytwb3M7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5idWZmZXIgPSBidWZmZXIuc3Vic3RyKHBvcyk7XG4gICAgICAgIHJldHVybiBsaW5lO1xuICAgICAgfVxuXG4gICAgICAvLyAzLjQgV2ViVlRUIHJlZ2lvbiBhbmQgV2ViVlRUIHJlZ2lvbiBzZXR0aW5ncyBzeW50YXhcbiAgICAgIGZ1bmN0aW9uIHBhcnNlUmVnaW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBzZXR0aW5ncyA9IG5ldyBTZXR0aW5ncygpO1xuXG4gICAgICAgIHBhcnNlT3B0aW9ucyhpbnB1dCwgZnVuY3Rpb24gKGssIHYpIHtcbiAgICAgICAgICBzd2l0Y2ggKGspIHtcbiAgICAgICAgICBjYXNlIFwiaWRcIjpcbiAgICAgICAgICAgIHNldHRpbmdzLnNldChrLCB2KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJ3aWR0aFwiOlxuICAgICAgICAgICAgc2V0dGluZ3MucGVyY2VudChrLCB2KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJsaW5lc1wiOlxuICAgICAgICAgICAgc2V0dGluZ3MuaW50ZWdlcihrLCB2KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJyZWdpb25hbmNob3JcIjpcbiAgICAgICAgICBjYXNlIFwidmlld3BvcnRhbmNob3JcIjpcbiAgICAgICAgICAgIHZhciB4eSA9IHYuc3BsaXQoJywnKTtcbiAgICAgICAgICAgIGlmICh4eS5sZW5ndGggIT09IDIpIHtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBXZSBoYXZlIHRvIG1ha2Ugc3VyZSBib3RoIHggYW5kIHkgcGFyc2UsIHNvIHVzZSBhIHRlbXBvcmFyeVxuICAgICAgICAgICAgLy8gc2V0dGluZ3Mgb2JqZWN0IGhlcmUuXG4gICAgICAgICAgICB2YXIgYW5jaG9yID0gbmV3IFNldHRpbmdzKCk7XG4gICAgICAgICAgICBhbmNob3IucGVyY2VudChcInhcIiwgeHlbMF0pO1xuICAgICAgICAgICAgYW5jaG9yLnBlcmNlbnQoXCJ5XCIsIHh5WzFdKTtcbiAgICAgICAgICAgIGlmICghYW5jaG9yLmhhcyhcInhcIikgfHwgIWFuY2hvci5oYXMoXCJ5XCIpKSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0dGluZ3Muc2V0KGsgKyBcIlhcIiwgYW5jaG9yLmdldChcInhcIikpO1xuICAgICAgICAgICAgc2V0dGluZ3Muc2V0KGsgKyBcIllcIiwgYW5jaG9yLmdldChcInlcIikpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInNjcm9sbFwiOlxuICAgICAgICAgICAgc2V0dGluZ3MuYWx0KGssIHYsIFtcInVwXCJdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgLz0vLCAvXFxzLyk7XG5cbiAgICAgICAgLy8gQ3JlYXRlIHRoZSByZWdpb24sIHVzaW5nIGRlZmF1bHQgdmFsdWVzIGZvciBhbnkgdmFsdWVzIHRoYXQgd2VyZSBub3RcbiAgICAgICAgLy8gc3BlY2lmaWVkLlxuICAgICAgICBpZiAoc2V0dGluZ3MuaGFzKFwiaWRcIikpIHtcbiAgICAgICAgICB2YXIgcmVnaW9uID0gbmV3IHNlbGYud2luZG93LlZUVFJlZ2lvbigpO1xuICAgICAgICAgIHJlZ2lvbi53aWR0aCA9IHNldHRpbmdzLmdldChcIndpZHRoXCIsIDEwMCk7XG4gICAgICAgICAgcmVnaW9uLmxpbmVzID0gc2V0dGluZ3MuZ2V0KFwibGluZXNcIiwgMyk7XG4gICAgICAgICAgcmVnaW9uLnJlZ2lvbkFuY2hvclggPSBzZXR0aW5ncy5nZXQoXCJyZWdpb25hbmNob3JYXCIsIDApO1xuICAgICAgICAgIHJlZ2lvbi5yZWdpb25BbmNob3JZID0gc2V0dGluZ3MuZ2V0KFwicmVnaW9uYW5jaG9yWVwiLCAxMDApO1xuICAgICAgICAgIHJlZ2lvbi52aWV3cG9ydEFuY2hvclggPSBzZXR0aW5ncy5nZXQoXCJ2aWV3cG9ydGFuY2hvclhcIiwgMCk7XG4gICAgICAgICAgcmVnaW9uLnZpZXdwb3J0QW5jaG9yWSA9IHNldHRpbmdzLmdldChcInZpZXdwb3J0YW5jaG9yWVwiLCAxMDApO1xuICAgICAgICAgIHJlZ2lvbi5zY3JvbGwgPSBzZXR0aW5ncy5nZXQoXCJzY3JvbGxcIiwgXCJcIik7XG4gICAgICAgICAgLy8gUmVnaXN0ZXIgdGhlIHJlZ2lvbi5cbiAgICAgICAgICBzZWxmLm9ucmVnaW9uICYmIHNlbGYub25yZWdpb24ocmVnaW9uKTtcbiAgICAgICAgICAvLyBSZW1lbWJlciB0aGUgVlRUUmVnaW9uIGZvciBsYXRlciBpbiBjYXNlIHdlIHBhcnNlIGFueSBWVFRDdWVzIHRoYXRcbiAgICAgICAgICAvLyByZWZlcmVuY2UgaXQuXG4gICAgICAgICAgc2VsZi5yZWdpb25MaXN0LnB1c2goe1xuICAgICAgICAgICAgaWQ6IHNldHRpbmdzLmdldChcImlkXCIpLFxuICAgICAgICAgICAgcmVnaW9uOiByZWdpb25cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyAzLjIgV2ViVlRUIG1ldGFkYXRhIGhlYWRlciBzeW50YXhcbiAgICAgIGZ1bmN0aW9uIHBhcnNlSGVhZGVyKGlucHV0KSB7XG4gICAgICAgIHBhcnNlT3B0aW9ucyhpbnB1dCwgZnVuY3Rpb24gKGssIHYpIHtcbiAgICAgICAgICBzd2l0Y2ggKGspIHtcbiAgICAgICAgICBjYXNlIFwiUmVnaW9uXCI6XG4gICAgICAgICAgICAvLyAzLjMgV2ViVlRUIHJlZ2lvbiBtZXRhZGF0YSBoZWFkZXIgc3ludGF4XG4gICAgICAgICAgICBwYXJzZVJlZ2lvbih2KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgLzovKTtcbiAgICAgIH1cblxuICAgICAgLy8gNS4xIFdlYlZUVCBmaWxlIHBhcnNpbmcuXG4gICAgICB0cnkge1xuICAgICAgICB2YXIgbGluZTtcbiAgICAgICAgaWYgKHNlbGYuc3RhdGUgPT09IFwiSU5JVElBTFwiKSB7XG4gICAgICAgICAgLy8gV2UgY2FuJ3Qgc3RhcnQgcGFyc2luZyB1bnRpbCB3ZSBoYXZlIHRoZSBmaXJzdCBsaW5lLlxuICAgICAgICAgIGlmICghL1xcclxcbnxcXG4vLnRlc3Qoc2VsZi5idWZmZXIpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsaW5lID0gY29sbGVjdE5leHRMaW5lKCk7XG5cbiAgICAgICAgICB2YXIgbSA9IGxpbmUubWF0Y2goL15XRUJWVFQoWyBcXHRdLiopPyQvKTtcbiAgICAgICAgICBpZiAoIW0gfHwgIW1bMF0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBQYXJzaW5nRXJyb3IoUGFyc2luZ0Vycm9yLkVycm9ycy5CYWRTaWduYXR1cmUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGYuc3RhdGUgPSBcIkhFQURFUlwiO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFscmVhZHlDb2xsZWN0ZWRMaW5lID0gZmFsc2U7XG4gICAgICAgIHdoaWxlIChzZWxmLmJ1ZmZlcikge1xuICAgICAgICAgIC8vIFdlIGNhbid0IHBhcnNlIGEgbGluZSB1bnRpbCB3ZSBoYXZlIHRoZSBmdWxsIGxpbmUuXG4gICAgICAgICAgaWYgKCEvXFxyXFxufFxcbi8udGVzdChzZWxmLmJ1ZmZlcikpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghYWxyZWFkeUNvbGxlY3RlZExpbmUpIHtcbiAgICAgICAgICAgIGxpbmUgPSBjb2xsZWN0TmV4dExpbmUoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWxyZWFkeUNvbGxlY3RlZExpbmUgPSBmYWxzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzd2l0Y2ggKHNlbGYuc3RhdGUpIHtcbiAgICAgICAgICBjYXNlIFwiSEVBREVSXCI6XG4gICAgICAgICAgICAvLyAxMy0xOCAtIEFsbG93IGEgaGVhZGVyIChtZXRhZGF0YSkgdW5kZXIgdGhlIFdFQlZUVCBsaW5lLlxuICAgICAgICAgICAgaWYgKC86Ly50ZXN0KGxpbmUpKSB7XG4gICAgICAgICAgICAgIHBhcnNlSGVhZGVyKGxpbmUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghbGluZSkge1xuICAgICAgICAgICAgICAvLyBBbiBlbXB0eSBsaW5lIHRlcm1pbmF0ZXMgdGhlIGhlYWRlciBhbmQgc3RhcnRzIHRoZSBib2R5IChjdWVzKS5cbiAgICAgICAgICAgICAgc2VsZi5zdGF0ZSA9IFwiSURcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIGNhc2UgXCJOT1RFXCI6XG4gICAgICAgICAgICAvLyBJZ25vcmUgTk9URSBibG9ja3MuXG4gICAgICAgICAgICBpZiAoIWxpbmUpIHtcbiAgICAgICAgICAgICAgc2VsZi5zdGF0ZSA9IFwiSURcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIGNhc2UgXCJJRFwiOlxuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHRoZSBzdGFydCBvZiBOT1RFIGJsb2Nrcy5cbiAgICAgICAgICAgIGlmICgvXk5PVEUoJHxbIFxcdF0pLy50ZXN0KGxpbmUpKSB7XG4gICAgICAgICAgICAgIHNlbGYuc3RhdGUgPSBcIk5PVEVcIjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAxOS0yOSAtIEFsbG93IGFueSBudW1iZXIgb2YgbGluZSB0ZXJtaW5hdG9ycywgdGhlbiBpbml0aWFsaXplIG5ldyBjdWUgdmFsdWVzLlxuICAgICAgICAgICAgaWYgKCFsaW5lKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZi5jdWUgPSBuZXcgc2VsZi53aW5kb3cuVlRUQ3VlKDAsIDAsIFwiXCIpO1xuICAgICAgICAgICAgc2VsZi5zdGF0ZSA9IFwiQ1VFXCI7XG4gICAgICAgICAgICAvLyAzMC0zOSAtIENoZWNrIGlmIHNlbGYgbGluZSBjb250YWlucyBhbiBvcHRpb25hbCBpZGVudGlmaWVyIG9yIHRpbWluZyBkYXRhLlxuICAgICAgICAgICAgaWYgKGxpbmUuaW5kZXhPZihcIi0tPlwiKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgc2VsZi5jdWUuaWQgPSBsaW5lO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFByb2Nlc3MgbGluZSBhcyBzdGFydCBvZiBhIGN1ZS5cbiAgICAgICAgICAgIC8qZmFsbHMgdGhyb3VnaCovXG4gICAgICAgICAgY2FzZSBcIkNVRVwiOlxuICAgICAgICAgICAgLy8gNDAgLSBDb2xsZWN0IGN1ZSB0aW1pbmdzIGFuZCBzZXR0aW5ncy5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHBhcnNlQ3VlKGxpbmUsIHNlbGYuY3VlLCBzZWxmLnJlZ2lvbkxpc3QpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICBzZWxmLnJlcG9ydE9yVGhyb3dFcnJvcihlKTtcbiAgICAgICAgICAgICAgLy8gSW4gY2FzZSBvZiBhbiBlcnJvciBpZ25vcmUgcmVzdCBvZiB0aGUgY3VlLlxuICAgICAgICAgICAgICBzZWxmLmN1ZSA9IG51bGw7XG4gICAgICAgICAgICAgIHNlbGYuc3RhdGUgPSBcIkJBRENVRVwiO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbGYuc3RhdGUgPSBcIkNVRVRFWFRcIjtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIGNhc2UgXCJDVUVURVhUXCI6XG4gICAgICAgICAgICB2YXIgaGFzU3Vic3RyaW5nID0gbGluZS5pbmRleE9mKFwiLS0+XCIpICE9PSAtMTtcbiAgICAgICAgICAgIC8vIDM0IC0gSWYgd2UgaGF2ZSBhbiBlbXB0eSBsaW5lIHRoZW4gcmVwb3J0IHRoZSBjdWUuXG4gICAgICAgICAgICAvLyAzNSAtIElmIHdlIGhhdmUgdGhlIHNwZWNpYWwgc3Vic3RyaW5nICctLT4nIHRoZW4gcmVwb3J0IHRoZSBjdWUsXG4gICAgICAgICAgICAvLyBidXQgZG8gbm90IGNvbGxlY3QgdGhlIGxpbmUgYXMgd2UgbmVlZCB0byBwcm9jZXNzIHRoZSBjdXJyZW50XG4gICAgICAgICAgICAvLyBvbmUgYXMgYSBuZXcgY3VlLlxuICAgICAgICAgICAgaWYgKCFsaW5lIHx8IGhhc1N1YnN0cmluZyAmJiAoYWxyZWFkeUNvbGxlY3RlZExpbmUgPSB0cnVlKSkge1xuICAgICAgICAgICAgICAvLyBXZSBhcmUgZG9uZSBwYXJzaW5nIHNlbGYgY3VlLlxuICAgICAgICAgICAgICBzZWxmLm9uY3VlICYmIHNlbGYub25jdWUoc2VsZi5jdWUpO1xuICAgICAgICAgICAgICBzZWxmLmN1ZSA9IG51bGw7XG4gICAgICAgICAgICAgIHNlbGYuc3RhdGUgPSBcIklEXCI7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNlbGYuY3VlLnRleHQpIHtcbiAgICAgICAgICAgICAgc2VsZi5jdWUudGV4dCArPSBcIlxcblwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZi5jdWUudGV4dCArPSBsaW5lO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgY2FzZSBcIkJBRENVRVwiOiAvLyBCQURDVUVcbiAgICAgICAgICAgIC8vIDU0LTYyIC0gQ29sbGVjdCBhbmQgZGlzY2FyZCB0aGUgcmVtYWluaW5nIGN1ZS5cbiAgICAgICAgICAgIGlmICghbGluZSkge1xuICAgICAgICAgICAgICBzZWxmLnN0YXRlID0gXCJJRFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHNlbGYucmVwb3J0T3JUaHJvd0Vycm9yKGUpO1xuXG4gICAgICAgIC8vIElmIHdlIGFyZSBjdXJyZW50bHkgcGFyc2luZyBhIGN1ZSwgcmVwb3J0IHdoYXQgd2UgaGF2ZS5cbiAgICAgICAgaWYgKHNlbGYuc3RhdGUgPT09IFwiQ1VFVEVYVFwiICYmIHNlbGYuY3VlICYmIHNlbGYub25jdWUpIHtcbiAgICAgICAgICBzZWxmLm9uY3VlKHNlbGYuY3VlKTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLmN1ZSA9IG51bGw7XG4gICAgICAgIC8vIEVudGVyIEJBRFdFQlZUVCBzdGF0ZSBpZiBoZWFkZXIgd2FzIG5vdCBwYXJzZWQgY29ycmVjdGx5IG90aGVyd2lzZVxuICAgICAgICAvLyBhbm90aGVyIGV4Y2VwdGlvbiBvY2N1cnJlZCBzbyBlbnRlciBCQURDVUUgc3RhdGUuXG4gICAgICAgIHNlbGYuc3RhdGUgPSBzZWxmLnN0YXRlID09PSBcIklOSVRJQUxcIiA/IFwiQkFEV0VCVlRUXCIgOiBcIkJBRENVRVwiO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBmbHVzaDogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gRmluaXNoIGRlY29kaW5nIHRoZSBzdHJlYW0uXG4gICAgICAgIHNlbGYuYnVmZmVyICs9IHNlbGYuZGVjb2Rlci5kZWNvZGUoKTtcbiAgICAgICAgLy8gU3ludGhlc2l6ZSB0aGUgZW5kIG9mIHRoZSBjdXJyZW50IGN1ZSBvciByZWdpb24uXG4gICAgICAgIGlmIChzZWxmLmN1ZSB8fCBzZWxmLnN0YXRlID09PSBcIkhFQURFUlwiKSB7XG4gICAgICAgICAgc2VsZi5idWZmZXIgKz0gXCJcXG5cXG5cIjtcbiAgICAgICAgICBzZWxmLnBhcnNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgd2UndmUgZmx1c2hlZCwgcGFyc2VkLCBhbmQgd2UncmUgc3RpbGwgb24gdGhlIElOSVRJQUwgc3RhdGUgdGhlblxuICAgICAgICAvLyB0aGF0IG1lYW5zIHdlIGRvbid0IGhhdmUgZW5vdWdoIG9mIHRoZSBzdHJlYW0gdG8gcGFyc2UgdGhlIGZpcnN0XG4gICAgICAgIC8vIGxpbmUuXG4gICAgICAgIGlmIChzZWxmLnN0YXRlID09PSBcIklOSVRJQUxcIikge1xuICAgICAgICAgIHRocm93IG5ldyBQYXJzaW5nRXJyb3IoUGFyc2luZ0Vycm9yLkVycm9ycy5CYWRTaWduYXR1cmUpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgc2VsZi5yZXBvcnRPclRocm93RXJyb3IoZSk7XG4gICAgICB9XG4gICAgICBzZWxmLm9uZmx1c2ggJiYgc2VsZi5vbmZsdXNoKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH07XG5cbiAgZ2xvYmFsLldlYlZUVCA9IFdlYlZUVDtcblxufSh0aGlzKSk7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIHZ0dC5qcyBDb250cmlidXRvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8vIElmIHdlJ3JlIGluIE5vZGUuanMgdGhlbiByZXF1aXJlIFZUVEN1ZSBzbyB3ZSBjYW4gZXh0ZW5kIGl0LCBvdGhlcndpc2UgYXNzdW1lXG4vLyBWVFRDdWUgaXMgb24gdGhlIGdsb2JhbC5cbmlmICh0eXBlb2YgbW9kdWxlICE9PSBcInVuZGVmaW5lZFwiICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gIHRoaXMuVlRUQ3VlID0gdGhpcy5WVFRDdWUgfHwgcmVxdWlyZShcIi4vdnR0Y3VlXCIpLlZUVEN1ZTtcbn1cblxuLy8gRXh0ZW5kIFZUVEN1ZSB3aXRoIG1ldGhvZHMgdG8gY29udmVydCB0byBKU09OLCBmcm9tIEpTT04sIGFuZCBjb25zdHJ1Y3QgYVxuLy8gVlRUQ3VlIGZyb20gYW4gb3B0aW9ucyBvYmplY3QuIFRoZSBwcmltYXJ5IHB1cnBvc2Ugb2YgdGhpcyBpcyBmb3IgdXNlIGluIHRoZVxuLy8gdnR0LmpzIHRlc3Qgc3VpdGUgKGZvciB0ZXN0aW5nIG9ubHkgcHJvcGVydGllcyB0aGF0IHdlIGNhcmUgYWJvdXQpLiBJdCdzIGFsc29cbi8vIHVzZWZ1bCBpZiB5b3UgbmVlZCB0byB3b3JrIHdpdGggVlRUQ3VlcyBpbiBKU09OIGZvcm1hdC5cbihmdW5jdGlvbihyb290KSB7XG5cbiAgcm9vdC5WVFRDdWUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjdWUgPSB7fSxcbiAgICAgICAgc2VsZiA9IHRoaXM7XG4gICAgLy8gRmlsdGVyIG91dCBnZXRDdWVBc0hUTUwgYXMgaXQncyBhIGZ1bmN0aW9uIGFuZCBoYXNCZWVuUmVzZXQgYW5kIGRpc3BsYXlTdGF0ZSBhc1xuICAgIC8vIHRoZXkncmUgb25seSB1c2VkIHdoZW4gcnVubmluZyB0aGUgcHJvY2Vzc2luZyBtb2RlbCBhbGdvcml0aG0uXG4gICAgT2JqZWN0LmtleXModGhpcykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgIGlmIChrZXkgIT09IFwiZ2V0Q3VlQXNIVE1MXCIgJiYga2V5ICE9PSBcImhhc0JlZW5SZXNldFwiICYmIGtleSAhPT0gXCJkaXNwbGF5U3RhdGVcIikge1xuICAgICAgICBjdWVba2V5XSA9IHNlbGZba2V5XTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gY3VlO1xuICB9O1xuXG4gIHJvb3QuVlRUQ3VlLmNyZWF0ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMuaGFzT3duUHJvcGVydHkoXCJzdGFydFRpbWVcIikgfHwgIW9wdGlvbnMuaGFzT3duUHJvcGVydHkoXCJlbmRUaW1lXCIpIHx8XG4gICAgICAgICFvcHRpb25zLmhhc093blByb3BlcnR5KFwidGV4dFwiKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IG11c3QgYXQgbGVhc3QgaGF2ZSBzdGFydCB0aW1lLCBlbmQgdGltZSwgYW5kIHRleHQuXCIpO1xuICAgIH1cbiAgICB2YXIgY3VlID0gbmV3IHJvb3QuVlRUQ3VlKG9wdGlvbnMuc3RhcnRUaW1lLCBvcHRpb25zLmVuZFRpbWUsIG9wdGlvbnMudGV4dCk7XG4gICAgZm9yICh2YXIga2V5IGluIG9wdGlvbnMpIHtcbiAgICAgIGlmIChjdWUuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICBjdWVba2V5XSA9IG9wdGlvbnNba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGN1ZTtcbiAgfTtcblxuICByb290LlZUVEN1ZS5mcm9tSlNPTiA9IGZ1bmN0aW9uKGpzb24pIHtcbiAgICByZXR1cm4gdGhpcy5jcmVhdGUoSlNPTi5wYXJzZShqc29uKSk7XG4gIH07XG5cbn0odGhpcykpO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMyB2dHQuanMgQ29udHJpYnV0b3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4oZnVuY3Rpb24ocm9vdCkge1xuXG4gIHZhciBhdXRvS2V5d29yZCA9IFwiYXV0b1wiO1xuICB2YXIgZGlyZWN0aW9uU2V0dGluZyA9IHtcbiAgICBcIlwiOiB0cnVlLFxuICAgIFwibHJcIjogdHJ1ZSxcbiAgICBcInJsXCI6IHRydWVcbiAgfTtcbiAgdmFyIGFsaWduU2V0dGluZyA9IHtcbiAgICBcInN0YXJ0XCI6IHRydWUsXG4gICAgXCJtaWRkbGVcIjogdHJ1ZSxcbiAgICBcImVuZFwiOiB0cnVlLFxuICAgIFwibGVmdFwiOiB0cnVlLFxuICAgIFwicmlnaHRcIjogdHJ1ZVxuICB9O1xuXG4gIGZ1bmN0aW9uIGZpbmREaXJlY3Rpb25TZXR0aW5nKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgZGlyID0gZGlyZWN0aW9uU2V0dGluZ1t2YWx1ZS50b0xvd2VyQ2FzZSgpXTtcbiAgICByZXR1cm4gZGlyID8gdmFsdWUudG9Mb3dlckNhc2UoKSA6IGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gZmluZEFsaWduU2V0dGluZyh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIGFsaWduID0gYWxpZ25TZXR0aW5nW3ZhbHVlLnRvTG93ZXJDYXNlKCldO1xuICAgIHJldHVybiBhbGlnbiA/IHZhbHVlLnRvTG93ZXJDYXNlKCkgOiBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGV4dGVuZChvYmopIHtcbiAgICB2YXIgaSA9IDE7XG4gICAgZm9yICg7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBjb2JqID0gYXJndW1lbnRzW2ldO1xuICAgICAgZm9yICh2YXIgcCBpbiBjb2JqKSB7XG4gICAgICAgIG9ialtwXSA9IGNvYmpbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIGZ1bmN0aW9uIFZUVEN1ZShzdGFydFRpbWUsIGVuZFRpbWUsIHRleHQpIHtcbiAgICB2YXIgY3VlID0gdGhpcztcbiAgICB2YXIgaXNJRTggPSAoL01TSUVcXHM4XFwuMC8pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgdmFyIGJhc2VPYmogPSB7fTtcblxuICAgIGlmIChpc0lFOCkge1xuICAgICAgY3VlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY3VzdG9tJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJhc2VPYmouZW51bWVyYWJsZSA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2hpbSBpbXBsZW1lbnRhdGlvbiBzcGVjaWZpYyBwcm9wZXJ0aWVzLiBUaGVzZSBwcm9wZXJ0aWVzIGFyZSBub3QgaW5cbiAgICAgKiB0aGUgc3BlYy5cbiAgICAgKi9cblxuICAgIC8vIExldHMgdXMga25vdyB3aGVuIHRoZSBWVFRDdWUncyBkYXRhIGhhcyBjaGFuZ2VkIGluIHN1Y2ggYSB3YXkgdGhhdCB3ZSBuZWVkXG4gICAgLy8gdG8gcmVjb21wdXRlIGl0cyBkaXNwbGF5IHN0YXRlLiBUaGlzIGxldHMgdXMgY29tcHV0ZSBpdHMgZGlzcGxheSBzdGF0ZVxuICAgIC8vIGxhemlseS5cbiAgICBjdWUuaGFzQmVlblJlc2V0ID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBWVFRDdWUgYW5kIFRleHRUcmFja0N1ZSBwcm9wZXJ0aWVzXG4gICAgICogaHR0cDovL2Rldi53My5vcmcvaHRtbDUvd2VidnR0LyN2dHRjdWUtaW50ZXJmYWNlXG4gICAgICovXG5cbiAgICB2YXIgX2lkID0gXCJcIjtcbiAgICB2YXIgX3BhdXNlT25FeGl0ID0gZmFsc2U7XG4gICAgdmFyIF9zdGFydFRpbWUgPSBzdGFydFRpbWU7XG4gICAgdmFyIF9lbmRUaW1lID0gZW5kVGltZTtcbiAgICB2YXIgX3RleHQgPSB0ZXh0O1xuICAgIHZhciBfcmVnaW9uID0gbnVsbDtcbiAgICB2YXIgX3ZlcnRpY2FsID0gXCJcIjtcbiAgICB2YXIgX3NuYXBUb0xpbmVzID0gdHJ1ZTtcbiAgICB2YXIgX2xpbmUgPSBcImF1dG9cIjtcbiAgICB2YXIgX2xpbmVBbGlnbiA9IFwic3RhcnRcIjtcbiAgICB2YXIgX3Bvc2l0aW9uID0gNTA7XG4gICAgdmFyIF9wb3NpdGlvbkFsaWduID0gXCJtaWRkbGVcIjtcbiAgICB2YXIgX3NpemUgPSA1MDtcbiAgICB2YXIgX2FsaWduID0gXCJtaWRkbGVcIjtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdWUsXG4gICAgICBcImlkXCIsIGV4dGVuZCh7fSwgYmFzZU9iaiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBfaWQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBfaWQgPSBcIlwiICsgdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0pKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdWUsXG4gICAgICBcInBhdXNlT25FeGl0XCIsIGV4dGVuZCh7fSwgYmFzZU9iaiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBfcGF1c2VPbkV4aXQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBfcGF1c2VPbkV4aXQgPSAhIXZhbHVlO1xuICAgICAgICB9XG4gICAgICB9KSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3VlLFxuICAgICAgXCJzdGFydFRpbWVcIiwgZXh0ZW5kKHt9LCBiYXNlT2JqLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIF9zdGFydFRpbWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3RhcnQgdGltZSBtdXN0IGJlIHNldCB0byBhIG51bWJlci5cIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIF9zdGFydFRpbWUgPSB2YWx1ZTtcbiAgICAgICAgICB0aGlzLmhhc0JlZW5SZXNldCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdWUsXG4gICAgICBcImVuZFRpbWVcIiwgZXh0ZW5kKHt9LCBiYXNlT2JqLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIF9lbmRUaW1lO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkVuZCB0aW1lIG11c3QgYmUgc2V0IHRvIGEgbnVtYmVyLlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgX2VuZFRpbWUgPSB2YWx1ZTtcbiAgICAgICAgICB0aGlzLmhhc0JlZW5SZXNldCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdWUsXG4gICAgICBcInRleHRcIiwgZXh0ZW5kKHt9LCBiYXNlT2JqLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIF90ZXh0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgX3RleHQgPSBcIlwiICsgdmFsdWU7XG4gICAgICAgICAgdGhpcy5oYXNCZWVuUmVzZXQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3VlLFxuICAgICAgXCJyZWdpb25cIiwgZXh0ZW5kKHt9LCBiYXNlT2JqLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIF9yZWdpb247XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBfcmVnaW9uID0gdmFsdWU7XG4gICAgICAgICAgdGhpcy5oYXNCZWVuUmVzZXQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3VlLFxuICAgICAgXCJ2ZXJ0aWNhbFwiLCBleHRlbmQoe30sIGJhc2VPYmosIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gX3ZlcnRpY2FsO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgdmFyIHNldHRpbmcgPSBmaW5kRGlyZWN0aW9uU2V0dGluZyh2YWx1ZSk7XG4gICAgICAgICAgLy8gSGF2ZSB0byBjaGVjayBmb3IgZmFsc2UgYmVjYXVzZSB0aGUgc2V0dGluZyBhbiBiZSBhbiBlbXB0eSBzdHJpbmcuXG4gICAgICAgICAgaWYgKHNldHRpbmcgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJBbiBpbnZhbGlkIG9yIGlsbGVnYWwgc3RyaW5nIHdhcyBzcGVjaWZpZWQuXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBfdmVydGljYWwgPSBzZXR0aW5nO1xuICAgICAgICAgIHRoaXMuaGFzQmVlblJlc2V0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSkpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN1ZSxcbiAgICAgIFwic25hcFRvTGluZXNcIiwgZXh0ZW5kKHt9LCBiYXNlT2JqLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIF9zbmFwVG9MaW5lcztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIF9zbmFwVG9MaW5lcyA9ICEhdmFsdWU7XG4gICAgICAgICAgdGhpcy5oYXNCZWVuUmVzZXQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3VlLFxuICAgICAgXCJsaW5lXCIsIGV4dGVuZCh7fSwgYmFzZU9iaiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBfbGluZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwibnVtYmVyXCIgJiYgdmFsdWUgIT09IGF1dG9LZXl3b3JkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJBbiBpbnZhbGlkIG51bWJlciBvciBpbGxlZ2FsIHN0cmluZyB3YXMgc3BlY2lmaWVkLlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgX2xpbmUgPSB2YWx1ZTtcbiAgICAgICAgICB0aGlzLmhhc0JlZW5SZXNldCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdWUsXG4gICAgICBcImxpbmVBbGlnblwiLCBleHRlbmQoe30sIGJhc2VPYmosIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gX2xpbmVBbGlnbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHZhciBzZXR0aW5nID0gZmluZEFsaWduU2V0dGluZyh2YWx1ZSk7XG4gICAgICAgICAgaWYgKCFzZXR0aW5nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJBbiBpbnZhbGlkIG9yIGlsbGVnYWwgc3RyaW5nIHdhcyBzcGVjaWZpZWQuXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBfbGluZUFsaWduID0gc2V0dGluZztcbiAgICAgICAgICB0aGlzLmhhc0JlZW5SZXNldCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdWUsXG4gICAgICBcInBvc2l0aW9uXCIsIGV4dGVuZCh7fSwgYmFzZU9iaiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBfcG9zaXRpb247XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBpZiAodmFsdWUgPCAwIHx8IHZhbHVlID4gMTAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQb3NpdGlvbiBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMTAwLlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgX3Bvc2l0aW9uID0gdmFsdWU7XG4gICAgICAgICAgdGhpcy5oYXNCZWVuUmVzZXQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3VlLFxuICAgICAgXCJwb3NpdGlvbkFsaWduXCIsIGV4dGVuZCh7fSwgYmFzZU9iaiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBfcG9zaXRpb25BbGlnbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHZhciBzZXR0aW5nID0gZmluZEFsaWduU2V0dGluZyh2YWx1ZSk7XG4gICAgICAgICAgaWYgKCFzZXR0aW5nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJBbiBpbnZhbGlkIG9yIGlsbGVnYWwgc3RyaW5nIHdhcyBzcGVjaWZpZWQuXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBfcG9zaXRpb25BbGlnbiA9IHNldHRpbmc7XG4gICAgICAgICAgdGhpcy5oYXNCZWVuUmVzZXQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3VlLFxuICAgICAgXCJzaXplXCIsIGV4dGVuZCh7fSwgYmFzZU9iaiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBfc2l6ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIGlmICh2YWx1ZSA8IDAgfHwgdmFsdWUgPiAxMDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNpemUgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDEwMC5cIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIF9zaXplID0gdmFsdWU7XG4gICAgICAgICAgdGhpcy5oYXNCZWVuUmVzZXQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3VlLFxuICAgICAgXCJhbGlnblwiLCBleHRlbmQoe30sIGJhc2VPYmosIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gX2FsaWduO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgdmFyIHNldHRpbmcgPSBmaW5kQWxpZ25TZXR0aW5nKHZhbHVlKTtcbiAgICAgICAgICBpZiAoIXNldHRpbmcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihcIkFuIGludmFsaWQgb3IgaWxsZWdhbCBzdHJpbmcgd2FzIHNwZWNpZmllZC5cIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIF9hbGlnbiA9IHNldHRpbmc7XG4gICAgICAgICAgdGhpcy5oYXNCZWVuUmVzZXQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KSk7XG5cbiAgICAvKipcbiAgICAgKiBPdGhlciA8dHJhY2s+IHNwZWMgZGVmaW5lZCBwcm9wZXJ0aWVzXG4gICAgICovXG5cbiAgICAvLyBodHRwOi8vd3d3LndoYXR3Zy5vcmcvc3BlY3Mvd2ViLWFwcHMvY3VycmVudC13b3JrL211bHRpcGFnZS90aGUtdmlkZW8tZWxlbWVudC5odG1sI3RleHQtdHJhY2stY3VlLWRpc3BsYXktc3RhdGVcbiAgICBjdWUuZGlzcGxheVN0YXRlID0gdW5kZWZpbmVkO1xuXG4gICAgaWYgKGlzSUU4KSB7XG4gICAgICByZXR1cm4gY3VlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBWVFRDdWUgbWV0aG9kc1xuICAgKi9cblxuICBWVFRDdWUucHJvdG90eXBlLmdldEN1ZUFzSFRNTCA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIEFzc3VtZSBXZWJWVFQuY29udmVydEN1ZVRvRE9NVHJlZSBpcyBvbiB0aGUgZ2xvYmFsLlxuICAgIHJldHVybiBXZWJWVFQuY29udmVydEN1ZVRvRE9NVHJlZSh3aW5kb3csIHRoaXMudGV4dCk7XG4gIH07XG5cbiAgcm9vdC5WVFRDdWUgPSByb290LlZUVEN1ZSB8fCBWVFRDdWU7XG59KHRoaXMpKTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMgdnR0LmpzIENvbnRyaWJ1dG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLy8gSWYgd2UncmUgaW4gTm9kZS5qcyB0aGVuIHJlcXVpcmUgVlRUUmVnaW9uIHNvIHdlIGNhbiBleHRlbmQgaXQsIG90aGVyd2lzZSBhc3N1bWVcbi8vIFZUVFJlZ2lvbiBpcyBvbiB0aGUgZ2xvYmFsLlxuaWYgKHR5cGVvZiBtb2R1bGUgIT09IFwidW5kZWZpbmVkXCIgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgdGhpcy5WVFRSZWdpb24gPSByZXF1aXJlKFwiLi92dHRyZWdpb25cIikuVlRUUmVnaW9uO1xufVxuXG4vLyBFeHRlbmQgVlRUUmVnaW9uIHdpdGggbWV0aG9kcyB0byBjb252ZXJ0IHRvIEpTT04sIGZyb20gSlNPTiwgYW5kIGNvbnN0cnVjdCBhXG4vLyBWVFRSZWdpb24gZnJvbSBhbiBvcHRpb25zIG9iamVjdC4gVGhlIHByaW1hcnkgcHVycG9zZSBvZiB0aGlzIGlzIGZvciB1c2UgaW4gdGhlXG4vLyB2dHQuanMgdGVzdCBzdWl0ZS4gSXQncyBhbHNvIHVzZWZ1bCBpZiB5b3UgbmVlZCB0byB3b3JrIHdpdGggVlRUUmVnaW9ucyBpblxuLy8gSlNPTiBmb3JtYXQuXG4oZnVuY3Rpb24ocm9vdCkge1xuXG4gIHJvb3QuVlRUUmVnaW9uLmNyZWF0ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICB2YXIgcmVnaW9uID0gbmV3IHJvb3QuVlRUUmVnaW9uKCk7XG4gICAgZm9yICh2YXIga2V5IGluIG9wdGlvbnMpIHtcbiAgICAgIGlmIChyZWdpb24uaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICByZWdpb25ba2V5XSA9IG9wdGlvbnNba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlZ2lvbjtcbiAgfTtcblxuICByb290LlZUVFJlZ2lvbi5mcm9tSlNPTiA9IGZ1bmN0aW9uKGpzb24pIHtcbiAgICByZXR1cm4gdGhpcy5jcmVhdGUoSlNPTi5wYXJzZShqc29uKSk7XG4gIH07XG5cbn0odGhpcykpO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMyB2dHQuanMgQ29udHJpYnV0b3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4oZnVuY3Rpb24ocm9vdCkge1xuXG4gIHZhciBzY3JvbGxTZXR0aW5nID0ge1xuICAgIFwiXCI6IHRydWUsXG4gICAgXCJ1cFwiOiB0cnVlXG4gIH07XG5cbiAgZnVuY3Rpb24gZmluZFNjcm9sbFNldHRpbmcodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciBzY3JvbGwgPSBzY3JvbGxTZXR0aW5nW3ZhbHVlLnRvTG93ZXJDYXNlKCldO1xuICAgIHJldHVybiBzY3JvbGwgPyB2YWx1ZS50b0xvd2VyQ2FzZSgpIDogZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBpc1ZhbGlkUGVyY2VudFZhbHVlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIiAmJiAodmFsdWUgPj0gMCAmJiB2YWx1ZSA8PSAxMDApO1xuICB9XG5cbiAgLy8gVlRUUmVnaW9uIHNoaW0gaHR0cDovL2Rldi53My5vcmcvaHRtbDUvd2VidnR0LyN2dHRyZWdpb24taW50ZXJmYWNlXG4gIGZ1bmN0aW9uIFZUVFJlZ2lvbigpIHtcbiAgICB2YXIgX3dpZHRoID0gMTAwO1xuICAgIHZhciBfbGluZXMgPSAzO1xuICAgIHZhciBfcmVnaW9uQW5jaG9yWCA9IDA7XG4gICAgdmFyIF9yZWdpb25BbmNob3JZID0gMTAwO1xuICAgIHZhciBfdmlld3BvcnRBbmNob3JYID0gMDtcbiAgICB2YXIgX3ZpZXdwb3J0QW5jaG9yWSA9IDEwMDtcbiAgICB2YXIgX3Njcm9sbCA9IFwiXCI7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XG4gICAgICBcIndpZHRoXCI6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gX3dpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgaWYgKCFpc1ZhbGlkUGVyY2VudFZhbHVlKHZhbHVlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiV2lkdGggbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDEwMC5cIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIF93aWR0aCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJsaW5lc1wiOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIF9saW5lcztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJMaW5lcyBtdXN0IGJlIHNldCB0byBhIG51bWJlci5cIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIF9saW5lcyA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJyZWdpb25BbmNob3JZXCI6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gX3JlZ2lvbkFuY2hvclk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBpZiAoIWlzVmFsaWRQZXJjZW50VmFsdWUodmFsdWUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZWdpb25BbmNob3JYIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAxMDAuXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBfcmVnaW9uQW5jaG9yWSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJyZWdpb25BbmNob3JYXCI6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gX3JlZ2lvbkFuY2hvclg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBpZighaXNWYWxpZFBlcmNlbnRWYWx1ZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlJlZ2lvbkFuY2hvclkgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDEwMC5cIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIF9yZWdpb25BbmNob3JYID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcInZpZXdwb3J0QW5jaG9yWVwiOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIF92aWV3cG9ydEFuY2hvclk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBpZiAoIWlzVmFsaWRQZXJjZW50VmFsdWUodmFsdWUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJWaWV3cG9ydEFuY2hvclkgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDEwMC5cIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIF92aWV3cG9ydEFuY2hvclkgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwidmlld3BvcnRBbmNob3JYXCI6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gX3ZpZXdwb3J0QW5jaG9yWDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIGlmICghaXNWYWxpZFBlcmNlbnRWYWx1ZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlZpZXdwb3J0QW5jaG9yWCBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMTAwLlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgX3ZpZXdwb3J0QW5jaG9yWCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJzY3JvbGxcIjoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBfc2Nyb2xsO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgdmFyIHNldHRpbmcgPSBmaW5kU2Nyb2xsU2V0dGluZyh2YWx1ZSk7XG4gICAgICAgICAgLy8gSGF2ZSB0byBjaGVjayBmb3IgZmFsc2UgYXMgYW4gZW1wdHkgc3RyaW5nIGlzIGEgbGVnYWwgdmFsdWUuXG4gICAgICAgICAgaWYgKHNldHRpbmcgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJBbiBpbnZhbGlkIG9yIGlsbGVnYWwgc3RyaW5nIHdhcyBzcGVjaWZpZWQuXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBfc2Nyb2xsID0gc2V0dGluZztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcm9vdC5WVFRSZWdpb24gPSByb290LlZUVFJlZ2lvbiB8fCBWVFRSZWdpb247XG59KHRoaXMpKTtcbiIsImV4cG9ydCBjbGFzcyBGYXZpY29uIHtcclxuICAgIGNvbnN0cnVjdG9yKGZhdmljb24pIHtcclxuICAgICAgICBsZXQgZXhpc3RpbmdGYXZpY29uID0gdGhpcy5nZXRFeGlzdGluZ0Zhdmljb24oKTtcclxuICAgICAgICBpZiAoIWV4aXN0aW5nRmF2aWNvbikge1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUgPSB0aGlzLmNyZWF0ZSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMub3JpZ2luYWxIcmVmID0gZXhpc3RpbmdGYXZpY29uLmhyZWY7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZSA9IGV4aXN0aW5nRmF2aWNvbjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXRFeGlzdGluZ0Zhdmljb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2xpbmtbcmVsPVwic2hvcnRjdXQgaWNvblwiXScpO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIGxldCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpO1xyXG4gICAgICAgIGxpbmsudHlwZSA9ICdpbWFnZS94LWljb24nO1xyXG4gICAgICAgIGxpbmsucmVsID0gJ3Nob3J0Y3V0IGljb24nO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0uYXBwZW5kQ2hpbGQobGluayk7XHJcbiAgICAgICAgcmV0dXJuIGxpbms7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKHVybCkge1xyXG4gICAgICAgIHRoaXMuaHJlZiA9IHVybDtcclxuICAgIH07XHJcblxyXG4gICAgcmVzdG9yZURlZmF1bHQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMub3JpZ2luYWxIcmVmKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKHRoaXMub3JpZ2luYWxIcmVmKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGhyZWYodXJsKSB7XHJcbiAgICAgICAgdGhpcy5ub2RlLmhyZWYgPSB1cmw7XHJcbiAgICB9XHJcbiAgICBnZXQgaHJlZigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ub2RlLmhyZWY7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHNpemUoc2l6ZSkge1xyXG4gICAgICAgIHRoaXMuc2l6ZV8gPSBzaXplO1xyXG4gICAgICAgIHRoaXMubm9kZS5zaXplcyA9IHNpemUgKyBcInhcIiArIHNpemU7XHJcbiAgICB9XHJcbiAgICBnZXQgc2l6ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zaXplXztcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBDYW52YXMge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xyXG4gICAgICAgIHRoaXMuY3R4XyA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICB9XHJcbiAgICBnZXQgbm9kZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXM7XHJcbiAgICB9XHJcbiAgICBnZXQgY3R4KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmN0eF87XHJcbiAgICB9XHJcbiAgICBnZXQgd2lkdGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubm9kZS53aWR0aDtcclxuICAgIH1cclxuICAgIHNldCB3aWR0aCh3aWR0aCkge1xyXG4gICAgICAgIHRoaXMubm9kZS53aWR0aCA9IHdpZHRoO1xyXG4gICAgfVxyXG4gICAgZ2V0IGhlaWdodCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ub2RlLndpZHRoO1xyXG4gICAgfVxyXG4gICAgc2V0IGhlaWdodChoZWlnaHQpIHtcclxuICAgICAgICB0aGlzLm5vZGUuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHtGYXZpY29ufSBmcm9tIFwiLi4vVXRpbC9GYXZpY29uXCI7XHJcbmltcG9ydCB7Q2FudmFzfSBmcm9tIFwiLi4vVXRpbC9DYW52YXNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBGYXZpZGVvIHtcclxuICAgIGNvbnN0cnVjdG9yKGlucHV0LCBtb2RlLCBmYXZpY29uU2l6ZSkge1xyXG4gICAgICAgIHRoaXMuaW5wdXQgPSBpbnB1dDtcclxuICAgICAgICB0aGlzLm1vZGUgPSBtb2RlO1xyXG4gICAgICAgIHRoaXMuZmF2aWNvbiA9IG5ldyBGYXZpY29uKCk7XHJcbiAgICAgICAgdGhpcy5mYXZpY29uLnNpemUgPSBmYXZpY29uU2l6ZTtcclxuICAgICAgICB0aGlzLmZhdmljb25DYW52YXMgPSBuZXcgQ2FudmFzKCk7XHJcbiAgICAgICAgdGhpcy52aWRlb0V2ZW50TGlzdGVuZXJzID0gW107XHJcbiAgICAgICAgdGhpcy5lbmFibGUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gZmV0Y2hlcyBhbmQgc2V0cyB0aGUgZnJhbWUgZm9yIHRoZSBjb25maWd1cmVkIEZhdmlkZW9Nb2RlLlxyXG4gICAgICovXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgbGV0IGZyYW1lVXJsID0gdGhpcy5tb2RlLmdldEZhdmljb25GcmFtZSh0aGlzLmlucHV0LCB0aGlzLmZhdmljb25DYW52YXMubm9kZSwgdGhpcy5mYXZpY29uQ2FudmFzLmN0eCwgdGhpcy5mYXZpY29uKTtcclxuICAgICAgICBpZiAoZnJhbWVVcmwpIHtcclxuICAgICAgICAgICAgdGhpcy5mYXZpY29uLnVwZGF0ZShmcmFtZVVybCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gcmVnaXN0ZXJzIHRoZSB1cGRhdGUgZXZlbnQgZm9yIHRoZSBjb25maWd1cmVkIEZhdmlkZW9Nb2RlLlxyXG4gICAgICovXHJcbiAgICBlbmFibGUoKSB7XHJcbiAgICAgICAgdGhpcy5tb2RlLnJlZ2lzdGVyVXBkYXRlRXZlbnQodGhpcyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBmdW5jdGlvbiB1bnJlZ2lzdGVycyB0aGUgdXBkYXRlIGV2ZW50IGZvciB0aGUgY29uZmlndXJlZCBGYXZpZGVvTW9kZS5cclxuICAgICAqL1xyXG4gICAgZGlzYWJsZSgpIHtcclxuICAgICAgICB0aGlzLnVucmVnaXN0ZXJWaWRlb0V2ZW50cygpO1xyXG4gICAgICAgIHRoaXMubW9kZS5kaXNhYmxlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHJlZ2lzdGVycyBhbmQgYXR0YWNoZXMgYSB2aWRlbyBldmVudCBoYW5kbGVyLlxyXG4gICAgICogQHBhcmFtIGV2ZW50XHJcbiAgICAgKiBAcGFyYW0gZnVuY1xyXG4gICAgICovXHJcbiAgICByZWdpc3RlclZpZGVvRXZlbnQoZXZlbnQsIGZ1bmMpIHtcclxuICAgICAgICB0aGlzLnZpZGVvRXZlbnRMaXN0ZW5lcnMucHVzaCh7ZXZlbnQ6IGV2ZW50LCBmdW5jOiBmdW5jfSk7XHJcbiAgICAgICAgdGhpcy5pbnB1dC52aWRlby5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBmdW5jKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gdW5yZWdpc3RlcnMgYWxsIHZpZGVvIGV2ZW50IGhhbmRsZXJzLlxyXG4gICAgICovXHJcbiAgICB1bnJlZ2lzdGVyVmlkZW9FdmVudHMoKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnZpZGVvRXZlbnRMaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IHZlbCA9IHRoaXMudmlkZW9FdmVudExpc3RlbmVyc1tpXTtcclxuICAgICAgICAgICAgdGhpcy5pbnB1dC52aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKHZlbC5ldmVudCwgdmVsLmZ1bmMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBGYXZpZGVvTW9kZSB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZnBzKSB7XHJcbiAgICAgICAgdGhpcy5mcHMgPSBmcHM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHJlZ2lzdGVycyB0aGUgdXBkYXRlIGV2ZW50IG9mIEZhdmlkZW9Nb2RlVmlkZW8uXHJcbiAgICAgKi9cclxuICAgIHJlZ2lzdGVyVXBkYXRlRXZlbnQoZmF2aWRlbykge1xyXG4gICAgICAgIGZhdmlkZW8ucmVnaXN0ZXJWaWRlb0V2ZW50KCdsb2FkZWRtZXRhZGF0YScsIHRoaXMubG9hZGVkbWV0YWRhdGFIYW5kbGVyLmJpbmQoZmF2aWRlbykpO1xyXG4gICAgICAgIGZhdmlkZW8ucmVnaXN0ZXJWaWRlb0V2ZW50KCdwYXVzZScsIHRoaXMucmVzdG9yZU9yaWdpbmFsRmF2aWNvbi5iaW5kKGZhdmlkZW8pKTtcclxuICAgICAgICBmYXZpZGVvLnJlZ2lzdGVyVmlkZW9FdmVudCgnZW5kZWQnLCB0aGlzLnJlc3RvcmVPcmlnaW5hbEZhdmljb24uYmluZChmYXZpZGVvKSk7XHJcbiAgICAgICAgaWYgKCF0aGlzLmZwcykge1xyXG4gICAgICAgICAgICBmYXZpZGVvLnJlZ2lzdGVyVmlkZW9FdmVudCgndGltZXVwZGF0ZScsIGZhdmlkZW8udXBkYXRlLmJpbmQoZmF2aWRlbykpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5pbnRlcnZhbCA9IHNldEludGVydmFsKGZhdmlkZW8udXBkYXRlLmJpbmQoZmF2aWRlbyksIDEwMDAvdGhpcy5mcHMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gcmVzdG9yZXMgdGhlIG9yaWdpbmFsIGZhdmljb24uXHJcbiAgICAgKi9cclxuICAgIHJlc3RvcmVPcmlnaW5hbEZhdmljb24oKSB7XHJcbiAgICAgICAgdGhpcy5mYXZpY29uLnJlc3RvcmVEZWZhdWx0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGV2ZW50IGhhbmRsZXIgdXBkYXRlcyB0aGUgZmF2aWNvbkNhbnZhcyB3aWR0aCBhbmQgaGVpZ2h0LFxyXG4gICAgICogYmVjYXVzZSB0aGUgdmlkZW8gd2lkdGggYW5kIGhlaWdodCBhcmUgbm93IGtub3duLlxyXG4gICAgICovXHJcbiAgICBsb2FkZWRtZXRhZGF0YUhhbmRsZXIoKSB7XHJcbiAgICAgICAgbGV0IGNhbnZhc1dpZHRoID0gdGhpcy5mYXZpY29uLnNpemUsIGNhbnZhc0hlaWdodCA9IHRoaXMuZmF2aWNvbi5zaXplO1xyXG4gICAgICAgIHRoaXMuZmF2aWNvbkNhbnZhcy53aWR0aCA9IGNhbnZhc1dpZHRoO1xyXG4gICAgICAgIHRoaXMuZmF2aWNvbkNhbnZhcy5oZWlnaHQgPSBjYW52YXNIZWlnaHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIGRpc2FibGUoKSB7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaW50ZXJ2YWwpO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCB7RmF2aWRlb01vZGV9IGZyb20gXCIuL0ZhdmlkZW9Nb2RlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVmlkZW9Nb2RlIGV4dGVuZHMgRmF2aWRlb01vZGUge1xyXG4gICAgY29uc3RydWN0b3IoZnBzLCByZXNwZWN0QXNwZWN0UmF0aW8pIHtcclxuICAgICAgICBzdXBlcihmcHMpO1xyXG4gICAgICAgIHRoaXMucmVzcGVjdEFzcGVjdFJhdGlvID0gcmVzcGVjdEFzcGVjdFJhdGlvO1xyXG4gICAgICAgIHRoaXMudmlkZW9JbkNhbnZhc1NldHRpbmdzID0ge1xyXG4gICAgICAgICAgICBkeDogMCwgZHk6IDAsIGRXaWR0aDogMCwgZEhlaWdodDogMFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgdG8gYmUgcmVuZGVyZWQgZnJhbWUgZm9yIFZpZGVvTW9kZS5cclxuICAgICAqIEBwYXJhbSB2aWRlb1xyXG4gICAgICogQHBhcmFtIGNhbnZhc1xyXG4gICAgICogQHBhcmFtIGNhbnZhc0N0eFxyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgZ2V0RmF2aWNvbkZyYW1lKGlucHV0LCBjYW52YXMsIGNhbnZhc0N0eCkge1xyXG4gICAgICAgIGlmICh0aGlzLnJlc3BlY3RBc3BlY3RSYXRpbykge1xyXG4gICAgICAgICAgICBjYW52YXNDdHguZHJhd0ltYWdlKGlucHV0LmdldFNvdXJjZSgpLCB0aGlzLnZpZGVvSW5DYW52YXNTZXR0aW5ncy5keCwgdGhpcy52aWRlb0luQ2FudmFzU2V0dGluZ3MuZHksIHRoaXMudmlkZW9JbkNhbnZhc1NldHRpbmdzLmRXaWR0aCwgdGhpcy52aWRlb0luQ2FudmFzU2V0dGluZ3MuZEhlaWdodCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY2FudmFzQ3R4LmRyYXdJbWFnZShpbnB1dC5nZXRTb3VyY2UoKSwgMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNhbnZhcy50b0RhdGFVUkwoKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIG1lYXN1cmVzIHRoZSBuZXcgdmlkZW8gcHJvZmlsZSBpbnNpZGUgb2YgdGhlIGZhdmljb24uXHJcbiAgICAgKiBAcGFyYW0gYTogbWF4KHZpZGVvV2lkdGgsIHZpZGVvSGVpZ2h0KVxyXG4gICAgICogQHBhcmFtIGI6IG1pbih2aWRlb1dpZHRoLCB2aWRlb0hlaWdodClcclxuICAgICAqIEBwYXJhbSBmbDogZmF2aWNvbiBsZW5ndGhcclxuICAgICAqIEByZXR1cm5zIHt7b2Zmc2V0OiBudW1iZXIsIHdpZHRoOiAqLCBoZWlnaHQ6IG51bWJlcn19XHJcbiAgICAgKi9cclxuICAgIGdldFZpZGVvSW5GYXZpY29uRml0KGEsIGIsIGZsKSB7XHJcbiAgICAgICAgbGV0IHggPSBhL2ZsO1xyXG4gICAgICAgIGxldCBhdl93ID0gZmw7XHJcbiAgICAgICAgbGV0IGF2X2ggPSBiL3g7XHJcbiAgICAgICAgbGV0IG9fdCA9IChmbC1hdl9oKS8yO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHdpZHRoOiBhdl93LFxyXG4gICAgICAgICAgICBoZWlnaHQ6IGF2X2gsXHJcbiAgICAgICAgICAgIG9mZnNldDogb190XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gY2hlY2tzIHRvIHdoYXQgdGhlIHZpZGVvIG5lZWRzIHRvIGJlIHNjYWxlZCB0byBmaXQgaW50byB0aGUgZmF2aWNvbixcclxuICAgICAqIGlmIHRoZSBhc3BlY3QgcmF0aW8gaXMgdG8gYmUgcmVzcGVjdGVkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB2aWRlb1xyXG4gICAgICogQHBhcmFtIGZhdmljb25TaXplXHJcbiAgICAgKi9cclxuICAgIGNhbGN1bGF0ZUFuZFNldFZpZGVvSW5DYW52YXNQcm9maWxlKHZpZGVvLCBmYXZpY29uU2l6ZSkge1xyXG4gICAgICAgIGxldCB2X3cgPSB2aWRlby52aWRlb1dpZHRoLCB2X2ggPSB2aWRlby52aWRlb0hlaWdodDtcclxuICAgICAgICBsZXQgdmlkZW9GaXQ7XHJcbiAgICAgICAgaWYgKHZfdyA+IHZfaCkge1xyXG4gICAgICAgICAgICB2aWRlb0ZpdCA9IHRoaXMuZ2V0VmlkZW9JbkZhdmljb25GaXQodl93LCB2X2gsIGZhdmljb25TaXplKTtcclxuICAgICAgICAgICAgdGhpcy52aWRlb0luQ2FudmFzU2V0dGluZ3MuZHggPSAwO1xyXG4gICAgICAgICAgICB0aGlzLnZpZGVvSW5DYW52YXNTZXR0aW5ncy5keSA9IHZpZGVvRml0Lm9mZnNldDtcclxuICAgICAgICAgICAgdGhpcy52aWRlb0luQ2FudmFzU2V0dGluZ3MuZFdpZHRoID0gdmlkZW9GaXQud2lkdGg7XHJcbiAgICAgICAgICAgIHRoaXMudmlkZW9JbkNhbnZhc1NldHRpbmdzLmRIZWlnaHQgPSB2aWRlb0ZpdC5oZWlnaHQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmlkZW9GaXQgPSB0aGlzLmdldFZpZGVvSW5GYXZpY29uRml0KHZfaCwgdl93LCBmYXZpY29uU2l6ZSk7XHJcbiAgICAgICAgICAgIHRoaXMudmlkZW9JbkNhbnZhc1NldHRpbmdzLmR4ID0gIHZpZGVvRml0Lm9mZnNldDtcclxuICAgICAgICAgICAgdGhpcy52aWRlb0luQ2FudmFzU2V0dGluZ3MuZHkgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLnZpZGVvSW5DYW52YXNTZXR0aW5ncy5kV2lkdGggPSB2aWRlb0ZpdC5oZWlnaHQ7XHJcbiAgICAgICAgICAgIHRoaXMudmlkZW9JbkNhbnZhc1NldHRpbmdzLmRIZWlnaHQgPSB2aWRlb0ZpdC53aWR0aDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBldmVudCBoYW5kbGVyIHVwZGF0ZXMgdGhlIGZhdmljb25DYW52YXMgd2lkdGggYW5kIGhlaWdodCxcclxuICAgICAqIGJlY2F1c2UgdGhlIHZpZGVvIHdpZHRoIGFuZCBoZWlnaHQgYXJlIG5vdyBrbm93bi5cclxuICAgICAqL1xyXG4gICAgbG9hZGVkbWV0YWRhdGFIYW5kbGVyKCkge1xyXG4gICAgICAgIGxldCBjYW52YXNXaWR0aCA9IDAsIGNhbnZhc0hlaWdodCA9IDA7XHJcbiAgICAgICAgaWYgKHRoaXMubW9kZS5yZXNwZWN0QXNwZWN0UmF0aW8pIHtcclxuICAgICAgICAgICAgdGhpcy5tb2RlLmNhbGN1bGF0ZUFuZFNldFZpZGVvSW5DYW52YXNQcm9maWxlKHRoaXMuaW5wdXQudmlkZW8sIHRoaXMuZmF2aWNvbi5zaXplKTtcclxuICAgICAgICAgICAgY2FudmFzV2lkdGggPSB0aGlzLmZhdmljb24uc2l6ZTtcclxuICAgICAgICAgICAgY2FudmFzSGVpZ2h0ID0gdGhpcy5mYXZpY29uLnNpemU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY2FudmFzV2lkdGggPSB0aGlzLmlucHV0LnZpZGVvLnZpZGVvV2lkdGg7XHJcbiAgICAgICAgICAgIGNhbnZhc0hlaWdodCA9IHRoaXMuaW5wdXQudmlkZW8udmlkZW9IZWlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZmF2aWNvbkNhbnZhcy53aWR0aCA9IGNhbnZhc1dpZHRoO1xyXG4gICAgICAgIHRoaXMuZmF2aWNvbkNhbnZhcy5oZWlnaHQgPSBjYW52YXNIZWlnaHQ7XHJcbiAgICB9O1xyXG5cclxufSIsInZhciBxdWFudGl6ZSA9IHJlcXVpcmUoJ3F1YW50aXplJyk7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29sb3Ige1xyXG4gICAgc3RhdGljIGdldEF2ZXJhZ2VDb2xvcihjYW52YXMsIGN0eCkge1xyXG4gICAgICAgIGxldCBpbWFnZURhdGEgPSBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCkuZGF0YTtcclxuICAgICAgICBsZXQgdG90YWxSZ2JhID0ge1xyXG4gICAgICAgICAgICByOiAwLCBnOiAwLCBiOiAwLCBhOiAwXHJcbiAgICAgICAgfTtcclxuICAgICAgICBsZXQgbmJPZlBpeGVscyA9IGltYWdlRGF0YS5sZW5ndGgvNDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGltYWdlRGF0YS5sZW5ndGg7IGkgKz0gNCkge1xyXG4gICAgICAgICAgICB0b3RhbFJnYmEuciA9IHRvdGFsUmdiYS5yICsgaW1hZ2VEYXRhW2ldO1xyXG4gICAgICAgICAgICB0b3RhbFJnYmEuZyA9IHRvdGFsUmdiYS5nICsgaW1hZ2VEYXRhW2krMV07XHJcbiAgICAgICAgICAgIHRvdGFsUmdiYS5iID0gdG90YWxSZ2JhLmIgKyBpbWFnZURhdGFbaSsyXTtcclxuICAgICAgICAgICAgdG90YWxSZ2JhLmEgPSB0b3RhbFJnYmEuYSArIGltYWdlRGF0YVtpKzNdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgYXZnUmdiYSA9IHtcclxuICAgICAgICAgICAgcjogdG90YWxSZ2JhLnIvbmJPZlBpeGVscyxcclxuICAgICAgICAgICAgZzogdG90YWxSZ2JhLmcvbmJPZlBpeGVscyxcclxuICAgICAgICAgICAgYjogdG90YWxSZ2JhLmIvbmJPZlBpeGVscyxcclxuICAgICAgICAgICAgYTogdG90YWxSZ2JhLmEvbmJPZlBpeGVsc1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIENvbG9yLmdldFJnYmFDc3NTdHJpbmcoYXZnUmdiYSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHN0YXRpYyBjcmVhdGVQaXhlbEFycmF5KGltZ0RhdGEsIHBpeGVsQ291bnQpIHtcclxuICAgICAgICBjb25zdCBwaXhlbHMgPSBpbWdEYXRhO1xyXG4gICAgICAgIGNvbnN0IHBpeGVsQXJyYXkgPSBbXTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIG9mZnNldCwgciwgZywgYiwgYTsgaSA8IHBpeGVsQ291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICBvZmZzZXQgPSBpICogNDtcclxuICAgICAgICAgICAgciA9IHBpeGVsc1tvZmZzZXQgKyAwXTtcclxuICAgICAgICAgICAgZyA9IHBpeGVsc1tvZmZzZXQgKyAxXTtcclxuICAgICAgICAgICAgYiA9IHBpeGVsc1tvZmZzZXQgKyAyXTtcclxuICAgICAgICAgICAgYSA9IHBpeGVsc1tvZmZzZXQgKyAzXTtcclxuXHJcbiAgICAgICAgICAgIC8vIElmIHBpeGVsIGlzIG1vc3RseSBvcGFxdWUgYW5kIG5vdCB3aGl0ZVxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGEgPT09ICd1bmRlZmluZWQnIHx8IGEgPj0gMTI1KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShyID4gMjUwICYmIGcgPiAyNTAgJiYgYiA+IDI1MCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBwaXhlbEFycmF5LnB1c2goW3IsIGcsIGJdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcGl4ZWxBcnJheTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0RG9taW5hbnRDb2xvcihjYW52YXMsIGNhbnZhc0N0eCkge1xyXG4gICAgICAgIGNvbnN0IGltYWdlRGF0YSAgPSBjYW52YXNDdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgY29uc3QgcGl4ZWxDb3VudCA9IGNhbnZhcy53aWR0aCAqIGNhbnZhcy5oZWlnaHQ7XHJcbiAgICAgICAgY29uc3QgcGl4ZWxBcnJheSA9IENvbG9yLmNyZWF0ZVBpeGVsQXJyYXkoaW1hZ2VEYXRhLmRhdGEsIHBpeGVsQ291bnQpO1xyXG4gICAgICAgIGNvbnN0IGNtYXAgICAgPSBxdWFudGl6ZShwaXhlbEFycmF5LCA0KTtcclxuICAgICAgICBjb25zdCBwYWxldHRlID0gY21hcD8gY21hcC5wYWxldHRlKCkgOiBudWxsO1xyXG4gICAgICAgIHJldHVybiBDb2xvci5nZXRSZ2JhQ3NzU3RyaW5nQnlBcnJheShwYWxldHRlWzBdKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0UmdiYUNzc1N0cmluZyhyZ2JhKSB7XHJcbiAgICAgICAgcmV0dXJuICdyZ2JhKCcrcmdiYS5yK1wiLFwiK3JnYmEuZytcIixcIityZ2JhLmIrXCIsXCIrcmdiYS5hK1wiKVwiO1xyXG4gICAgfTtcclxuXHJcbiAgICBzdGF0aWMgZ2V0UmdiYUNzc1N0cmluZ0J5QXJyYXkoYXJyKSB7XHJcbiAgICAgICAgcmV0dXJuICdyZ2JhKCcrYXJyWzBdK1wiLFwiK2FyclsxXStcIixcIithcnJbMl0rXCIsXCIrMjU1K1wiKVwiO1xyXG4gICAgfVxyXG5cclxuXHJcbn0iLCJpbXBvcnQge0ZhdmlkZW9Nb2RlfSBmcm9tIFwiLi9GYXZpZGVvTW9kZVwiO1xyXG5pbXBvcnQge0NvbG9yfSBmcm9tIFwiLi4vLi4vVXRpbC9Db2xvclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBsYXlJY29uTW9kZSBleHRlbmRzIEZhdmlkZW9Nb2RlIHtcclxuICAgIGNvbnN0cnVjdG9yKGZwcywgY29sb3JUeXBlKSB7XHJcbiAgICAgICAgc3VwZXIoZnBzKTtcclxuICAgICAgICB0aGlzLmNvbG9yVHlwZSA9IGNvbG9yVHlwZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgdG8gYmUgcmVuZGVyZWQgZnJhbWUgZm9yIEZhdmlkZW9Nb2RlVmlkZW8uXHJcbiAgICAgKiBAcGFyYW0gdmlkZW9cclxuICAgICAqIEBwYXJhbSBjYW52YXNcclxuICAgICAqIEBwYXJhbSBjYW52YXNDdHhcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIGdldEZhdmljb25GcmFtZShpbnB1dCwgY2FudmFzLCBjYW52YXNDdHgsIGZhdmljb24pIHtcclxuXHJcbiAgICAgICAgLy8gZHJhdyB2aWRlbyBmcmFtZSBvbiB0byBvcmlnaW5hbCBzaXplIGZhdmljb25DYW52YXNcclxuICAgICAgICBsZXQgY2FudmFzMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgICAgIGNhbnZhczIud2lkdGggPSBpbnB1dC52aWRlby52aWRlb1dpZHRoO1xyXG4gICAgICAgIGNhbnZhczIuaGVpZ2h0ID0gaW5wdXQudmlkZW8udmlkZW9IZWlnaHQ7XHJcbiAgICAgICAgbGV0IGNhbnZhc0N0eDIgPSBjYW52YXMyLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgY2FudmFzQ3R4Mi5kcmF3SW1hZ2UoaW5wdXQuZ2V0U291cmNlKCksIDAsIDAsIGNhbnZhczIud2lkdGgsIGNhbnZhczIuaGVpZ2h0KTtcclxuICAgICAgICBsZXQgcGl4ZWxDb2xvciA9IHRoaXMuZ2V0Q29sb3IoY2FudmFzMiwgY2FudmFzQ3R4Mik7XHJcblxyXG4gICAgICAgIC8vIHJlc2V0IGRyYXdpbmdcclxuICAgICAgICBjYW52YXNDdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcblxyXG4gICAgICAgIHRoaXMuZHJhd09iamVjdChwaXhlbENvbG9yLCBjYW52YXNDdHgsIGZhdmljb24uc2l6ZSk7XHJcblxyXG4gICAgICAgIHJldHVybiBjYW52YXMudG9EYXRhVVJMKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGdldENvbG9yKGNhbnZhcywgY3R4KSB7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLmNvbG9yVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiYXZlcmFnZVwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIENvbG9yLmdldEF2ZXJhZ2VDb2xvcihjYW52YXMsIGN0eCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImRvbWluYW50XCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQ29sb3IuZ2V0RG9taW5hbnRDb2xvcihjYW52YXMsIGN0eCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRyYXdPYmplY3QoY29sb3IsIGNhbnZhc0N0eCwgZmF2aWNvblNpemUpIHtcclxuICAgICAgICB0aGlzLmRyYXdQbGF5T2JqZWN0KGNvbG9yLCBjYW52YXNDdHgsIGZhdmljb25TaXplKTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3UGxheU9iamVjdChjb2xvciwgY2FudmFzQ3R4LCBmYXZpY29uU2l6ZSkge1xyXG4gICAgICAgIGNhbnZhc0N0eC5maWxsU3R5bGUgPSBjb2xvcjtcclxuICAgICAgICBjYW52YXNDdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY2FudmFzQ3R4Lm1vdmVUbygwLCAwKTtcclxuICAgICAgICBjYW52YXNDdHgubGluZVRvKDAsIGZhdmljb25TaXplKTtcclxuICAgICAgICBjYW52YXNDdHgubGluZVRvKGZhdmljb25TaXplLCBmYXZpY29uU2l6ZS8yKTtcclxuICAgICAgICBjYW52YXNDdHguZmlsbCgpO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCB7RmF2aWRlb01vZGV9IGZyb20gXCIuL0ZhdmlkZW9Nb2RlXCI7XHJcbmltcG9ydCB7Q29sb3J9IGZyb20gXCIuLi8uLi9VdGlsL0NvbG9yXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUmVjb2xvck1vZGUgZXh0ZW5kcyBGYXZpZGVvTW9kZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihmcHMsIGNvbG9yVHlwZSkge1xyXG4gICAgICAgIHN1cGVyKGZwcyk7XHJcbiAgICAgICAgdGhpcy5jb2xvclR5cGUgPSBjb2xvclR5cGU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHNldCB0aGUgY2FudmFzIGJhc2VkIG9uIHRoZSBvcmlnaW5hbCBmYXZpY29uIHdoaWNoIGNhbiBiZSByZWNvbG9yZWQuXHJcbiAgICAgKiBAcGFyYW0gZmF2aWNvblxyXG4gICAgICovXHJcbiAgICBzZXRGYXZpY29uKGZhdmljb24pIHtcclxuICAgICAgICBsZXQgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuICAgICAgICBsZXQgb25JbWFnZUxvYWRlZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XHJcbiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IGltZy5uYXR1cmFsV2lkdGg7XHJcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBpbWcubmF0dXJhbFdpZHRoO1xyXG4gICAgICAgICAgICBsZXQgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGltZywgMCwgMCk7XHJcbiAgICAgICAgICAgIHRoaXMuZmF2aWNvbkNhbnZhc0N0eCA9IGNvbnRleHQ7XHJcbiAgICAgICAgICAgIHRoaXMuZmF2aWNvbkNhbnZhcyA9IGNhbnZhcztcclxuICAgICAgICB9O1xyXG4gICAgICAgIGltZy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBvbkltYWdlTG9hZGVkLmJpbmQodGhpcykpO1xyXG4gICAgICAgIGltZy5zcmMgPSBmYXZpY29uLmhyZWY7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIHRvIGJlIHJlbmRlcmVkIGZyYW1lIGZvciBGYXZpZGVvTW9kZVZpZGVvLlxyXG4gICAgICogQHBhcmFtIHZpZGVvXHJcbiAgICAgKiBAcGFyYW0gY2FudmFzXHJcbiAgICAgKiBAcGFyYW0gY2FudmFzQ3R4XHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICBnZXRGYXZpY29uRnJhbWUoaW5wdXQsIGNhbnZhcywgY2FudmFzQ3R4LCBmYXZpY29uKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmZhdmljb25DYW52YXNDdHgpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRGYXZpY29uKGZhdmljb24pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gZHJhdyB2aWRlbyBmcmFtZSBvbiB0byBvcmlnaW5hbCBzaXplIGZhdmljb25DYW52YXNcclxuICAgICAgICBsZXQgY2FudmFzMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgICAgIGNhbnZhczIud2lkdGggPSBpbnB1dC52aWRlby52aWRlb1dpZHRoO1xyXG4gICAgICAgIGNhbnZhczIuaGVpZ2h0ID0gaW5wdXQudmlkZW8udmlkZW9IZWlnaHQ7XHJcbiAgICAgICAgbGV0IGNhbnZhc0N0eDIgPSBjYW52YXMyLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgY2FudmFzQ3R4Mi5kcmF3SW1hZ2UoaW5wdXQuZ2V0U291cmNlKCksIDAsIDAsIGNhbnZhczIud2lkdGgsIGNhbnZhczIuaGVpZ2h0KTtcclxuICAgICAgICBsZXQgcGl4ZWxDb2xvciA9IHRoaXMuZ2V0Q29sb3IoY2FudmFzMiwgY2FudmFzQ3R4Mik7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5mYXZpY29uQ2FudmFzQ3R4KSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUud2FybihcImZhdmljb24gbm90IHlldCByZWFkeVwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZmF2aWNvbkNhbnZhc0N0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBcInNvdXJjZS1pblwiO1xyXG4gICAgICAgIHRoaXMuZmF2aWNvbkNhbnZhc0N0eC5maWxsU3R5bGUgPSBwaXhlbENvbG9yO1xyXG4gICAgICAgIHRoaXMuZmF2aWNvbkNhbnZhc0N0eC5maWxsUmVjdCgwLCAwLCB0aGlzLmZhdmljb25DYW52YXMud2lkdGgsIHRoaXMuZmF2aWNvbkNhbnZhcy5oZWlnaHQpO1xyXG4gICAgICAgIHRoaXMuZmF2aWNvbkNhbnZhc0N0eC5maWxsKCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLmZhdmljb25DYW52YXMudG9EYXRhVVJMKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGdldENvbG9yKGNhbnZhcywgY3R4KSB7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLmNvbG9yVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiYXZlcmFnZVwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIENvbG9yLmdldEF2ZXJhZ2VDb2xvcihjYW52YXMsIGN0eCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImRvbWluYW50XCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQ29sb3IuZ2V0RG9taW5hbnRDb2xvcihjYW52YXMsIGN0eCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufSIsImV4cG9ydCBjbGFzcyBWaWRlb0lucHV0IHtcclxuICAgIGNvbnN0cnVjdG9yKHZpZGVvKSB7XHJcbiAgICAgICAgdGhpcy52aWRlbyA9IHZpZGVvO1xyXG4gICAgfVxyXG4gICAgZ2V0U291cmNlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZpZGVvO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHtWaWRlb0lucHV0fSBmcm9tIFwiLi9WaWRlb0lucHV0XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgV2ViVlRUSW5wdXQgZXh0ZW5kcyBWaWRlb0lucHV0IHtcclxuICAgIGNvbnN0cnVjdG9yKHZpZGVvLCB3ZWJWVFRVcmwpIHtcclxuICAgICAgICBzdXBlcih2aWRlbyk7XHJcbiAgICAgICAgdGhpcy53ZWJWVFRVcmwgPSB3ZWJWVFRVcmw7XHJcbiAgICAgICAgdGhpcy5wYXJzZVdlYlZUVCh3ZWJWVFRVcmwpO1xyXG4gICAgfVxyXG4gICAgcGFyc2VXZWJWVFQod2ViVlRUVVJMKSB7XHJcbiAgICAgICAgY29uc3QgdnR0anMgPSByZXF1aXJlKFwidnR0LmpzXCIpO1xyXG4gICAgICAgIGNvbnN0IHBhcnNlciA9IG5ldyB2dHRqcy5XZWJWVFQuUGFyc2VyKHdpbmRvdywgdnR0anMuV2ViVlRULlN0cmluZ0RlY29kZXIoKSk7XHJcbiAgICAgICAgcGFyc2VyLm9uY3VlID0gZnVuY3Rpb24oY3VlKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGN1ZSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2cocGFyc2VyKTtcclxuICAgICAgICBsZXQgeGh0dHAgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICB4aHR0cC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PSA0ICYmIHRoaXMuc3RhdHVzID09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgLy8gVHlwaWNhbCBhY3Rpb24gdG8gYmUgcGVyZm9ybWVkIHdoZW4gdGhlIGRvY3VtZW50IGlzIHJlYWR5OlxyXG4gICAgICAgICAgICAgICAgbGV0IGJvZHkgPSB4aHR0cC5yZXNwb25zZVRleHQ7XHJcbiAgICAgICAgICAgICAgICBwYXJzZXIucGFyc2UoYm9keSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHhodHRwLm9wZW4oXCJHRVRcIiwgd2ViVlRUVVJMLCB0cnVlKTtcclxuICAgICAgICB4aHR0cC5zZW5kKCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQge0ZhdmlkZW99IGZyb20gJy4vRmF2aWRlby9GYXZpZGVvJztcclxuaW1wb3J0IHtWaWRlb01vZGV9IGZyb20gXCIuL0ZhdmlkZW8vRmF2aWRlb01vZGUvVmlkZW9Nb2RlXCI7XHJcbmltcG9ydCB7UGxheUljb25Nb2RlfSBmcm9tIFwiLi9GYXZpZGVvL0ZhdmlkZW9Nb2RlL1BsYXlJY29uTW9kZVwiO1xyXG5pbXBvcnQge1JlY29sb3JNb2RlfSBmcm9tIFwiLi9GYXZpZGVvL0ZhdmlkZW9Nb2RlL1JlY29sb3JNb2RlXCI7XHJcbmltcG9ydCB7VmlkZW9JbnB1dH0gZnJvbSBcIi4vRmF2aWRlby9GYXZpZGVvSW5wdXQvVmlkZW9JbnB1dFwiO1xyXG5pbXBvcnQge1dlYlZUVElucHV0fSBmcm9tIFwiLi9GYXZpZGVvL0ZhdmlkZW9JbnB1dC9XZWJWVFRJbnB1dFwiO1xyXG5cclxud2luZG93LkZhdmlkZW8gPSBGYXZpZGVvO1xyXG53aW5kb3cuVmlkZW9Nb2RlID0gVmlkZW9Nb2RlO1xyXG53aW5kb3cuUGxheUljb25Nb2RlID0gUGxheUljb25Nb2RlO1xyXG53aW5kb3cuUmVjb2xvck1vZGUgPSBSZWNvbG9yTW9kZTtcclxud2luZG93LlZpZGVvSW5wdXQgPSBWaWRlb0lucHV0O1xyXG53aW5kb3cuV2ViVlRUSW5wdXQgPSBXZWJWVFRJbnB1dDsiXSwic291cmNlUm9vdCI6IiJ9